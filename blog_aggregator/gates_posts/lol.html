<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <div class="col-9">
            
                <div>
                    <div class="TGN_site_Articlecollumn">
<div class="TGN_site_Article_top">
<script>
    var ww = $(window).width();
    var wh = $(window).height();
    $(document).ready(function () {
        setTimeout(getCommentCount2, 100);
        setTimeout(getCommentCount2, 1000);
        setTimeout(getCommentCount2, 3000);
        $("#article_top_metricsItem_bookmark").click(function () {
            TGN_closeDropMenus();
            TGN_toggleArticleBookmark($(this).attr("data-articleid"));
        });
        $("#article_top_metricsItemComment").click(function () {
            setTimeout(function () { delayScrollToCommentSection("", "") }, 0);
        });
        TGN_ColorBookmarks();
        $(".slideheader_articleDHtitle").html($(".article_top_head").html());
    });
    $(window).on('load', function () {
        TGN_article_LoadImages();
    });
    $(window).resize(function () {
        TGN_article_LoadImages();
    });
    var throttled = TGN_throttle(TGN_article_LoadImages, 1000);
    $(".TGN_site").scroll(throttled);
    function TGN_article_LoadImages() {
        //console.log("TGN_article_LoadImages");
        $(".TGN_site_Article").find(".article_top_articlehero").find("img").each(function (i, obj) {
            if ($(this).attr("data-url") != "set") {
                TGN_site_isOnScreen($(this), $(this), "img");
            }
        });
    }
    var commentTry = 0;
    function getCommentCount2() {
        var i = GNCommActiveCommentsNumber;//parseInt($(".GNCommMessageDisplayTBody:visible").length);
        if (i == 0) {
            $("#article_top_metricsItemComment").html("" + (0 + i));
            $("#article_top_metricsItemComment").css("display", "none");
        } else {
            $("#article_top_metricsItemComment").html("" + (0 + i));
            $("#article_top_metricsItemComment").css("display", "inline-block");
        }
    }
</script>
<div class="article_top_subhead">Ripple effect</div>
<div class="article_top_head">As COVID-19 spreads, don’t lose track of malaria</div>
<div class="article_top_description">The pandemic is a reminder of why we need to eradicate this mosquito-borne disease.</div>
<div class="article_top_byline">By <span class="article_top_bylinebold">Bill Gates</span></div><span class="article_top_chim"> | </span>
<div class="article_top_dateline">August 17, 2020 <span class="article_top_metric_readtime"><i class="icon-dot"></i> 3 minute read</span></div>
<div class="article_top_articlehero"><img class="article_top_DMT_Image" data-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_article_1200x564_01.ashx" data-src-mobile="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_article_1200x564_01.ashx" data-src-tablet="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_article_1200x564_01.ashx" data-url="set" src="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_article_1200x564_01.ashx"/></div>
<div class="TGN_site_Innercollumn">
<div class="article_top_metrics">
<div class="article_top_metricsItem article_top_metricsItemCircle"><a href="https://www.facebook.com/sharer/sharer.php?u=https://www.gatesnotes.com/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria?WT.mc_id=00_00_00_share_fb&amp;title=As COVID-19 spreads, don’t lose track of malaria&amp;quote=The pandemic is a reminder of why we need to eradicate this mosquito-borne disease." target="_blank"><i class="icon-facebook"></i></a></div>
<div class="article_top_metricsItem article_top_metricsItemCircle"><a href="https://twitter.com/intent/tweet?text=As+COVID-19+spreads%2c+don%e2%80%99t+lose+track+of+malaria&amp;url=https://gatesnot.es/3kywaBb?WT.mc_id=00_00_00_share_tw&amp;via=billgates" target="_blank"><i class="icon-twitter"></i></a></div>
<div class="article_top_metricsItem article_top_metricsItemCircle"><a href="https://www.linkedin.com/shareArticle?mini=true&amp;source=GatesNotes&amp;url=https://www.gatesnotes.com/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria?WT.mc_id=00_00_00_share_li&amp;title=As COVID-19 spreads, don’t lose track of malaria" target="_blank"><i class="icon-linkedin"></i></a></div>
<div class="article_top_metricsItem article_top_metricsItemCircle"><a href="mailto:?subject=From%20GatesNotes%2Ecom%3A%20As%20COVID-19%20spreads%2C%20don%E2%80%99t%20lose%20track%20of%20malaria&amp;body=Here%20is%20a%20post%20from%20Bill%20Gates%27s%20blog%20that%20might%20interest%20you%3A%0D%0A%0D%0A%E2%80%94%20As%20COVID-19%20spreads%2C%20don%E2%80%99t%20lose%20track%20of%20malaria%20%E2%80%94%0D%0AThe%20pandemic%20is%20a%20reminder%20of%20why%20we%20need%20to%20eradicate%20this%20mosquito-borne%20disease.%0D%0Ahttps%3A%2F%2Fwww.gatesnotes.com%2FHealth%2FAs-COVID-19-spreads-do-not-lose-track-of-malaria?WT.mc_id=00_00_00_share_em" target="_blank"><i class="icon-mail"></i></a></div>
<div class="article_top_metricsItem GNI_UserOnly" data-articleid="a554d38f-baaa-4e81-89a3-941a2d88c35f" id="article_top_metricsItem_bookmark" style="display: none;"><svg class="article_top_metricsItemCSVG" height="25px" stroke="none" viewbox="0 0 16 25" width="16px"><g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1"><g fill="none" stroke="#666"><path d="M0.5,0.5 L0.5,24.5 L8.1716264,19.5137775 L15.5,24.4404006 L15.5,0.5 L0.5,0.5 Z" fill="none" style="fill: none;"></path></g></g></svg></div>
<div class="article_top_metricsItem article_top_metricsItemComment" id="article_top_metricsItemComment" style="display: none;">0</div>
</div>
<div class="article_top_line"></div>
</div>
</div>
<div class="TGN_site_Article_body" id="TGN_site_Article_body">
<div class="TGN_Article_ReadTimeSection">
<style>
    @media all and (min-width: 1021px) {
        /*Desktop only*/
    }

    @media all and (min-width: 681px) {
        /*Desktop and Tablet*/
    }

    @media all and (min-width: 681px) and (max-width: 1020px) {
        /*Tablet only*/
    }

    @media all and (max-width: 1110px) {
    }

    @media all and (max-width: 1020px) {
        /*Mobile and Tablet*/
    }

    @media all and (max-width: 850px) {
    }

    @media all and (max-width: 680px) {
        /*Mobile only*/
    }
</style>
<style>



    .commentstitle {
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-weight: 300;
        font-size: 24px;
        line-height: 30px;
    }

    .commentsentry {
        height: 54px;
        border: 1px solid rgba(0,0,0,0.12);
        display: flex;
        align-items: center;
        justify-content: flex-start;
        margin-bottom: 48px;
        margin-top: 18px;
    }

    .commentsentryplus {
        color: rgba(0,0,0,0.12);
        font-size: 40px;
        margin-left: 16px;
        margin-right: 16px;
    }

    .commentsentrytext {
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 16px;
        line-height: 19px;
        color: #cccccc;
    }

    .commentsPI {
        background: gray;
        width: 30px;
        height: 30px;
        border-radius: 3000px;
    }

    .commentsLINE {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        margin-top: 0px;
        margin-bottom: 10px;
    }

    .commentsNAME {
        margin-left: 16px;
        margin-right: 13px;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-weight: 300;
        font-size: 18px;
        line-height: 23px;
    }

    .commentsTIME {
        color: #CCCCCC;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 16px;
        line-height: 20px;
    }

    .commentsSPACE {
        min-width: 45px !important;
        background: white;
        height: 0px;
    }

    .commentsCOMMENT {
        color: #303030;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 16px;
        line-height: 20px;
    }

    .commentsREPLY {
        color: #757575;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 12px;
        line-height: 14px;
        margin-right: 14px;
        margin-left: 16px;
    }

    .commentsREPORT {
        color: #CCCCCC;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 12px;
        line-height: 14px;
        margin-right: 14px;
        margin-left: 16px;
    }

    .commentsH {
        color: #e15b6c;
    }

    .commentsHoff {
        color: #cccccc;
    }

    .commentsSUB {
        margin-top: 0px;
    }

    .commentsVLINE {
        width: 2px;
        background: rgba(0,0,0,0.12);
        margin-right: 15px;
        min-height: 100%;
        height: 100%;
    }

    .commentsMAIN {
        margin-bottom: 30px;
        margin-top: 30px;
    }

    .ReadTheseModule .TGN_site_ArticleItem {
        width: 32%;
    }

    .TGN_site_Hline {
        /*display:none;*/
    }

    /*MEDIA*/

    @media all and (max-width: 960px) {


        .ReadTheseModule .TGN_site_Titledsectionsbottom {
            margin-top: 17px;
            width: 130%;
        }

        .ReadTheseModule .TGN_site_Titledsections {
            overflow: hidden;
        }

        .ReadTheseModule .articletitle {
            font-size: 18px;
            line-height: 23px;
            margin-top: 10px;
            margin-bottom: 6px;
        }

        .ReadTheseModule .articledescription {
            font-size: 16px;
            line-height: 18px;
        }

        .commentsNAME {
            font-size: 16px;
            line-height: 20px;
        }

        .commentsCOMMENT {
            font-size: 16px;
            line-height: 19px;
        }
    }


    @media all and (max-width: 680px) {
        .ReadTheseModule .TGN_site_Titledsectionsbottom {
            margin-top: 17px;
            width: 200%;
        }
    }
</style>
<script>
    var ww = $(window).width();
    var wh = $(window).height();
    $(document).ready(function () {
        SizeContentToScreen();
        //$(".TGN_site_Bodycopy").append($(".articleContent"));
    });
    $(window).resize(function () {
        SizeContentToScreen();
    });
    window.onscroll = function () { SizeContentToScreen() };
    function SizeContentToScreen() {
        ww = $(window).width();
        wh = $(window).height();
        var scrollTopContentArea = $(".TGN_site").scrollTop();
        var scrollTopReadTheseModule = $(".TGN_RelatedContent_Holder").offset();
        if (scrollTopContentArea + (wh * .75) > scrollTopReadTheseModule.top) {
            $(".HeaderShareLinks").css("display", "block");
        } else {
            $(".HeaderShareLinks").css("display", "none");
        }
        $(".commentsVLINE").each(function (i, obj) {
            $(this).css("height", $(this).parent().height() + "px");
        });
    }
</script>
<div class="TGN_site_Innercollumn">
<div class="TGN_site_Bodycopy" id="TGN_site_Bodycopy">
</div>
</div>
<p>Mosquitoes don’t practice social distancing. They don’t wear masks, either.</p>
<p>As COVID-19 spreads across the globe, it’s important to remember that the <a href="/Health/Most-Lethal-Animal-Mosquito-Week" target="_blank">world’s deadliest animal</a> hasn’t taken a break during this pandemic. </p>
<p>Mosquitoes are out biting every night, infecting millions of people with malaria—a disease that kills a child every other minute of every day. </p>
<!-- [EMBEDED VIDEO ITEM] -->
<style>
    .gnYoutube_VR_Outer {
        width: 100%;
        margin-left: 0%;
        padding: 0%;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-weight: 300;
        font-size: 16px;
        line-height: 18px;
    }

    .gnYoutube_VR_SpanT1 {
        font-weight: 600;
    }

    .gnYoutube_VR_Span {
        margin-top: 4px;
        margin-bottom: 8px;
        max-width: 760px;
    }
</style>
<div class="gnYoutube_VR_Outer" data-vr="False">
<div class="gnYoutubeHolder videoEmbed" id="gnYoutubeHolder0">
<iframe data-vr="False" data-yt="UOHHAzx2nBE" frameborder="0" height="450" id="whateverIDUOHHAzx2nBE" src="https://www.youtube.com/embed/UOHHAzx2nBE?rel=0&amp;modestbranding=1&amp;playsinline=1&amp;color=white&amp;showinfo=0&amp;enablejsapi=1&amp;origin=https://www.gatesnotes.com&amp;enablejsapi=1&amp;origin=https://www.gatesnotes.com" width="800"></iframe>
</div>
</div>
<script>

    $(window).on('load', function () {
        onYouTubeIframeAPIReady();
    })
</script>
<p>Most of these deaths occur in the poorest countries with the weakest health systems. Now, they face the added burden of halting the coronavirus. And in many of these countries, COVID-19 cases are likely to peak at the worst possible time: the height of their malaria transmission seasons.</p>
<p>During the 2014 Ebola outbreak in West Africa, endemic diseases like malaria, tuberculosis and HIV/AIDS contributed to many more deaths than Ebola because the epidemic disrupted local health care systems. Health officials fear the same could happen with COVID-19.</p>
<p>Lockdowns and social distancing regulations have already made it difficult for health workers to provide malaria prevention and treatment in many parts of Africa. There have also been interruptions to supplies of essential malaria tools—like bed nets, anti-malaria medicines, and rapid diagnostic tests—that have been instrumental in cutting malaria deaths by more than half since 2000.</p>
<p>Now that incredible progress may be in jeopardy. A recent <a href="https://www.who.int/publications/i/item/the-potential-impact-of-health-service-disruptions-on-the-burden-of-malaria" rel="noopener noreferrer" target="_blank">modeling analysis</a> from the World Health Organization found that if essential malaria prevention and treatment services are severely disrupted by the pandemic, malaria deaths in sub-Saharan Africa would reach mortality levels not seen since 2000. That year, an estimated 764,000 people died from malaria in Africa, most of them children.</p>
<p>There is not a choice between saving lives from COVID-19 versus saving lives from malaria. The world must enable these countries to do both. Health officials urgently need to step up to the challenge of controlling the pandemic while also making sure that malaria, as well as other diseases like HIV and tuberculosis, are not neglected.</p>
<p>For malaria, that means continuing with campaigns to deliver long-lasting insecticide-treated bed nets, control mosquito populations with indoor spraying, and provide preventive treatment for pregnant women and children in high-risk communities. At the same time, health workers must deliver these services while not putting their communities at risk of the coronavirus.</p>
<p>The good news is that many countries are finding ways to maintain key malaria programs even in the face of the pandemic. In Benin, a country in West Africa with one of the highest burdens of malaria in the world, the government teamed up with Catholic Relief Services and our foundation this year to develop a new, innovative way to <a href="/Health/Bed-nets-for-Benin" target="_blank">distribute bed nets across the country</a>. Using smartphones, real time data collection, and satellite mapping, Benin has helped ensure that all families, no matter where they live, will be protected by a bed net at night. And scientists haven’t paused research efforts to find new ways to prevent malaria and control mosquito populations, like those underway at <a href="/Health/Mosquito-City" target="_blank">“Mosquito City”</a> in Tanzania. </p>
<p>What’s exciting to see is how some existing malaria programs are also helping to control COVID-19. For example, emergency operations centers that track outbreaks of malaria in Africa are now being used to monitor the spread of COVID-19. By tracking the shape and movement of the pandemic across countries and regions, health officials are also able to deepen their understanding of health conditions in communities that will, in turn, help improve their responses to malaria in those areas.</p>
<p>The progress the world has made against malaria is one of the greatest global health success stories. The COVID-19 pandemic only reinforces why eradicating malaria is so essential. So long as malaria exists, it will continue to flare up and burden the most vulnerable communities. Ridding the world of preventable, treatable diseases like malaria will save millions of lives and lead to healthier, more prosperous communities. And that will make them better prepared to confront any new health challenges like COVID-19 in the future.</p>
<script type="text/javascript">
    TGN_Page_Style = "article";
    var listOfObjects = [];
    var mainIIG = 0;
    var IsAnAL2016 = false;
    var HasDownloadMenu = false;
    $(document).ready(function () {
        //console.log("ArticleJS_Ready");
        $(".bottom").css("display", "block");
        IsAnAL2016 = $(".al2016Article").is(":visible");
        HasDownloadMenu = $('#AL2016DownloadMenuData').is(":visible");
        adjustPrevNext();
        getCommentCount();
        var referrer = document.referrer;
        //console.log(referrer);
        isAnArticlePage = true;
        formatInlineElems();
        // move progbar
        $(".TGNBannersHolder").prepend($(".TGNArticleProgBar"));

    });
        $(window).on('load', function () {
            TGN_article_SetReadTime();
        });
    function TGN_article_SetReadTime() {
        $(".TGN_Article_ReadTimeSection").each(function (i, obj) {
            var text = "";
            if ($(this).hasClass("TGN_LS_SubArticle")) {
                var element = obj;
                text = element.innerText || element.textContent;
                var article_top_metric_WordCount = WordCount(text);
                var article_top_metric_readtime = Math.ceil(article_top_metric_WordCount/265)
                $(this).find(".article_top_metric_readtime").html("<i class='icon-dot'></i> " + article_top_metric_readtime + " minute read");
            } else {
                var element = obj;
                text = element.innerText || element.textContent;
                var article_top_metric_WordCount = WordCount(text);
                var article_top_metric_readtime = Math.ceil(article_top_metric_WordCount/265)
                $(this).parent().parent().find(".article_top_metric_readtime").html("<i class='icon-dot'></i> " + article_top_metric_readtime + " minute read");
            }
        });
        }
        function WordCount(str) {
            return str.split(" ").length;
        }
    $(window).resize(function () {
        adjustPrevNext();
        adjustPQ();
        if ($('.InlineImageGalleryBase').length) {
            adjustIIG();
        }
    });
    window.onorientationchange = function () {

        var orientation = window.orientation;

        // Look at the value of window.orientation:

        if (orientation === 0) {

            // iPad is in Portrait mode.

        }

        else if (orientation === 90) {

            // iPad is in Landscape mode. The screen is turned to the left.

        }


        else if (orientation === -90) {

            // iPad is in Landscape mode. The screen is turned to the right.

        }
        if ($('.InlineImageGalleryBase').length) {
            adjustIIG();
        }

    }
    function iignext() {
        var ww = $(window).width();
        mainIIG += 1;
        if (mainIIG > listOfObjects.length - 1) { mainIIG = 0; }
        $('.InlineImageGalleryMain').html(listOfObjects[mainIIG].outerHTML);
        nIIG = mainIIG + 1;
        if (nIIG > listOfObjects.length - 1) { nIIG = 0; }
        $('.InlineImageGalleryNextImage').html(listOfObjects[nIIG].outerHTML);
        pIIG = mainIIG - 1;
        if (pIIG < 0) { pIIG = listOfObjects.length - 1; }
        $('.InlineImageGalleryPrevImage').html(listOfObjects[pIIG].outerHTML);
        //$('.InlineImageGalleryText').html("<span class='iigPrevArrow'>&lt;&lt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+(mainIIG+1)+"&nbsp;&nbsp;of&nbsp;&nbsp;"+listOfObjects.length+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='iigNextArrow'>&gt;&gt;</span><br><br><b>"+listOfObjects[0].dataset.caption1+"</b><br>"+listOfObjects[mainIIG].attributes.data-description.value+"<br>");

        var capt01 = listOfObjects[mainIIG].getAttribute('data-caption1');//listOfObjects[mainIIG].dataset.caption1
        var capt02 = listOfObjects[mainIIG].getAttribute('data-caption2');
        if (capt01 == null) { capt01 = ""; }
        if (capt02 == null) { capt02 = ""; }
        if (ww < 800) {
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
        } else {
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
        }

        $('.iigNextArrow').click(function () {
            iignext();
        })
        $('.iigPrevArrow').click(function () {
            iigprev();
        })
        adjustIIG();
    }
    function iigprev() {
        var ww = $(window).width();
        mainIIG -= 1;
        if (mainIIG < 0) { mainIIG = listOfObjects.length - 1; }
        $('.InlineImageGalleryMain').html(listOfObjects[mainIIG].outerHTML);
        nIIG = mainIIG + 1;
        if (nIIG > listOfObjects.length - 1) { nIIG = 0; }
        $('.InlineImageGalleryNextImage').html(listOfObjects[nIIG].outerHTML);
        pIIG = mainIIG - 1;
        if (pIIG < 0) { pIIG = listOfObjects.length - 1; }
        $('.InlineImageGalleryPrevImage').html(listOfObjects[pIIG].outerHTML);

        var capt01 = listOfObjects[mainIIG].getAttribute('data-caption1');//listOfObjects[mainIIG].dataset.caption1
        var capt02 = listOfObjects[mainIIG].getAttribute('data-caption2');
        if (capt01 == null) { capt01 = ""; }
        if (capt02 == null) { capt02 = ""; }
        if (ww < 800) {
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
        } else {
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
        }

        $('.iigNextArrow').click(function () {
            iignext();
        })
        $('.iigPrevArrow').click(function () {
            iigprev();
        })
        adjustIIG();
    }
    function adjustPQ() {
        var pqW = $('.suspendedR').width();
        var pqH = $('.suspendedR').height();
        $('.pqrq').css("margin-left", pqW - 60);
        $('.pqrq').css("margin-top", pqH - 110);
    }
    function adjustIIG() {
        var ww = $(window).width();
        var iigW = $('.InlineImageGalleryBase').width();
        //console.log(ww);
        //if (iigW<512){iigW=512;}
        var iigMW = iigW;//-4
        var iigMH = iigMW * 0.666666667;
        var iigOL = $('.InlineImageGalleryBase').offset().left;
        var iigACOL = $('.articleContent').offset().left;
        $('.InlineImageGalleryPre').css("left", iigOL - iigACOL);
        //$('.InlineImageGalleryBase').css("width",iigW);
        $('.InlineImageGalleryMain').css("width", iigMW);
        $('.InlineImageGalleryMain').css("height", "auto");
        $('.InlineImageGalleryPrev').css("width", (iigMW + 10) / 2);
        $('.InlineImageGalleryPrev').css("top", (-iigMH / 2 - 20));
        $('.InlineImageGalleryNext').css("width", (iigMW + 10) / 2);
        $('.InlineImageGalleryNext').css("left", (iigMW + 10) - 57);
        $('.InlineImageGalleryNext').css("top", ((-iigMH / 2 - 20) - 70));
        $('.InlineImageGalleryPrevImage').css("left", ((iigMW + 10) / 2) - 152);
        $('.InlineImageGalleryBase').css("height", iigMH);
        $('.InlineImageGalleryText').css("width", "auto");
        //if(ww<980){
        //    //$('.InlineImageGalleryText').css("left",iigMW-(((iigMW-35))-0));
        //}else{
        //    //$('.InlineImageGalleryText').css("left",iigMW-(((iigMW-35))-0));
        //    //$('.InlineImageGalleryText').css("width",((iigMW+10)/2)-152);
        //    //$('.InlineImageGalleryText').css("left",iigMW-(((iigMW+10)/2)-152));
        //}
        if (ww < 800) {
            //$('.IIGheadline').text("PHOTO GALLERY");
            $('.IIGheadline').css("top", 5);
            //$('.IIGcountIcon').css("left",iigMW/2-60-41);
            //$('.IIGheadline').css("left",iigMW/2-41);
            $('.IIGheadline').css("width", iigMW - 25);
            $('.InlineImageGalleryText').css("height", $('.IIGheadline').height() + 15);
            $('.InlineImageGalleryBase').css("height", $('.IIGheadline').height() + iigMH + 20);
        } else {
            if (mainIIG < 0) { mainIIG = listOfObjects.length - 1; }
            $('.InlineImageGalleryMain').html(listOfObjects[mainIIG].outerHTML);
            nIIG = mainIIG + 1;
            if (nIIG > listOfObjects.length - 1) { nIIG = 0; }
            $('.InlineImageGalleryNextImage').html(listOfObjects[nIIG].outerHTML);
            pIIG = mainIIG - 1;
            if (pIIG < 0) { pIIG = listOfObjects.length - 1; }
            $('.InlineImageGalleryPrevImage').html(listOfObjects[pIIG].outerHTML);
            var capt01 = listOfObjects[mainIIG].getAttribute('data-caption1');//listOfObjects[mainIIG].dataset.caption1
            var capt02 = listOfObjects[mainIIG].getAttribute('data-caption2');
            if (capt01 == null) { capt01 = ""; }
            if (capt02 == null) { capt02 = ""; }
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
            $('.IIGheadline').css("width", iigMW - 200);
            var headH = $('.IIGheadline').height();
            if (headH == 15) {
                $('.IIGheadline').css("top", 17);
            } else if (headH == 30) {
                $('.IIGheadline').css("top", 9);
            } else if (headH == 45) {
                $('.IIGheadline').css("top", 2);
            } else {
                $('.IIGheadline').css("top", 17);
            }
            $('.InlineImageGalleryText').css("height", 50);

            //console.log("h: "+$('.IIGheadline').height()+" w: "+$('.IIGheadline').width());
        }
    }
    // ADD SUPPORT FOR INLINE INTERACTIVE FILES
    function formatInlineElems() {
        // related content //small-12 medium-12 large-12 columns
        var listOfRelated = [];
        $('.promounit').each(function (i, obj) {
            listOfRelated.push(obj);
        });
        //console.log(listOfRelated);
        // CTA
        $('.bgcta').each(function (i, obj) {
            //console.log($(this).children().eq(1).prop('src'));
            $(this).after("<div class='suspendedCTA' id='bgcta" + i + "'><a href='" + $(this).attr("data-link") + "'><div class='suspendedBCTA' id='bgctab" + i + "'>" + $(this).children().eq(0).clone().wrap('<p>').parent().html() + "</div></a></div>");
            var imgOn = $(this).children().eq(1).prop('src');
            var imgOff = $(this).children().eq(0).prop('src');
            $("#bgctab" + i).mouseenter(function () {
                $(this).find('img').attr("src", "" + imgOn);
            }).mouseleave(function () {
                $(this).find('img').attr("src", "" + imgOff);
            });
            $(this).remove();
            $("#bgctab" + i).children(0).attr("width", "100%");
        });
        // marginalia right
        $('.bgsbnoter').each(function (i, obj) {
            var ww = $(window).width();
            if (ww > 980) {
                $(this).after("<div class='suspendedNOTER' id='gbli" + i + "'><div class='suspendedNOTERB' id='bgsbnoter" + i + "'>" + $(this).html() + "</div></div>");
                $(this).remove();
                $("#bgsbnoter" + i).children(0).attr("width", "100%");
                $("#bgsbnoter" + i).css("position", "relative");
                $("#bgsbnoter" + i).css("top", $(this).attr("offsetY"));
                $("#bgsbnoter" + i).css("left", $(this).attr("offsetX"));
            } else {
                $(this).remove();
            }
        });
        // marginalia left
        $('.bgsbnotel').each(function (i, obj) {
            var ww = $(window).width();
            if (ww > 980) {
                $(this).after("<div class='suspendedNOTEL' id='gbli" + i + "'><div class='suspendedNOTELB' id='bgsbnotel" + i + "'>" + $(this).html() + "</div></div>");
                $(this).remove();
                $("#bgsbnotel" + i).children(0).attr("width", "100%");
                $("#bgsbnotel" + i).css("position", "relative");
                $("#bgsbnotel" + i).css("top", $(this).attr("offsetY"));
                $("#bgsbnotel" + i).css("left", $(this).attr("offsetX"));
            } else {
                $(this).remove();
            }
        });
        // left image
        $('.bgli').each(function (i, obj) {
            //$(this).after( "<div class='suspended' id='gbli"+i+"'><div class='suspendedB' id='gblib"+i+"'>"+listOfRelated[0].outerHTML+"</div></div>" ); // related content
            $(this).after("<div class='suspended' id='gbli" + i + "'><div class='suspendedB' id='gblib" + i + "'>" + $(this).html() + "</div></div>");
            $(this).remove();
            $("#gblib" + i).children(0).attr("width", "100%");
        });
        // block quote
        $('.bgbq').each(function (i, obj) {
            var PQAtext = $(this).find(".bgbqa").html();
            $(this).find(".bgbqa").remove();
            var PQtext = $(this).html();
            //var s = PQtext.replace(/\u201C/g, "&nbsp;<span class='pqqq'>&ldquo;</span>");
            //var s2 = s.replace(/\u201D/g, "<span class='pqqq'>&rdquo;</span>");
            $(this).after("<div class='ShareableQuote_Holder'><div class='ShareableQuote_Text' data-sqinstance='" + i + "' data-sqtwittersharetext='' data-sqfacebooksharedescription='' data-sqfacebooksharelink='' data-sqfacebookshareimage=''><div class='ShareableQuote_Line'></div>" + PQtext + "</div><div class='ShareableQuote_Attrib'>" + PQAtext + "</div></div>");
            $(this).remove();
            //$(".articleContent p").css("z-index", "1");
            //$(".articleContent p").css("position", "relative");
        });
        // underline
        $('.TGNil_underline').each(function (i, obj) {
            $(this).css("border-bottom", "0px solid " + "#f5d840");//+$(this).attr("mycolor"));
            $(this).css("box-shadow", "inset 0 -5px 0 " + "#f5d840");//+$(this).attr("mycolor"));
            $(this).css("color", "inherit");
            $(this).css("-webkit-transition", "background .15s cubic-bezier(.33,.66,.66,1)");
            $(this).css("transition", "background .15s cubic-bezier(.33,.66,.66,1)");
        });
        // highlight
        $('.TGNil_highlight').each(function (i, obj) {
            $(this).css("border-bottom", "2px solid " + $(this).attr("mycolor"));
            $(this).css("box-shadow", "inset 0 -23px 0 " + $(this).attr("mycolor"));
            $(this).css("color", "inherit");
            $(this).css("-webkit-transition", "background .15s cubic-bezier(.33,.66,.66,1)");
            $(this).css("transition", "background .15s cubic-bezier(.33,.66,.66,1)");
        });
        // inline image gallery
        $('.bgiig').css("display", "block");//remove after testing
        $('.bgiig').each(function (i, obj) {
            $(this).children().each(function () {
                $(this).attr('style', 'height:auto!important;width:100%!important;');
                listOfObjects.push(this);
            });
            var capt01 = listOfObjects[0].getAttribute('data-caption1');//listOfObjects[0].dataset.caption1
            var capt02 = listOfObjects[0].getAttribute('data-caption2');
            if (capt01 == null) { capt01 = ""; }
            if (capt02 == null) { capt02 = ""; }
            //thumb.getAttribute('data-bigwidth')
            $(this).after("<div class='InlineImageGalleryPre'><div class='InlineImageGalleryPreThumb'><i class='galleryicon icon-gallery_2'></i></div><div class='InlineImageGalleryPreText'>PHOTO GALLERY</div></div><div class='InlineImageGalleryBase'><div class='InlineImageGalleryMain'>" + listOfObjects[0].outerHTML + "</div><div class='InlineImageGalleryPrev'></div><div class='InlineImageGalleryNext'></div><div class='InlineImageGalleryText'><div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>1&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span></div></div>");
            //$(this).after( "<div class='InlineImageGalleryPre'><div class='InlineImageGalleryPreThumb'><i class='galleryicon icon-gallery_2'></i></div><div class='InlineImageGalleryPreText'>PHOTO GALLERY</div></div><div class='InlineImageGalleryBase'><div class='InlineImageGalleryMain'>"+listOfObjects[0].outerHTML+"</div><div class='InlineImageGalleryPrev'></div><div class='InlineImageGalleryNext'></div><div class='InlineImageGalleryText'><div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>1&nbsp;&nbsp;of&nbsp;&nbsp;"+listOfObjects.length+"</div><span class='IIGheadline'>"+listOfObjects[0].dataset.caption1+" <span class='IIGheadline2'>"+listOfObjects[mainIIG].dataset.caption2+"</span></span></div></div>" );
            $(this).remove();
            //console.log(listOfObjects);
            //$('.articleContent').css("color","#F00");
        });
        var IIGlength = listOfObjects.length;
        //console.log(IIGlength);
        $('.InlineImageGalleryNext').click(function () {
            iignext();
        })
        $('.InlineImageGalleryPrev').click(function () {
            iigprev();
        })
        $('.iigNextArrow').click(function () {
            iignext();
        })
        $('.iigPrevArrow').click(function () {
            iigprev();
        })
        //
        if ($('.InlineImageGalleryBase').length) {
            adjustIIG();
        }
        //
        if ($('.suspendedR').length) {
            adjustPQ();
        }
        //$('.suspended').each(function (i, obj) {
        //    var thisW = $(this).width();
        //    var thisH = $(this).height();
        //    if(thisW>thisH){
        //        $(this).css("width",450);
        //    }
        //});

    }
    function getCommentCount() {
        var see = $(".disqusLink").text();
        if (see == "") {
            setTimeout(getCommentCount, 500);
        }
        else {
            var i = parseInt(see);
            $(".commentCount").each(function (ii, v) {
                $(v).text(i.toString());
            });

        }
    }
    var scrollwidthDU = function () {

        var inner = document.createElement('p');
        inner.style.width = "100%";
        inner.style.height = "200px";

        var outer = document.createElement('div');
        outer.style.position = "absolute";
        outer.style.top = "0px";
        outer.style.left = "0px";
        outer.style.visibility = "hidden";
        outer.style.width = "200px";
        outer.style.height = "150px";
        outer.style.overflow = "hidden";
        outer.appendChild(inner);

        document.body.appendChild(outer);
        var w1 = inner.offsetWidth;
        outer.style.overflow = 'scroll';
        var w2 = inner.offsetWidth;
        if (w1 == w2) w2 = outer.clientWidth;

        document.body.removeChild(outer);

        return (w1 - w2);

    }();
    function adjustPrevNext() {

        var hn = $(".nextText").height();
        var hp = $(".prevText").height();
        var h = Math.max(hn + 24, hp + 24);
        //console.log("prev " + hp + " next " + hn);
        $("#content_0_nextLink").css("height", h + "px");
        $("#content_0_prevLink").css("height", h + "px");
        //$(".nextText").css("padding-top", (((h-hn) / 2) + 8) + "px");
        //$(".prevText").css("padding-top", (((h-hp) / 2) + 8) + "px");

        $(".nextArrow").css("padding-top", (((h - 33) / 2)) + "px");
        $(".prevArrow").css("padding-top", (((h - 33) / 2)) + "px");
    }
    function doOmnitureEvent(event) {
        try {
            s.linkTrackVars = "events,eVar9";
            s.linkTrackEvents = "event11,event12,event13,event15";
            s.events = event;
            s.tl(true, 'o', 'article');
        } catch (e) {
            //console.log(e.message);
            //console.log(e.name);
        }
    }

    $(document).ready(function () {

        // Omniture Stuff
        var tagsLocation = $(".TGN_site_Footer").offset().top; // was tagsLocation
        var scrolledToTags = false;
        var scrolledToComments = false;
        var tgnbody = $(".TGN_site");
        $(".fbShareThis").click(function () {
            s.eVar9 = "facebook share";
            doOmnitureEvent("event11");
        });
        $(".twitterShareThis").click(function () {
            s.eVar9 = "twitter share";
            doOmnitureEvent("event12");
        });
        $(".TGN_site").scroll(function () {

            if (scrolledToTags === false) {
                if (tgnbody.height() + tgnbody.scrollTop() > tagsLocation) {
                    scrolledToTags = true;
                    doOmnitureEvent("event13");
                }
            }
            if (scrolledToComments === false) {
                if (tgnbody.scrollTop() > tagsLocation) {
                    scrolledToComments = true;
                    doOmnitureEvent("event15");
                }
            }
        });
    });

    $(document).ready(function () {
    });
</script></div>
</div>
<div class="TGN_site_Article_readnext">
<style>

#TGN_RelatedContent_ArticlesBox {
    display: flex;
    width: 100%;
    justify-content: space-between;
    align-items: flex-start;
}
.TGN_RelatedContent_Slide {
    width: 32%;
    display: none;
}
.TGN_RelatedContent_Slide:hover .TGN_RelatedContent_FeatureArticleRighttitle {
    text-decoration:underline;
}
.TGN_RelatedContent_Slide:nth-child(-n+3){
    display:block;
}
    .TGN_RelatedContent_Holder {
        margin-top: 40px;
        margin-bottom: 40px;
        padding: 0px;
    }

    .TGN_RelatedContent_Title {
        color: black;
        margin-left: 0px;
        margin-bottom: 8px;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-size: 32px;
        font-weight: 600;
        line-height: 28px;
        height: 38px;
        letter-spacing: 0.06px;
        display: flex;
    }

    .TGN_RelatedContent_Holder .TGN_site_Titledsectionstopright {
        display: none;
    }

    .TGN_RelatedContent_Holder .TGN_site_Moreitems {
        cursor: pointer;
        display: none;
    }

    .TGN_RelatedContent_Scroller {
        overflow-y: hidden;
        overflow-x: hidden;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .TGN_RelatedContent_RightArrow {
        display: none;
        text-align: center;
        font-size: 32px;
        cursor: pointer;
        color: black;
    }

    .TGN_RelatedContent_FeatureArticle {
        display: inline-block;
    }
.TGN_RelatedContent_FeatureArticleLink {
    display: flex;
    align-items: flex-start;
    align-content: flex-start;
    text-decoration: none;
    justify-content: flex-start;
    flex-flow: column;
}
.TGN_RelatedContent_FeatureArticleTop {
    width: 100%;
    display: block;
}
.TGN_RelatedContent_FeatureArticleRighttitle {
    color: #000000;
    font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
    font-weight: 700;
    font-size: 18px;
    line-height: 20px;
    margin-top: 10px;
    margin-bottom: 7px;
}
.TGN_RelatedContent_FeatureArticleRightblurb {
    margin-bottom: 2px;
    color: #404040;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-size: 14px;
    line-height: 18px;
    overflow-wrap: break-word;
}
    .TGN_RelatedContent_FeatureArticleRightbydate {
        color: black;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-size: 18px;
        line-height: 30px;
        font-weight: 400;
        display: none;
    }

    .TGN_RelatedContent_FeatureArticleRightdate {
        display: none;
    }

    #TGN_RelatedContent_FeatureArticleLeft {
        width: 47.9%;
    }

    #TGN_RelatedContent_FeatureArticleRight {
        margin-left: 3%;
        width: 47.9%;
    }
.TGN_RelatedContent_FeatureArticleImg {
    width: 100%;
    display: block;
}
.TGN_RelatedContent_FeatureArticleImg img {
    width: 100%;
}
    @media all and (min-width: 1021px) {
        /*Desktop only*/
    }

    @media all and (min-width: 681px) {
        /*Desktop and Tablet*/
    }

    @media all and (min-width: 681px) and (max-width: 1020px) {
        /*Tablet only*/
    }

    @media all and (max-width: 1110px) {
    }

    @media all and (max-width: 1020px) {
        .TGN_RelatedContent_Title {
            height: 30px;
        }
    }

    @media all and (max-width: 980px) {
        .TGN_RelatedContent_RightArrow {
        }

        .TGN_RelatedContent_Holder {
            margin-left: 30px;
            margin-right: 30px;
        }
    }

    @media all and (max-width: 780px) {
        .TGN_RelatedContent_RightArrow {
        }

        .TGN_RelatedContent_Holder {
            margin-left: 0px;
            margin-right: 0px;
        }
    }

    @media all and (max-width: 680px) {
        .TGN_RelatedContent_Title {
            margin-bottom: 10px;
        }

        .TGN_RelatedContent_FeatureArticleLink {
            align-items: flex-start;
        }

        #TGN_RelatedContent_FeatureArticleLeft {
            width: 33%;
            background: #808080;
        }

        #TGN_RelatedContent_FeatureArticleRight {
            margin-left: 3%;
            width: 64%;
        }

        .TGN_RelatedContent_FeatureArticleRighttitle {
            font-size: 18px;
            line-height: 21px;
            margin-top: 2px;
            margin-bottom: 2px;
        }

        .TGN_RelatedContent_FeatureArticleRightblurb {
            font-size: 14px;
            line-height: 17px;
        }

        .TGN_RelatedContent_FeatureArticleImg {
            display: block;
            width: 100%;
        }

        .TGN_RelatedContent_Holder .TGN_site_Titledsectionstopright {
            /*display:flex;*/
        }

        .TGN_RelatedContent_RightArrow {
            display: none;
        }
        
.TGN_RelatedContent_Slide {
    width: 49%;
    display: none;
}
.TGN_RelatedContent_Slide:nth-child(3){
    display:none;
}
.TGN_RelatedContent_Slide:nth-child(-n+2){
    display:block;
}
    }
    @media all and (max-width: 480px) {
#TGN_RelatedContent_ArticlesBox {
    flex-flow: column;
}
.TGN_RelatedContent_Slide {
    width: 100%;
    display: block;
        margin-bottom: 20px;
}
.TGN_RelatedContent_Slide:nth-child(-n+4){
    display:block;
}
    }
</style>
<div class="TGN_RelatedContent_Holder">
<div class="TGN_RelatedContent_Title">
<div class="TGN_site_Titledsectionstopleft">
<div class="TGN_site_Titledsectionstitle">Read this next</div>
</div>
<div class="TGN_site_Titledsectionstopright">
<div class="TGN_site_Moreitems">NEXT</div>
<div class="TGN_site_Moreitemsarrow"><span class="TGN_RelatedContent_MobileRightArrow"><i class="icon-left-point-arrow"></i></span></div>
</div>
</div>
<div class="TGN_RelatedContent_Scroller">
<div id="TGN_RelatedContent_ArticlesBox">
<div class="TGN_RelatedContent_Slide" data-articleid="eb76a509-a82d-41b3-8e29-7f1d97b7f71a">
<a class="TGN_RelatedContent_FeatureArticleLink" href="/Health/Bed-nets-for-Benin">
<div class="TGN_RelatedContent_FeatureArticleTop">
<div class="TGN_RelatedContent_FeatureArticleImg"><img data-blogroll-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_2020_bed-nets_blogroll_800x494_01.ashx" data-cover="" data-cover-url="" data-searchthumbovercover="" data-square-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_2020_bed-nets_thumbnail_320px_01.ashx" data-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_2020_bed-nets_thumbnail_320px_01.ashx" data-thumbovercover="" data-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_2020_bed-nets_blogroll_800x494_01.ashx" src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_2020_bed-nets_blogroll_800x494_01.ashx"/></div>
</div>
<div class="TGN_RelatedContent_FeatureArticleBottom">
<div class="TGN_RelatedContent_FeatureArticleRighttitle">Full coverage: Bed nets for Benin</div>
<div class="TGN_RelatedContent_FeatureArticleRightblurb" style="white-space: pre-line">Its bed net distribution system will help save lives from malaria and other diseases too.</div>
</div>
</a>
</div>
<div class="TGN_RelatedContent_Slide" data-articleid="88ff0784-6d7a-4511-99b7-14372391bd20">
<a class="TGN_RelatedContent_FeatureArticleLink" href="/Health/Mosquito-City">
<div class="TGN_RelatedContent_FeatureArticleTop">
<div class="TGN_RelatedContent_FeatureArticleImg"><img data-blogroll-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_blogroll_800x494_01.ashx" data-cover="" data-cover-url="" data-searchthumbovercover="" data-square-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_thumbnail_320px_01.ashx" data-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_thumbnail_320px_01.ashx" data-thumbovercover="" data-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_blogroll_800x494_01.ashx" src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_blogroll_800x494_01.ashx"/></div>
</div>
<div class="TGN_RelatedContent_FeatureArticleBottom">
<div class="TGN_RelatedContent_FeatureArticleRighttitle">It’s always buzzing in Mosquito City</div>
<div class="TGN_RelatedContent_FeatureArticleRightblurb" style="white-space: pre-line">A city where researchers study how to repel, attract, and kill the world’s deadliest animal. </div>
</div>
</a>
</div>
<div class="TGN_RelatedContent_Slide" data-articleid="46abf3a3-4a59-43eb-bd93-41575a623531">
<a class="TGN_RelatedContent_FeatureArticleLink" href="/Health/These-maps-could-point-the-way-to-eradicating-malaria">
<div class="TGN_RelatedContent_FeatureArticleTop">
<div class="TGN_RelatedContent_FeatureArticleImg"><img data-blogroll-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_800px_v2.ashx" data-cover="" data-cover-url="" data-searchthumbovercover="" data-square-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_320px_v2.ashx" data-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_320px_v2.ashx" data-thumbovercover="" data-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_800px_v2.ashx" src="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_800px_v2.ashx"/></div>
</div>
<div class="TGN_RelatedContent_FeatureArticleBottom">
<div class="TGN_RelatedContent_FeatureArticleRighttitle">These maps could point the way to stopping malaria</div>
<div class="TGN_RelatedContent_FeatureArticleRightblurb" style="white-space: pre-line">We’re using them to maximize scarce resources.</div>
</div>
</a>
</div>
</div>
<div class="TGN_RelatedContent_RightArrow">
<i class="icon-left-point-arrow"></i>
</div>
</div>
</div>
<script id="TGN_RelatedContentItem" type="text/x-handlebars-templates">
    {{#each ArticleList}}
    <div class="TGN_RelatedContent_Slide" data-articleID="{{ArticleID}}">
        <a class="TGN_RelatedContent_FeatureArticleLink" href="{{ArticleUrl}}">
            <div class="TGN_RelatedContent_FeatureArticleTop">
                <div class="TGN_RelatedContent_FeatureArticleImg"><img src="{{ImageUrl}}" data-src="{{SearchThumbUrl}}" data-blogroll-src="{{ImageUrl}}" data-cover="{{SearchBookCoverUrl}}" data-thumbovercover="{{SearchThumbOverCover}}" data-url="{{ImageUrl}}" data-square-url="{{SearchThumbUrl}}" data-SearchThumbOverCover="{{SearchThumbOverCover}}" data-cover-url="{{SearchBookCoverUrl}}"></div>
            </div>
            <div class="TGN_RelatedContent_FeatureArticleBottom">
                <div class="TGN_RelatedContent_FeatureArticleRighttitle">{{{SearchHeadline}}}</div>
                <div class="TGN_RelatedContent_FeatureArticleRightblurb" style="white-space: pre-line">{{{SearchBlurb}}}</div>
            </div>
        </a>
    </div>
    {{/each}}
</script>
<script type="text/javascript">
    $(document).ready(function () {
        //console.log("TGNRelatedContent_JS");
        GetThreeRelatedContentItems();
    });
    function GetThreeRelatedContentItems() {
        $.ajax({
            url: "/api/TGNWebAPI/GetThreeRelatedContentItems",
            dataType: "json",
            data: {
                pageID: TGNPageID.toUpperCase()
            },
            type: "GET",
            success: function (data) {
                data = JSON.parse(data);
                var source = $("#TGN_RelatedContentItem").html();
                var template = Handlebars.compile(source);
                var html = template(data);
                var resultsReturnBox = $("#TGN_RelatedContent_ArticlesBox");
                resultsReturnBox.html(html);
            },
            error: function (request, status, error) {
                console.log("ERROR:" + request.responseText + " e:" + error);
                //
            }
        });
    }
    var throttled = TGN_throttle(TGNRC_ShowVisibleThumbnails, 1000);
    $(".TGN_site").scroll(throttled);

    $(window).resize(function () {
        setTimeout(function () {
            TGNRC_ShowVisibleThumbnails();
        }, 150);
    });
    function TGNRC_ShowVisibleThumbnails() {
        //console.log("TGNRC_ShowVisibleThumbnails");
        $(".TGN_RelatedContent_FeatureArticleImg").each(function (i, obj) {
            if ($(this).is(':visible') && TGNRCisOnScreen($(this))) {
                if ($(this).attr("data-url") != "set") {
                    $(this).attr("src", $(this).attr("data-stnurl"));
                    $(this).attr("data-url", "set");
                }
            }
        });
    }
    function TGNRCisOnScreen(element) {
        var doc = document.documentElement;
        var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);
        var top = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);
        var scrollPosition = top;
        var elementPos = element.offset();
        var boxPos = $("#TGN_RelatedContent_ArticlesBox").offset();
        var curLeft = elementPos.left - boxPos.left;
        var boxScrollLeft = $(".TGN_RelatedContent_Scroller").scrollLeft();
        var screenHeight = $(window).height();
        if ((((elementPos.top - scrollPosition) + (element.height() / 1.5)) < screenHeight) && ((curLeft - boxScrollLeft) < $("#TGN_RelatedContent_ArticlesBox").width())) {
            return true;
        } else {
            return false;
        }
    }
</script>
</div>
<div class="TGN_site_Article_cta">
</div>
<div class="TGN_site_Article_comments">
<script src="//cdn.livefyre.com/Livefyre.js"></script>
<style>
    .comment-roadblock {
        display: block;
        background-color: #3379be;
        color: white;
        line-height: 60px;
        text-align: center;
        width: 240px;
        height: 60px;
        margin-right: auto;
        margin-left: auto;
        cursor: pointer;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
        font-style: normal;
        margin-bottom: 20px;
    }
.commentHeading {
    /*font-style: normal;
    margin-bottom: 24px;
    display: block;
    width: 100%;
    text-align: left;
    color: #000000;
    font-family: 'Roboto Condensed', 'Asap Condensed', 'neue-haas-unica', sans-serif;
    font-size: 28px;
    letter-spacing: -0.07px;
    line-height: 34px;
    font-weight: 600;
    text-transform: uppercase;
    border-bottom: 1px solid black;*/
    max-width: 78px !important;
    display: block;
    margin-bottom: 12px;
}

    .commentContactUs {
        border-bottom: 1px solid #ccc;
    }

    .commentsLockedText {
        text-align: center;
        color: rgb(112,112,112);
        font-size: 10px;
    }

    .commentsLocked {
        width: 100%;
            clear: both;
            display:none;
            margin-bottom: 90px;
                position: relative;
    top: 0px;
    }

    .commentsLockedHR {
        display: block;
        height: 1px;
        border: 0;
        border-top: 1px solid #ccc;
        margin: 16px 0;
        padding: 0;
    }

        @media all and (max-width: 680px) {
            .commentHeading {
    max-width: 59px !important;
}
        }
</style>
<script>
    var liveFyreLive = new Date("2017/2/12");
    var month = 31 * 1000 * 60 * 60 * 24;
    var days = 1000 * 60 * 60 * 24;
    var monthsLive = 1;
    var CommentState = false;
    var userauthurl = "";
    var userAuthToken = "";
    var userNameFyre = "";
    var UserCommentToken = "UserCommentToken";
    var fyreeditor;
    var LFNetwork = "gatesnotes";//-int";
    var LFSite = "385155";
    var networkConfig = {
        network: 'gatesnotes.fyre.co'//-int.fyre.co'
    };
    var GNCommDisplayedCommentsNumber = 0;
    var GNCommActiveCommentsNumber = 0;
    var convConfig = {
        siteId: LFSite,//'TGNUAT:385155'prod'TGNWWW:385143'
        articleId: 'A554D38F-BAAA-4E81-89A3-941A2D88C35F',  // need to put in url
        el: 'livefyre',
        collectionMeta: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcnRpY2xlSWQiOiJBNTU0RDM4Ri1CQUFBLTRFODEtODlBMy05NDFBMkQ4OEMzNUYiLCJ0YWdzIjoiQXJ0aWNsZSIsInRpdGxlIjoiQXMgQ09WSUQtMTkgc3ByZWFkcywgZG9uXHUwMGUyXHUwMDgwXHUwMDk5dCBsb3NlIHRyYWNrIG9mIG1hbGFyaWEiLCJ0eXBlIjoibGl2ZWNvbW1lbnRzIiwidXJsIjoiaHR0cHM6Ly93d3cuZ2F0ZXNub3Rlcy5jb20vSGVhbHRoL0FzLUNPVklELTE5LXNwcmVhZHMtZG8tbm90LWxvc2UtdHJhY2stb2YtbWFsYXJpYSIsImlzcyI6InVybjpsaXZlZnlyZTpnYXRlc25vdGVzLmZ5cmUuY286c2l0ZT0zODUxNDMifQ.qjzNk49ivuN5vUVUfmm_aTawl0l2BIJmEEpRWdGBJ7Q',
        checksum: '798f7a3fbe7480c3084bdb9c3a26a9d7',
        initialNumVisible: 5,
        animations: false,
        editorCss: '{background: ‘#ccc’, color: ‘red’, font: ’30px “Helvetica Neue”, Helvetica, Arial, Geneva, sans-serif’}',
    };

    var convConfigTab = {
        siteId: LFSite,//'TGNUAT:385155'prod'TGNWWW:385143'
        articleId: 'A554D38F-BAAA-4E81-89A3-941A2D88C35F',  // need to put in url
        el: 'livefyre-tablet',
        collectionMeta: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcnRpY2xlSWQiOiJBNTU0RDM4Ri1CQUFBLTRFODEtODlBMy05NDFBMkQ4OEMzNUYiLCJ0YWdzIjoiQXJ0aWNsZSIsInRpdGxlIjoiQXMgQ09WSUQtMTkgc3ByZWFkcywgZG9uXHUwMGUyXHUwMDgwXHUwMDk5dCBsb3NlIHRyYWNrIG9mIG1hbGFyaWEiLCJ0eXBlIjoibGl2ZWNvbW1lbnRzIiwidXJsIjoiaHR0cHM6Ly93d3cuZ2F0ZXNub3Rlcy5jb20vSGVhbHRoL0FzLUNPVklELTE5LXNwcmVhZHMtZG8tbm90LWxvc2UtdHJhY2stb2YtbWFsYXJpYSIsImlzcyI6InVybjpsaXZlZnlyZTpnYXRlc25vdGVzLmZ5cmUuY286c2l0ZT0zODUxNDMifQ.qjzNk49ivuN5vUVUfmm_aTawl0l2BIJmEEpRWdGBJ7Q',
        checksum: '798f7a3fbe7480c3084bdb9c3a26a9d7',
        animations: false,
        editorCss: '{background: ‘#ccc’, color: ‘red’, font: ’30px “Helvetica Neue”, Helvetica, Arial, Geneva, sans-serif’}',

    };


    //function isGNILoggedIn() {
    //    if (currentUserActive == "true") {
    //        if (currentUserData.IsApproved != "false" && currentUserData.IsApproved != undefined && currentUserData.IsApproved != "") {
    //            return true;
    //        } else {
    //            return false;
    //        }
    //    } else {
    //        return false;
    //    }
    //}
    function setGNILoggedIn() {
        //$(".fyre-editor").css("display", "block");
        //$(".GNCommProfileImage").attr("style", $("#mobart_Art_USER_HolderPI").attr("style") + ";margin-top: 0px;margin-right: 10px;").addClass($("#mobart_Art_USER_HolderPI").attr("class"));
        $(".fyre-comment-wrapper").css("pointer-events", "all");
        $(".GNCommFooterFlag").css("display", "inline-block");
    }
    function setGNILoggedOut() {
        if (CommentState != false) {
            //$(".GNCommProfileImage").attr("style", "").removeClass($("#mobart_Art_USER_HolderPI").attr("class"));
            $(".fyre-comment-wrapper").css("pointer-events", "none");
            $(".GNCommFooterFlag").css("display", "none");
            CommentState = false;
            commentLogout();
        }
    }
    function commentLoggedIn() {
        setGNILoggedIn();
    }
    function commentLoggedOut() {
        //setGNILoggedOut();
    }
    function setGNICommentUI() {
        if (isGNILoggedIn()) {
            setGNILoggedIn();
        } else {
            setGNILoggedOut();
        }
    }
    function getCommentToken() {
        //console.log("UserCommentToken: " + localStorage.getItem('UserCommentToken'));
        if (localStorage.getItem('UserCommentToken') == null || localStorage.getItem('UserCommentToken') == "null" || localStorage.getItem('UserCommentToken') == "") {
            // if no local storage version get from endpoint
            Livefyre.auth.logout(commentLoggedOut);
            $.ajax({
                url: Auth4Config_AuthServiceURL + "CommentToken",
                dataType: "json",
                data: {
                    network: escape(LFNetwork),
                    site: escape(LFSite)
                },
                headers: { 'authorization': 'Bearer ' + localStorage.getItem(tokenKey) },
                type: "GET",
                success: function (data) {
                    userAuthToken = data.Token;
                    localStorage.setItem('UserCommentToken', data.Token);
                    userName = data.UserName;
                    userNameFyre = data.UserName;
                    Livefyre.auth.login(commentLoggedIn);
                    //alert("Comment Token Good " + data.UserName);
                },
                error: function (xhr, error, thrown) {
                    //alert("Bad " + xhr.statusText);
                },

            });
        } else {
            // get local storage
            userAuthToken = localStorage.getItem('UserCommentToken');//+"zzzz";//
            userName = localStorage.getItem('UserName');
            userNameFyre = localStorage.getItem('UserName');
            GNCommUnfollowCollection();
            //Livefyre.auth.login(commentLoggedIn);
        }
        return false;
    }
    function GNCommSyncMe() {
        $.ajax({
            url: Auth4Config_AuthServiceURL + "SyncMe",
            dataType: "json",
            headers: { 'authorization': 'Bearer ' + localStorage.getItem(tokenKey) },
            type: "GET",
            success: function (data) {
                console.log("SyncMeSuccess");
            },
            error: function (xhr, error, thrown) {
                //alert("Bad " + xhr.statusText);
                console.log("SyncMeError");
            },

        });
        return false;
    }
    function commentLogin() {
        getCommentToken();
    }
    function commentLogout() {
        //alert("Comment Logging out");
        //Livefyre.auth.logout(commentLoggedOut);
        //localStorage.setItem(userCommentToken, "");
        //localStorage.setItem(tokenKey, "");
    }


    $(document).ready(function () {
        $.ajaxSetup({ cache: false });
        var diff = Math.abs(new Date() - liveFyreLive);
        daysLive = Math.floor(diff / days);
        monthsLive = Math.floor(diff / month);

        //if (daysLive < 30) {
        //    $("#commentLockedDuration").text(daysLive.toString() + " days");
        //} else if (monthsLive > 1) {
        //    $("#commentLockedDuration").text(monthsLive.toString() + " months");
        //} else {
        //    $("#commentLockedDuration").text("a month");
        //}
        var myURL = document.domain;

        if (myURL == "www.gatesnotes.com") {// || myURL == "local.gatesnotes.com"
            LFNetwork = "gatesnotes";
            LFSite = "385143";//prod site id
            convConfig = {
                siteId: LFSite,//'TGNUAT:385155'prod'TGNWWW:385143'
                articleId: 'A554D38F-BAAA-4E81-89A3-941A2D88C35F',  // need to put in url
                el: 'livefyre',
                collectionMeta: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcnRpY2xlSWQiOiJBNTU0RDM4Ri1CQUFBLTRFODEtODlBMy05NDFBMkQ4OEMzNUYiLCJ0YWdzIjoiQXJ0aWNsZSIsInRpdGxlIjoiQXMgQ09WSUQtMTkgc3ByZWFkcywgZG9uXHUwMGUyXHUwMDgwXHUwMDk5dCBsb3NlIHRyYWNrIG9mIG1hbGFyaWEiLCJ0eXBlIjoibGl2ZWNvbW1lbnRzIiwidXJsIjoiaHR0cHM6Ly93d3cuZ2F0ZXNub3Rlcy5jb20vSGVhbHRoL0FzLUNPVklELTE5LXNwcmVhZHMtZG8tbm90LWxvc2UtdHJhY2stb2YtbWFsYXJpYSIsImlzcyI6InVybjpsaXZlZnlyZTpnYXRlc25vdGVzLmZ5cmUuY286c2l0ZT0zODUxNDMifQ.qjzNk49ivuN5vUVUfmm_aTawl0l2BIJmEEpRWdGBJ7Q',
                checksum: '798f7a3fbe7480c3084bdb9c3a26a9d7',
                initialNumVisible: 5,
                animations: false,
                editorCss: '{background: ‘#ccc’, color: ‘red’, font: ’30px “Helvetica Neue”, Helvetica, Arial, Geneva, sans-serif’}',
            };

            convConfigTab = {
                siteId: LFSite,//'TGNUAT:385155'prod'TGNWWW:385143'
                articleId: 'A554D38F-BAAA-4E81-89A3-941A2D88C35F',  // need to put in url
                el: 'livefyre-tablet',
                collectionMeta: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcnRpY2xlSWQiOiJBNTU0RDM4Ri1CQUFBLTRFODEtODlBMy05NDFBMkQ4OEMzNUYiLCJ0YWdzIjoiQXJ0aWNsZSIsInRpdGxlIjoiQXMgQ09WSUQtMTkgc3ByZWFkcywgZG9uXHUwMGUyXHUwMDgwXHUwMDk5dCBsb3NlIHRyYWNrIG9mIG1hbGFyaWEiLCJ0eXBlIjoibGl2ZWNvbW1lbnRzIiwidXJsIjoiaHR0cHM6Ly93d3cuZ2F0ZXNub3Rlcy5jb20vSGVhbHRoL0FzLUNPVklELTE5LXNwcmVhZHMtZG8tbm90LWxvc2UtdHJhY2stb2YtbWFsYXJpYSIsImlzcyI6InVybjpsaXZlZnlyZTpnYXRlc25vdGVzLmZ5cmUuY286c2l0ZT0zODUxNDMifQ.qjzNk49ivuN5vUVUfmm_aTawl0l2BIJmEEpRWdGBJ7Q',
                checksum: '798f7a3fbe7480c3084bdb9c3a26a9d7',
                animations: false,
                editorCss: '{background: ‘#ccc’, color: ‘red’, font: ’30px “Helvetica Neue”, Helvetica, Arial, Geneva, sans-serif’}',

            };
        }

       var uName = localStorage.getItem('UserName');
        if ((uName == null) || (uName == "")) {
            uName = "NoName";
        }
        var uNameNoSP = uName.replace(" ", "");
        if (localStorage.getItem(tokenKey) == "") {
            localStorage.setItem(UserCommentToken, "");
        } else {
            //getCommentToken();
        }
        // poll for log-in-out
        setInterval(checkGNIState, 500);
    });
    function checkGNIState() {
        //console.log(CommentState +":"+ isGNILoggedIn())
        if (CommentState != isGNILoggedIn()) {
            if (isGNILoggedIn()) {
                commentLogin();
                CommentState = true;
                $("#GNCommPleaseVerify").css("display", "none");
                $("#GNCommSignUpOrLogIn").css("display", "none");
            }
        }
    }

    Livefyre.require(['fyre.conv#3', 'auth'], function (Conv, auth) {
        //new Conv(networkConfig, [convConfig, convConfigTab], function (commentsWidget) {
        new Conv(networkConfig, [convConfig], function (commentsWidget) {
            commentsWidget.on('commentPosted', function (data) {
                cleanPosts();
                //console.log("GNComm:EVENT:commentPosted");
                localStorage.setItem("userCommentTemp", "");
            });
            commentsWidget.on('initialRenderComplete', function (data) {
                lfInitialRenderComplete(data);
                //console.log("GNComm:EVENT:initialRenderComplete" + GNCommGetTimeCheck());
            });
            commentsWidget.on('userLoggedIn', function (data) {
                //if (CommentState == true) {
                //    setGNICommentUI();
                //    console.log("GNComm:EVENT:userLoggedIn");
                //    GNCommUserEmail = data.id;
                //    GNCommUserId = GNCommUserEmail.replace("@gatesnotes.fyre.co", "");
                //    GNCommAvater = data.avatar;
                //    GNCommdisplayName = data.displayName;
                //    GNCommisModerator = data.isModerator;
                //    //$(".goog-inline-block .fyre-button-right-inner-box").text("+");
                //} else {
                //    commentLogout();
                //}
                setGNICommentUI();
                //console.log("GNComm:EVENT:userLoggedIn");
                GNCommUserEmail = data.id;
                GNCommUserId = GNCommUserEmail.replace("@gatesnotes.fyre.co", "");
                localStorage.setItem("GNCommUserId", GNCommUserEmail);
                localStorage.setItem("GNCommUserIdNum", GNCommUserId);
                GNCommAvater = data.avatar;
                GNCommdisplayName = data.displayName;
                GNCommisModerator = data.isModerator;
                //$(".goog-inline-block .fyre-button-right-inner-box").text("+");
            });
            commentsWidget.on('userLoggedOut', function (data) {
                setGNICommentUI();
                //console.log("GNComm:EVENT:userLoggedOut");
                localStorage.setItem("userCommentTemp", "");
            });
            commentsWidget.on('commentCountUpdated', function (data) {
                //numcommentsLF = "Open Comments (" + data.toString() + ")";
                //$(".fyre-stream-more .fyre-buttonT").text(numcommentsLF);
                // Adjust for legacy number
                GNCommActiveCommentsNumber = data;
                setTimeout(function () {
                    GNCommCountDisplayed();
                    cleanPosts();
                }, 100);
                //console.log("GNComm:EVENT:commentCountUpdated");
                localStorage.setItem("userCommentTemp", "");
            });
            commentsWidget.on('showMore', function (data) {
                event.stopPropagation();
                setTimeout(function () {
                    $(".GNCommForm").attr("data-counted", "reset");
                    cleanPosts();
                }, 300);
                //console.log("GNComm:EVENT:showMore");
            });
        });
        auth.delegate({
            login: function (callback) {
                //alert("Comment Login");
                //console.log("GNComm:EVENT:login");
                callback(null, { livefyre: userAuthToken });

            },
            logout: function (callback) {
                //alert("Comment Logout");
                //console.log("GNComm:EVENT:Logout");
                callback(null);
            },
        });
    });

</script>
<style>
.TGN_site_Article_comments {
    display: flex;
    flex-flow: column;
    margin-bottom: 20px;
}
    .GNCommForm {
        box-sizing: border-box;
        color: rgb(45,45,45);
        display: block;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        line-height: 24px;
        margin-bottom: 10px;
        margin-left: 0px;
        margin-right: 0px;
        margin-top: 0px;
        text-size-adjust: 100%;
        -webkit-font-smoothing: antialiased;
    }
    .GNCommPostWrapper {
        background-attachment: scroll;
        background-clip: border-box;
        background-color: rgb(255, 255, 255);
        background-image: none;
        background-origin: padding-box;
        background-position-x: 0%;
        background-position-y: 0%;
        background-size: auto;
        border-bottom-color: rgb(232, 232, 232);
        border-bottom-style: solid;
        border-bottom-width: 1px;
        border-image-outset: 0px;
        border-image-repeat: stretch;
        border-image-slice: 100%;
        border-image-source: none;
        border-image-width: 1;
        border-left-color: rgb(232, 232, 232);
        border-left-style: solid;
        border-left-width: 1px;
        border-right-color: rgb(232, 232, 232);
        border-right-style: solid;
        border-right-width: 1px;
        border-top-color: rgb(232, 232, 232);
        border-top-style: solid;
        border-top-width: 1px;
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        line-height: 24px;
        padding-bottom: 10px;
        padding-left: 10px;
        padding-right: 5px;
        padding-top: 10px;
        text-size-adjust: 100%;
        transition-delay: 0s;
        transition-duration: 0.4s;
        transition-property: border-color;
        transition-timing-function: ease-in-out;
        -webkit-font-smoothing: antialiased;
        display: flex;
    justify-content: flex-start;
    align-items: center;
    align-content: center;
    }

    textarea[placeholder]:empty:before {
        content: attr(placeholder);
        color: #d3d3d3;
        font-size: 11px;
        font-family: Lusitana, serif;
    }

    textarea[placeholder]:empty:focus:before {
        content: "";
    }
    .GNCommText {
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        flex-basis: 0%;
        flex-grow: 1;
        flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
        font-weight: 200;
        line-height: 24px;
        text-size-adjust: 100%;
        -webkit-box-flex: 1;
        -webkit-font-smoothing: antialiased;
    }
        .GNCommText > textarea {
            background-attachment: scroll;
            background-clip: border-box;
            background-color: rgba(0, 0, 0, 0);
            background-image: none;
            background-origin: padding-box;
            background-position-x: 0%;
            background-position-y: 0%;
            background-size: auto;
            border-bottom-color: #b0b0b0;
            border-bottom-style: none;
            border-bottom-width: 0px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: #b0b0b0;
            border-left-style: none;
            border-left-width: 0px;
            border-right-color: #b0b0b0;
            border-right-style: none;
            border-right-width: 0px;
            border-top-color: #b0b0b0;
            border-top-style: none;
            border-top-width: 0px;
            box-sizing: border-box;
            color: black !important;
            cursor: auto;
            display: block;
            flex-basis: 0%;
            flex-direction: column;
            flex-grow: 1;
            flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
            font-stretch: normal;
            font-style: normal;
            font-variant-caps: normal;
            font-variant-ligatures: normal;
            font-variant-numeric: normal;
            height: 25px;
            letter-spacing: normal;
            line-height: normal;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 5px;
            min-height: 25px;
            overflow-x: hidden;
            overflow-y: hidden;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 0px;
            resize: none;
            text-align: start;
            text-indent: 0px;
            text-rendering: auto;
            text-shadow: none;
            text-size-adjust: 100%;
            text-transform: none;
            user-select: text;
            white-space: pre-wrap;
            word-spacing: 0px;
            word-wrap: break-word;
            writing-mode: horizontal-tb;
            -webkit-appearance: none;
            -webkit-box-flex: 1;
            -webkit-font-smoothing: antialiased;
            -webkit-border-image: none;
            -webkit-rtl-ordering: logical;
        border: none;
    overflow: auto;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;

        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
    font-size: 16px;
    line-height: 19px;
        }
.GNCommPost {
    box-sizing: border-box;
    color: #b0b0b0;
    cursor: pointer;
    display: block;
    font-family: Lusitana, serif;
    font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
    font-size: 20px;
    font-weight: 200;
    height: 20px;
    line-height: 20px;
    margin-left: 0px;
    text-size-adjust: 100%;
    vertical-align: middle;
    width: 30px;
    -webkit-font-smoothing: antialiased;
}
        .GNCommPost > svg {
            box-sizing: border-box;
            color: rgba(0,0,0,0.12);
            cursor: pointer;
            display: inline;
            font-family: Lusitana, serif;
            font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
            font-size: 40px;
            font-weight: 200;
            height: 30px;
            line-height: 24px;
            margin-left: 0px;
            text-size-adjust: 100%;
            vertical-align: middle;
            width: 30px;
            -webkit-font-smoothing: antialiased;
        }

        
    .GNCommReply {
        box-sizing: border-box;
        color: rgb(45,45,45);
        display: block;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        line-height: 24px;
        margin-bottom: 10px;
        margin-left: 0px;
        margin-right: 0px;
        margin-top: 12px;
        text-size-adjust: 100%;
        -webkit-font-smoothing: antialiased;
    }
    .GNCommReplyPostWrapper {
        background-attachment: scroll;
        background-clip: border-box;
        background-color: rgb(255, 255, 255);
        background-image: none;
        background-origin: padding-box;
        background-position-x: 0%;
        background-position-y: 0%;
        background-size: auto;
        border-bottom-color: rgb(232, 232, 232);
        border-bottom-style: solid;
        border-bottom-width: 1px;
        border-image-outset: 0px;
        border-image-repeat: stretch;
        border-image-slice: 100%;
        border-image-source: none;
        border-image-width: 1;
        border-left-color: rgb(232, 232, 232);
        border-left-style: solid;
        border-left-width: 1px;
        border-right-color: rgb(232, 232, 232);
        border-right-style: solid;
        border-right-width: 1px;
        border-top-color: rgb(232, 232, 232);
        border-top-style: solid;
        border-top-width: 1px;
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        line-height: 24px;
        padding-bottom: 10px;
        padding-left: 20px;
        padding-right: 5px;
        padding-top: 10px;
        text-size-adjust: 100%;
        transition-delay: 0s;
        transition-duration: 0.4s;
        transition-property: border-color;
        transition-timing-function: ease-in-out;
        -webkit-font-smoothing: antialiased;
    }
    .GNCommReplyText {
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        flex-basis: 0%;
        flex-grow: 1;
        flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
        font-weight: 200;
        line-height: 24px;
        text-size-adjust: 100%;
        -webkit-box-flex: 1;
        -webkit-font-smoothing: antialiased;
    }
        .GNCommReplyText > textarea {
            background-attachment: scroll;
            background-clip: border-box;
            background-color: rgba(0, 0, 0, 0);
            background-image: none;
            background-origin: padding-box;
            background-position-x: 0%;
            background-position-y: 0%;
            background-size: auto;
            border-bottom-color: #b0b0b0;
            border-bottom-style: none;
            border-bottom-width: 0px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: #b0b0b0;
            border-left-style: none;
            border-left-width: 0px;
            border-right-color: #b0b0b0;
            border-right-style: none;
            border-right-width: 0px;
            border-top-color: #b0b0b0;
            border-top-style: none;
            border-top-width: 0px;
            box-sizing: border-box;
            color: black !important;
            cursor: auto;
            display: block;
            flex-basis: 0%;
            flex-direction: column;
            flex-grow: 1;
            flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
            font-stretch: normal;
            font-style: normal;
            font-variant-caps: normal;
            font-variant-ligatures: normal;
            font-variant-numeric: normal;
            height: 25px;
            letter-spacing: normal;
            line-height: normal;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 5px;
            min-height: 25px;
            overflow-x: hidden;
            overflow-y: hidden;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 0px;
            resize: none;
            text-align: start;
            text-indent: 0px;
            text-rendering: auto;
            text-shadow: none;
            text-size-adjust: 100%;
            text-transform: none;
            user-select: text;
            white-space: pre-wrap;
            word-spacing: 0px;
            word-wrap: break-word;
            writing-mode: horizontal-tb;
            -webkit-appearance: none;
            -webkit-box-flex: 1;
            -webkit-font-smoothing: antialiased;
            -webkit-border-image: none;
            -webkit-rtl-ordering: logical;
        border: none;
    overflow: auto;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;

        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
            font-weight: 600;
    font-size: 16px;
    line-height: 19px;
        }
    .GNCommReplyPost {
        box-sizing: border-box;
        color: #b0b0b0;
        cursor: pointer;
        display: block;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        height: 30px;
        line-height: 24px;
        margin-left: 10px;
        text-size-adjust: 100%;
        vertical-align: middle;
        width: 30px;
        -webkit-font-smoothing: antialiased;
    }
        .GNCommReplyPost > svg {
            box-sizing: border-box;
            color: #b0b0b0;
            cursor: pointer;
            display: inline;
            font-family: Lusitana, serif;
            font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
            font-size: 16px;
            font-weight: 200;
            height: 30px;
            line-height: 24px;
            margin-left: 0px;
            text-size-adjust: 100%;
            vertical-align: middle;
            width: 30px;
            -webkit-font-smoothing: antialiased;
        }



    .cls-1 {
        box-sizing: border-box;
        color: #b0b0b0;
        cursor: pointer;
        display: inline;
        fill: none;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        height: auto;
        line-height: 24px;
        stroke: rgb(204, 204, 204);
        stroke-miterlimit: 10;
        stroke-width: 2px;
        text-size-adjust: 100%;
        transform-origin: 0px 0px;
        transition-delay: 0s;
        transition-duration: 0.4s;
        transition-property: all;
        transition-timing-function: ease;
        width: auto;
        -webkit-font-smoothing: antialiased;
    }
</style>
<script type="text/javascript">

    function autoGrowTextArea2(textField) {
        var cHeight = textField.prop('clientHeight');
        var sHeight = textField.prop('scrollHeight');
        if (cHeight < sHeight) {
            textField.height(sHeight);
            if (textField.prop('clientHeight') < textField.prop('scrollHeight')) {
                var newHeight = textField.prop('scrollHeight') * 2 - textField.prop('clientHeight');
                textField.height(newHeight);
            }
        }
    }
    var GNCommUserEmail = "";
    var GNCommUserId = "";
    var GNCommAvater = "";
    var GNCommdisplayName = "";
    var GNCommisModerator = false;
    var collectionId = 249374957; //"75891292";//"183174663";
    var fyreEmail = GNCommUserId + "@livefyre.com";
    var commentText = "hooo";
    
    function GNCommPostFill(t) {

    }
    function GNCommGetItemData(id) {
        //var url = "https://gatesnotes.bootstrap.fyre.co/api/v3.0/content/thread/?collection_id=" + collectionId + "&content_id=" + id + "&depth_only=true";
        //var dd = "";
        //$.get(url, dd, function (data) {
        //    var see = data;
        //    return see;
        //}
        //);

        //console.log("GNComm:Post:GetItemData:Time:" + GNCommGetTimeCheck());
        $.ajax({
            url: "https://gatesnotes.bootstrap.fyre.co/api/v3.0/content/thread/?collection_id=" + collectionId + "&content_id=" + id + "&depth_only=true&nocache="+new Date().toString(),
            type: 'GET',
            async: true,
            cache: false,
            timeout: 30000,
            error: function(){
                //return "";
            },
            success: function(data){
                //console.log("GNComm:Post:GetItemDataSuccess:Time:" + GNCommGetTimeCheck());
                var LFitemData = data;
                if (LFitemData.data.content.length > 2) {
                    //console.log("id: "+id + " data: "+ LFitemData.data.content.length);
                    writeThirdLevelMentions(LFitemData.data.content[LFitemData.data.content.length-1].content.id,LFitemData.data.content[LFitemData.data.content.length-1].content.parentId);
                }
                if (LFitemData && LFitemData.data.content[LFitemData.data.content.length-1].content.bodyHtml) {
                    writeLFMessageBodyHTML(LFitemData.data.content[LFitemData.data.content.length-1].content.id,LFitemData.data.content[LFitemData.data.content.length-1].content.bodyHtml);
                }
            }
        });
    }
    function GNCommGetUser() {
        var url = "https://gatesnotes.quill.fyre.co/profiles/?id="+ GNCommUserId +"&lftoken=" + userAuthToken;
        var dd = "";
        $.post(url, dd, function (data) {
            var see = data;
        });

    }
    function GNCommUnfollowCollection(tag_name) {
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/collection/"+collectionId+"/unfollow/?lftoken=" + userAuthToken;
        var dd = "";
        $.post(url, dd, function (data) {
            var see = data;
            //token is valid
            Livefyre.auth.logout(commentLoggedOut);
            Livefyre.auth.login(commentLoggedIn);
        })
        .fail(function(response) {
            console.log("GNCommUnfollowCollection:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            //token no longer valid
            localStorage.setItem('UserCommentToken', '');
            getCommentToken();
            //if (response.responseJSON.error_type == "AuthenticationError") {
            //}
        });

    }
    function GNCommHideNotifications() {
        $("#GNCommOOPS").css("display", "none");
        $("#GNCommHTML").css("display", "none");
        $("#GNCommDuplicate").css("display", "none");
        $("#GNCommPleaseVerify").css("display", "none");
        $("#GNCommSignUpOrLogIn").css("display", "none");
        $("#GNCommWaitingtop").css("display", "none");
        $(".GNCommWaiting").css("display", "none");
        $(".GNCommWaiting").css("color","#b0b0b0");
        $(".GNCommWaitingDots").css("display","inline-block");
        $(".GNCommWaitingMessage").html("posting");
        $(".GNCommFooterEditMenu").css("display", "none");
        $(".GNCommReply").css("display", "none");
        $(".GNCommReplyTA").css("height", "25px");
        $(".GNCommReplyTA").val("");
    }
    function GNCommEditPost(id,text) {
        GNCommHideNotifications();
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/" + id + "/edit/?lftoken=" + userAuthToken;
        var dd = "body=" + text + "&collection_id=" + collectionId;
        //console.log("GNComm:Edit:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("HTML:"+data.data.messages[0].content.bodyHtml);
            //console.log("GNComm:Edit:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
        })
        .fail(function(response) {
            console.log("GNComm:Edit:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
            if (response.responseJSON.error_type == "DuplicateCommentError") {
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommDuplicate"));
                $("#GNCommDuplicate").css("display", "block");
            } else if (response.responseJSON.error_type == "MalformedCommentError") {
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommHTML"));
                $("#GNCommHTML").css("display", "block");
            } else {
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommOOPS"));
                $("#GNCommOOPS").css("display", "block");
            }
        });
    }
    function GNCommFlag(id, tag) {
        GNCommHideNotifications();
        //URL:https://gatesnotes.quill.fyre.co/api/v3.0/message/696728786/flag/spam/?lftoken=
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/" + id + "/flag/" + tag + "/?lftoken=" + userAuthToken;
        var dd = "message_id=" + id + "&collection_id=" + collectionId + "&flag=" + tag + "&notes=flagFromUI&email";
        //console.log("GNComm:Flag:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("GNComm:Flag:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
        })
        .fail(function(response) {
            console.log("GNComm:Flag:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            $("#GNCommOOPS").css("display", "block");
        });
    }
    function GNCommDelete(id) {
        GNCommHideNotifications();
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/"+id+"/delete/?collection_id=" + collectionId + "&lftoken=" + userAuthToken + "&site_id=" + LFSite;
        var dd = "";
        //console.log("GNComm:DELETE:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("GNComm:DELETE:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
        })
        .fail(function(response) {
            console.log("GNComm:DELETE:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            $("#GNCommOOPS").css("display", "block");
        });
    }
    function GNCommLike(id) {
        GNCommHideNotifications();
        var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/"+id+"/like/?collection_id=" + collectionId + "&lftoken=" + userAuthToken;
        var dd = "";
        //console.log("GNComm:Like:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("GNComm:Like:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
            TGNCom_SetEvent(id,"Like",GNCommFoundItem.attr("data-author-id"));
        })
        .fail(function(response) {
            console.log("GNComm:Like:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
        });
    }

    function TGNCom_SetEvent(commentID,type,parentUserID) {
        var d = new Date();
        var iso_time = d.toISOString(); //"2014-05-06T18:49:16.029Z"
        $.ajax({
            url: Auth4Config_AuthServiceURL + "TGNCom_SetEvent",
            headers: { 'authorization': 'Bearer ' + localStorage.getItem(tokenKey) },
            dataType: "json",
            data: {
                articleURL: window.location.pathname + "",
                articleTitle: encodeURIComponent(document.querySelectorAll('meta[property=\'og:title\']')[0].content) + "",
                collectionID: collectionId,
                commentID: commentID,
                parentUserID: parentUserID.replace("@gatesnotes.fyre.co", ""),
                timeFrame: iso_time,
                siteId: LFSite,
                type: type
            },
            type: "POST",
            success: function (data) {
                console.log("SET EVENT:" + data);
            },
            error: function (request, status, error) {
                console.log("ERROR:" + request.responseText);
            }
        });
        return false;
    }



    function GNCommDisLike(id) {
        GNCommHideNotifications();
        var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/"+id+"/unlike/?collection_id=" + collectionId + "&lftoken=" + userAuthToken;
        var dd = "";
        //console.log("GNComm:DisLike:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("GNComm:DisLike:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
            TGNCom_SetEvent(id,"RemoveLike",GNCommFoundItem.attr("data-author-id"));
        })
        .fail(function(response) {
            console.log("GNComm:DisLike:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
        });
    }
    function GNCommGetTimeCheck() {
        var d = new Date();
        var m = d.getMinutes();
        var s = d.getSeconds();
        var mi = d.getMilliseconds();
        return ""+m+":"+s+":"+mi;
    }
    function GNCommPost() {
        //console.log("GNComm:Post:START:Time:"+GNCommGetTimeCheck());
        if (!isGNILoggedIn()) {
            // store the message in case it needs to be saved and then sent when the user's logged in
            if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                //console.log("logged in but not verified");
                $("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
                $("#GNCommPleaseVerify").css("display", "block");
            } else {
                //MenuS45_OpenSignIn();
                $("#GNCommWaitingtop").after($("#GNCommSignUpOrLogIn"));
                $("#GNCommSignUpOrLogIn").css("display", "block");
            }
        } else if ($('#GNCommTA').val().length > 0) {
            $("#GNCommWaitingtop").css("display","block");
            GNCommPostNew($('#GNCommTA').val());
            $('#GNCommTA').val("");
            $('#GNCommTA').css("height","25px");
        }
        localStorage.setItem("userCommentTemp", $('#GNCommTA').val());
    }
    function GNCommPostNew(t) {
        //t = t.replace("%", "%25");
        //t = t.replace(";", "%3B");
        t=encodeURIComponent(t);
        GNCommHideNotifications();
        $("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
        $("#GNCommWaitingtop").after($("#GNCommDuplicate"));
        $("#GNCommWaitingtop").after($("#GNCommHTML"));
        $("#GNCommWaitingtop").after($("#GNCommOOPS"));
        $("#GNCommWaitingtop").after($("#GNCommSignUpOrLogIn"));
        // GET https://bgc3.bootstrap.fyre.co/bs3/network / siteid / articleid / bootstrap.html
        // https://bgc3.quill.fyre.co/api/v3.0/collection/183174663/post/?
        // https://bgc3.quill.fyre.co/api/v3.0/collection/183174663/post/?lftoken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkb21haW4iOiJCR0MzLmZ5cmUuY28iLCJleHBpcmVzIjoxNDkwNzQxODA5LjAyNzUwMSwidXNlcl9pZCI6IjE4MjlmNGI4LWIwMzktNDNmYy1hNzEwLWZlZGIzYTdjNGRmZiJ9.mY_tfdFuUIkLAJRPSC1rWXZCAeaR4LnSIysUj36c7HQ
        commentText = t;
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/collection/" + collectionId + "/post/?lftoken=" + userAuthToken;
        var dd = "body=" + t + "&_bi=" + GNCommUserId;
        //console.log("GNComm:Post:POST:Time:"+GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("HTML:"+data.data.messages[0].content.bodyHtml);
            //console.log("GNComm:Post:DATA:Time:"+GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
        })
        .fail(function(response) {
            console.log("GNComm:Post:FAIL:Time:"+GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            if (response.responseJSON.error_type == "DuplicateCommentError") {
                $("#GNCommDuplicate").css("display", "block");
            } else if (response.responseJSON.error_type == "MalformedCommentError") {
                $("#GNCommHTML").css("display", "block");
            } else {
                $("#GNCommOOPS").css("display", "block");
            }
        });

    }
    function GNCommReplyPost(value,id) {
        //console.log("GNComm:Reply:START:Time:"+GNCommGetTimeCheck());
        var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
        if (!isGNILoggedIn()) {
            // store the message in case it needs to be saved and then sent when the user's logged in
            if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                //console.log("logged in but not verified");
                //$("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
                $("#GNCommPleaseVerify").css("display", "block");
                GNCommFoundItem.find(".GNCommWaiting").css("display", "none");
            } else {
                //MenuS45_OpenSignIn();
                $("#GNCommSignUpOrLogIn").css("display", "block");
                GNCommFoundItem.find(".GNCommWaiting").css("display", "none");
            }
        } else if (value.length > 0) {
            GNCommReplyPostNew(value,id,GNCommFoundItem.attr("data-author-id"));//693154486
            $(".GNCommReply").css("display","none");
            $(".GNCommReplyTA").val("");
            GNCommFoundItem.find(".GNCommReplyTA").css("height", "25px");
        } else {
            GNCommFoundItem.find(".GNCommWaiting").css("display", "none");
        }
    }
    function GNCommReplyPostNew(t,id,authID) {
        //t = t.replace("%", "%25");
        //t = t.replace(";", "%3B");
        t=encodeURIComponent(t);
        GNCommHideNotifications();
        commentText = t;
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/collection/" + collectionId + "/post/?lftoken=" + userAuthToken;
        var dd = "body=" + t + "&parent_id=" + id + "&_bi=" + GNCommUserId;
        //console.log("GNComm:Reply:POST:Time:"+GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("HTML:"+data.data.messages[0].content.bodyHtml);
            //console.log("GNComm:Reply:DATA:Time:"+GNCommGetTimeCheck());
            TGNCom_SetEvent(id,"Reply",authID);
        })
        .fail(function(response) {
            console.log("GNComm:Reply:FAIL:Time:"+GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
            //GNCommFoundItem.find(".GNCommWaiting").css("color","#890d0d");
            GNCommFoundItem.find(".GNCommWaitingDots").css("display","none");
            if (response.responseJSON.error_type == "DuplicateCommentError") {
                //$("#GNCommDuplicate").css("display", "block");
                //GNCommFoundItem.find(".GNCommWaitingMessage").html("Sorry, duplicate comments are not allowed.");
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommDuplicate"));
                $("#GNCommDuplicate").css("display", "block");
            } else if (response.responseJSON.error_type == "MalformedCommentError") {
                //$("#GNCommHTML").css("display", "block");
                //GNCommFoundItem.find(".GNCommWaitingMessage").html("Sorry, that HTML is not allowed.");
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommHTML"));
                $("#GNCommHTML").css("display", "block");
            } else {
                //$("#GNCommOOPS").css("display", "block");
                //GNCommFoundItem.find(".GNCommWaitingMessage").html("Sorry, something went wrong.");
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommOOPS"));
                $("#GNCommOOPS").css("display", "block");
            }

        });
        setTimeout(function () {
            cleanPosts();
        }, 100);

    }


    $(document).ready(function () {
        $('#GNCommTA').bind('keyup', function (event) {
            var key = event.which;
            if (key == 13) {
                GNCommPost();
            }
            else {
                autoGrowTextArea2($(this));
            }
        });
        $('#GNCommPost').bind('click', function (event) {
            GNCommPost();
        });
        //$('#GNCommTA').val(localStorage.getItem('userCommentTemp'));
    });
</script>
<div class="newComments">
<!-- div class="comment-roadblock">Sign In</div -->
<div class="commentHeading TGN_site_Titledsectionstitle TGN_site_Titledsectionstopleft">Comments</div>
<div class="GNCommForm">
<div class="GNCommPostWrapper">
<span class="GNCommPost" id="GNCommPost"><i class="icon-plus"></i></span>
<div class="GNCommText">
<textarea id="GNCommTA" placeholder="Add a comment…" rows="1" style="overflow: hidden; word-wrap: break-word; height: 25px;"></textarea>
</div>
</div>
<div class="GNCommWaiting" id="GNCommWaitingtop"><span class="GNCommWaitingMessage">posting</span> <span class="GNCommWaitingDots">...</span></div>
<div class="GNCommNotificationBox" id="GNCommPleaseVerify"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_Exclaim.svg" style=""/></span><span class="GNCommPleaseVerifyT1">Please verify your email in order to make comments. </span><span class="GNCommPleaseVerifyT2">Click here to resend verification email</span></div>
<div class="GNCommNotificationBox" id="GNCommDuplicate"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_NotAllowed.svg" style=""/></span><span class="GNCommPleaseVerifyT1">Sorry, duplicate comments are not allowed. </span><span class="GNCommNotificationBoxClose"><i class="icon-close-x"></i></span></div>
<div class="GNCommNotificationBox" id="GNCommHTML"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_NotAllowed.svg" style=""/></span><span class="GNCommPleaseVerifyT1">Sorry, that HTML is not allowed. </span><span class="GNCommNotificationBoxClose"><i class="icon-close-x"></i></span></div>
<div class="GNCommNotificationBox" id="GNCommOOPS"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_NotAllowed.svg" style=""/></span><span class="GNCommPleaseVerifyT1">Sorry, something went wrong. </span><span class="GNCommNotificationBoxClose"><i class="icon-close-x"></i></span></div>
<div class="GNCommNotificationBox" id="GNCommSignUpOrLogIn"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_Exclaim.svg" style=""/></span><span class="GNCommPleaseVerifyT1">In order to comment you must be a Gates Notes Insider. Please </span><span class="GNCommSignUpOrLogInSU">sign up</span><span class="GNCommPleaseVerifyT1"> or </span><span class="GNCommSignUpOrLogInLI">log in</span><span class="GNCommPleaseVerifyT1"> to continue. </span></div>
</div>
<div id="livefyre"><div class="fyre-widget-loading-spinner"></div></div>
<div class="commentsLocked">
</div>
</div>
<div class="GNCommBeTheFirst">Be the first to leave a comment.</div>
<div class="GNCommReply" id="GNCommReplyBase">
<div class="GNCommReplyPostWrapper">
<div class="GNCommReplyText">
<textarea class="GNCommReplyTA" placeholder="Add a comment…" rows="1" style="overflow: hidden; word-wrap: break-word; height: 25px;"></textarea>
</div>
<span class="GNCommReplyPost">
<svg viewbox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><line class="cls-1" x1="10.5" x2="25.5" y1="18" y2="18"></line><line class="cls-1" x1="18" x2="18" y1="10.5" y2="25.5"></line></svg>
</span>
</div>
</div>
<div class="GNCommFooter" id="GNCommFooterBase" style="display:none;">
<div class="GNCommFooterLike">
<div class="heartDiv"><i class="icon-like-heart-selected"></i></div>
<span class="heartNum"></span>
</div>
<div class="GNCommFooterReply">
<span class="GNCommFooterReplyText">Reply</span>
</div>
<div class="GNCommFooterEdit">
<span class="GNCommFooterEditText">Edit</span>
<div class="GNCommFooterEditMenu">
<div class="GNCommFooterEditMenuArrow"></div>
<div class="GNCommFooterEditMenuEdit">Edit</div>
<div class="GNCommFooterEditMenuDelete">Delete</div>
<div class="GNCommFooterEditMenuWhiteBox"></div>
</div>
</div>
<div class="GNCommFooterFlag">
<span class="GNCommFooterFlagText">Report</span>
</div>
<div class="GNCommWaiting"><span class="GNCommWaitingMessage">posting</span> <span class="GNCommWaitingDots">...</span></div>
</div>
<div class="GNCommFooter" id="GNCommFooterBaseLocked">
<div class="GNCommFooterLocked">
<span class="GNCommFooterLockedIconSpan"><img class="GNCommFooterLockedIcon" src="/img/GNComm_Lock.svg" style=""/></span>
<span class="GNCommFooterLockedText">Comment Locked</span>
<div class="GNComm_LegacyRO_Box">
<div class="GNComm_LegacyRO_Arrow"></div>
<div class="GNComm_LegacyRO_BoxClose"><i class="icon-close-x"></i></div>
<span class="GNComm_LegacyRO_BoxT1">Comments more than 2 months old are locked. For more information, </span>
<span class="GNComm_LegacyRO_BoxT2">contact us.</span>
</div>
</div>
<div class="GNCommFooterFlag">
<span class="GNCommFooterFlagText">Report</span>
</div>
</div>
<div class="GNCommDeleteOverlay">
<div class="GNCommDeleteOverlayWhiteBox">
<div id="GNCommDeleteOverlayClose"><i class="icon-close-x"></i></div>
<div class="GNCommDeleteOverlayTitle">Delete Comment?</div>
<div class="GNCommDeleteOverlayBody">Deleting this comment will remove replies to this comment by you and others as well. This action cannot be undone.</div>
<div class="TGN_PassiveButton" data-content-id="" id="GNCommDeleteOverlayButton">Delete Comment</div>
</div>
</div>
<div class="GNCommFlagOverlay">
<div class="GNCommFlagOverlayWhiteBox">
<div id="GNCommFlagOverlayClose"><i class="icon-close-x"></i></div>
<div class="GNCommFlagOverlayStep1">
<div class="GNCommFlagOverlayTitle">Why do you want to report this comment?</div>
<div class="GNCommFlagOverlayBody">
<div class="GNCommFlagOverlayBodyRow">
<div class="Auth_Comm_checkbox">
<input id="GNCommFlag1" type="checkbox" value="1"/>
</div>
<div class="GNCommFlagOverlayBodyText">It's annoying or not interesting</div>
</div>
<div class="GNCommFlagOverlayBodyRow">
<div class="Auth_Comm_checkbox">
<input id="GNCommFlag2" type="checkbox" value="1"/>
</div>
<div class="GNCommFlagOverlayBodyText">It's abusive and/or vulgar</div>
</div>
<div class="GNCommFlagOverlayBodyRow">
<div class="Auth_Comm_checkbox">
<input id="GNCommFlag3" type="checkbox" value="1"/>
</div>
<div class="GNCommFlagOverlayBodyText">It's spam</div>
</div>
</div>
<div class="TGN_PassiveButton" data-content-id="" data-flag-type="" id="GNCommFlagOverlayButton">Report Comment</div>
</div>
<div class="GNCommFlagOverlayStep2">
<div class="GNCommFlagOverlayTitle">Your report has been submitted.</div>
<div class="TGN_PassiveButton" id="GNCommFlagOverlayButtonClose">Close</div>
</div>
</div>
</div>
<div class="GNCommEditBox" id="GNCommEditBoxBase">
<div class="GNCommEditBoxTextArea">
<textarea class="GNCommEditBoxTA" placeholder="" rows="1" style="overflow: hidden;"></textarea>
</div>
<div class="GNCommEditBoxSave">
        Save
    </div>
<div class="GNCommEditBoxCancel">
        Cancel
    </div>
</div>
<div class="GNCommMessageDisplay" id="GNCommMessageDisplayBase">
<div class="GNCommMessageDisplayLeft">
<div class="GNCommMessageDisplayAvatar">
<img alt="" class="GNCommMessageDisplayAvatarImg" src=""/>
</div>
</div>
<div class="GNCommMessageDisplayRight">
<div class="GNCommMessageDisplayText">
<span class="GNCommMessageDisplayTName"></span>
<span class="GNCommMessageDisplayTMention"></span>
<span class="GNCommDisplayTime"></span>
<span class="GNCommMessageDisplayTBody"></span>
</div>
<div class="GNCommMessageDisplayFooter">
</div>
</div>
</div>
<style>
    #mobart_Art_LISU_Divider {
    display: inline-block;
    margin: 0px;
    color: #949494;
}
    .TGNMag_Art_SI_Holder {
    display: inline-block;
    margin-right: 7px;
    margin-left: 7px;
}
.GNCommMessageDisplayTBody {
    display: block;
    margin-top: -10px;
    font-size: 16px;
    line-height: 20px;
}
.GNCommNotificationIcon {
    max-width: 24px;
    padding: 0px !important;
    margin: 0px !important;
    position: relative;
    top: 5px;
}
    .fyre .fyre-stream-more {
        text-align: center !important;
    }
    .fyre-comment-deleted {
        
    }
.GNCommNotificationBox {
    display: none;
    padding: 0px;
    margin-top: 10px;
    font-size: 16px;
    line-height: 24px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    color: black;
}
    .GNCommPleaseVerifyIcon {
    padding-left: 0px;
    padding-right: 12px;
    font-size: 12px;
}
    .GNCommPleaseVerifyT2 {
    color: #4472C4 !important;
    cursor: pointer;
}
    .GNCommSignUpOrLogInSU {
    color: #4472C4 !important;
    cursor: pointer;
    }
    .GNCommSignUpOrLogInLI {
    color: #4472C4 !important;
    cursor: pointer;
    }
    .GNCommNotificationBoxClose {
    float: right;
    padding-right: 10px;
    color: #999999;
    font-size: 10px;
    cursor: pointer;
}
    .GNCommWaiting {
    margin: 10px;
        margin-top: 0px;
        font-size: 10px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    color: #b0b0b0;
    display:none;
}
.GNComm_LegacyRO_Box {
    background: #f2f1f3;
    min-height: 40px;
    display: block;
    position: absolute;
    left: 37px;
    z-index: 9;
    padding: 12px;
    padding-right: 34px;
    border-radius: 0px;
    max-width: 460px;
        margin-top: 50px;
        display:none;
}
.GNComm_LegacyRO_BoxClose {
    position: absolute;
    right: 6px;
    top: 6px;
    cursor: pointer;
    display:none;
}
.GNComm_LegacyRO_BoxT1 {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-size: 14px;
    line-height: 18px;
    font-weight: 400;
    font-style: normal;
    color: #000000 !important;
    text-transform: none;
}
.GNComm_LegacyRO_BoxT2 {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-size: 14px;
    line-height: 18px;
    font-weight: 400;
    font-style: normal;
    color: #4472C4 !important;
    cursor: pointer;
    text-transform: none;
}

.GNComm_LegacyRO_Arrow {
    background: #f2f1f3;
    height: 16px;
    width: 16px;
    position: absolute;
    margin-left: 12px;
        margin-top: -18px;
    -webkit-transform: rotate(45deg);
    -moz-transform: rotate(45deg);
    -o-transform: rotate(45deg);
    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=5);
}
.GNCommFooterLocked:hover {
    color:#000000;
}
        .fyre-comment-article
        {
                width: 100%;
                margin-top:32px;
        }
.fyre .fyre-comment-replies-indent .fyre-comment-article {
    margin-top: 22px;
    border-left: 1px solid #a4a4a4;
    padding-left: 15px;
}
.fyre a {
    background: none;
    border: none;
    color: #0049fb;
    text-decoration: none;
}
.fyre a:hover {
    background-color: #0049fb;
    color: white;
    text-decoration: none;
}
    .GNCommFooterLocked {
    display: flex;
    align-items: center;
    justify-content: flex-start;
}
.GNCommFooterLockedIcon {
    display: inline-block;
    height: 20px;
    opacity: .3;
    position: relative;
    top: -2px;
}
.GNCommFooterLockedIconSpan {
    margin-left:-6px;
    font-size: 18px;
    margin-right: 0px;
}
.GNCommFooterLockedText {
    margin-right: 20px;
}
    .GNCommFooterFlagIcon {
    display: block;
    height: 12px;
    opacity: .3;
    position: relative;
    top: 2px;
}
    .GNCommFooterFlagIcon:hover {
    opacity: 1;
}
    ::-webkit-input-placeholder { /* WebKit, Blink, Edge */
    color:    #D9D9D9;
}
:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
   color:    #D9D9D9;
   opacity:  1;
}
::-moz-placeholder { /* Mozilla Firefox 19+ */
   color:    #D9D9D9;
   opacity:  1;
}
:-ms-input-placeholder { /* Internet Explorer 10-11 */
   color:    #D9D9D9;
}
::-ms-input-placeholder { /* Microsoft Edge */
   color:    #D9D9D9;
}
    .GNComm_SignIn_Title {
    font-size: 26px;
        line-height: 32px;
    margin-bottom: 36px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    font-style: normal;
}
    .GNComm_SignIn_BodyArea {
    display: block;
    margin: auto;
    max-width: 400px;
    margin-top: 20px;
    margin-bottom: 20px;
}
    .GNComm_SignIn_Body {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    font-size: 14px;
    letter-spacing: 0;
    line-height: 19px;
}
    .GNComm_SignIn_BodyLink {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    font-size: 14px;
    letter-spacing: 0;
    line-height: 19px;
    color: #3379be;
    cursor:pointer;
}
    .GNComm_SignIn_Arrows1 {
    font-size: 25px;
    display: block;
}
    .GNComm_SignIn_Arrows2 {
    font-size: 23px;
    display: block;
    margin-top: -14px;
}
    .fyre-notifier-container {
    display: none !important;
    }
    .fyre-comment-user {
    display: none !important;
}
    .fyre-comment-head {
    display: none !important;
}
    .fyre-comment-body {
    display: none !important;
}
    .fyre-stream-refresh {
    display: none !important;
    }
    .fyre .fyre-stream-content-not-found {
    font-size: 14px !important;
}
    .fyre-thread-breakout-stream {
    padding-left: 10px;
    padding-bottom: 30px;
}
    .GNCommMessageDisplay {
    color: black !important;
    font-size: 18px !important;
        font-family: Lusitana,serif;
    font-weight: normal !important;
    font-style: normal !important;
    line-height: 21px;
        display: flex;
    align-items: center;
    justify-content: flex-start;
    margin-top: 0px;
}
    .GNCommMessageDisplayLeft {
    height: 100%;
    min-width: 30px;
    min-height: 30px;
    max-width: 30px;
    margin-right: 10px;
    display: block;
}
    img.GNCommMessageDisplayAvatarImg {
    background: gray;
    width: 30px;
    height: 30px;
    border-radius: 3000px;
}
    .GNCommMessageDisplayRight {
    height: 100%;
    min-height: 20px;
    min-width: 200px;
    display: block;
    position: relative;
    top: -30px;
    left: 48px;
    width: 91%;
}
    .GNCommMessageDisplayTName {
    color: black;
    margin-right: 3px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-size: 16px;
    line-height: 20px;
    font-weight: 500;
}
    .GNCommMessageDisplayTCol {
    font-size: 14px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    color:#2A2A2A;
}
    .GNCommMessageDisplayTMention {
    color: #2A2A2A !important;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 300;
    font-size: 16px;
    display:none;
    margin-left:-3px;
}
    .GNCommFooterFlagText {

    }
    .GNCommMessageDisplayTMCol {
    color: #3379be !important;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 400;
    font-size: 12px;
    display:none;
    }
    .GNCommEditBox {
    margin-top: -33px;
}
    .GNCommEditBoxTextArea {
    border: 1px #d5d5d5 solid;
    border-radius: 0px;
    margin-left: 43px;
    margin-top: 4px;
    margin-bottom: 4px;
    padding: 10px;
    min-height: 54px;
    
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        flex-basis: 0%;
        flex-grow: 1;
        flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
        font-weight: 200;
        line-height: 24px;
        text-size-adjust: 100%;
        -webkit-box-flex: 1;
        -webkit-font-smoothing: antialiased;
}
        .GNCommEditBoxTextArea > textarea {
            background-attachment: scroll;
            background-clip: border-box;
            background-color: rgba(0, 0, 0, 0);
            background-image: none;
            background-origin: padding-box;
            background-position-x: 0%;
            background-position-y: 0%;
            background-size: auto;
            border-bottom-color: #b0b0b0;
            border-bottom-style: none;
            border-bottom-width: 0px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: #b0b0b0;
            border-left-style: none;
            border-left-width: 0px;
            border-right-color: #b0b0b0;
            border-right-style: none;
            border-right-width: 0px;
            border-top-color: #b0b0b0;
            border-top-style: none;
            border-top-width: 0px;
            box-sizing: border-box;
            color: #2a2a2a !important;
            cursor: auto;
            display: block;
            flex-basis: 0%;
            flex-direction: column;
            flex-grow: 1;
            flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
            font-stretch: normal;
            font-style: normal;
            font-variant-caps: normal;
            font-variant-ligatures: normal;
            font-variant-numeric: normal;
            font-weight: 400;
            height: 25px;
            letter-spacing: normal;
            line-height: normal;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 5px;
            min-height: 25px;
            overflow-x: hidden;
            overflow-y: hidden;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 0px;
            resize: none;
            text-align: start;
            text-indent: 0px;
            text-rendering: auto;
            text-shadow: none;
            text-size-adjust: 100%;
            text-transform: none;
            user-select: text;
            white-space: pre-wrap;
            word-spacing: 0px;
            word-wrap: break-word;
            writing-mode: horizontal-tb;
            -webkit-appearance: none;
            -webkit-box-flex: 1;
            -webkit-font-smoothing: antialiased;
            -webkit-border-image: none;
            -webkit-rtl-ordering: logical;
        border: none;
    overflow: auto;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;
        }
    .GNCommMessageDisplayTBody p {
    display: inherit;
}
    .GNCommEditBoxTA {
    display: inline-block;
    border: 0px black solid;
    line-height: normal;
    resize: none;
    font-family: Lusitana, serif;
    font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
    font-size: 16px;
    font-stretch: normal;
    font-style: normal;
    font-variant-caps: normal;
    font-variant-ligatures: normal;
    font-variant-numeric: normal;
    font-weight: 400;
    letter-spacing: normal;
    width: 100%;
    color: #b0b0b0;
    overflow: hidden !important;
    word-wrap: normal;
    height: 25px;
    min-height: 25px;
    border: none;
    overflow: auto;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;
    margin-top: 0px;
}
    .GNCommEditBoxSave {
    display: inline-block;
    position: relative;
    left: 46px;
    cursor: pointer;
}
    .GNCommEditBoxCancel {
    display: inline-block;
    position: relative;
    left: 50px;
    cursor: pointer;
}
.GNCommBeTheFirst {
    text-align: center;
    margin: 10px;
    color: #b0b0b0;
    font-size: 14px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
    font-style: normal;
    display: none;
    margin-top: -50px;
    margin-bottom: 80px;
}
    span.GNCommMention {
    display: inline-block;
    float: left;
    color: #3379be !important;
    float: left !important;
    margin-top: 3px !important;
    margin-right: 5px !important;
    font-size: 12px !important;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
    font-style: normal !important;
    line-height: 18px;
}
.GNCommDeleteOverlay {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,.4);
    z-index: 40;
        display: none;
}
.GNCommDeleteOverlayWhiteBox {
    display: block;
    background: white;
    margin: 20%;
        text-align: center;
}
#GNCommDeleteOverlayClose {
    display: flex;
    float: right;
    cursor: pointer;
    width: 40px;
    height: 40px;
    align-items: center;
    justify-content: center;
}
.GNCommDeleteOverlayTitle {
    display: block;
    font-size: 26px;
    margin-bottom: 36px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    clear: both;
    margin-top: 40px;
}
.GNCommDeleteOverlayBody {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    color: #666;
    display: block;
    margin-left: auto;
    width: 60%;
    margin-bottom: 36px;
    margin-right: auto;
}
#GNCommDeleteOverlayButton {
}
#GNCommDeleteOverlayButton:hover {
}
.Auth_Comm_checkbox {
    display: block;
    margin-right: 10px;
    text-align: center;
}
.GNCommFlagOverlay {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,.4);
    z-index: 40;
        display: none;
}
.GNCommFlagOverlayWhiteBox {
    display: block;
    background: white;
    margin: 20%;
        text-align: center;
}
#GNCommFlagOverlayClose {
    display: flex;
    float: right;
    cursor: pointer;
    width: 40px;
    height: 40px;
    align-items: center;
    justify-content: center;
}
.GNCommFlagOverlayTitle {
    display: block;
    font-size: 26px;
    margin-bottom: 36px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    font-style: normal;
    clear: both;
    margin-top: 40px;
    max-width: 80%;
    margin-left: auto;
    margin-right: auto;
}
.GNCommFlagOverlayBody {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    color: #666;
    display: table;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 16px;
    text-align: left;
}
.GNCommFlagOverlayBodyText {
    display: inline-block;
    height: 20px;
    position: relative;
    top: -1px;
    font-weight: 400;
    color: black;
}
#GNCommFlagOverlayButton {
}
#GNCommFlagOverlayButton:hover {
}
#GNCommFlagOverlayButtonClose {
}
#GNCommFlagOverlayButtonClose:hover {
}
.GNCommFlagOverlayStep1 {

}
.GNCommFlagOverlayStep2 {
    display:none;
}
.GNCommFlagOverlayBodyRow {
    display: flex;
    height: 34px;
}
    .GNCommFooterEditMenu {
    position: absolute;
    height: 60px;
    width: 50px;
    background: white;
    border: 1px solid #d3d3d3;
    text-align: center;
    padding: 4px;
    line-height: 23px;
    margin-left: -14px;
    display:none;
        margin-top: -100px;
            cursor: default;
}
    .GNCommFooterEditMenuEdit {
    cursor: pointer;
}
    .GNCommFooterEditMenuDelete {
    cursor: pointer;
}
.GNCommFooterEditMenuWhiteBox {
    position: absolute;
    background: white;
    height: 15px;
    width: 100%;
    margin-left: -4px;
    margin-top: 3px;
}
.GNCommFooterEditMenuArrow {
    background: white;
    height: 16px;
    width: 16px;
    position: absolute;
    margin-left: 12px;
        margin-top: 55px;
    border: 1px solid #d3d3d3;
    -webkit-transform: rotate(45deg);
    -moz-transform: rotate(45deg);
    -o-transform: rotate(45deg);
    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=5);
}
    #GNCommReplyBase {
    display: none;
}
    #GNCommEditBoxBase {
    display: none;
}
    #GNCommMessageDisplayBase {
        display: none;
    }
    #GNCommFooterBase {
    display: none;
}
    #GNCommFooterBaseLocked {
    display: none;
}
    .fyre .fyre-comment-footer {
        display: none !important;
    }
    time.fyre-comment-date {
    display: none !important;
}
    .fyre-comment-wrapper {
    margin-top: 25px;
    display: block;
}
.GNCommFooter {
    cursor: pointer;
    margin-left: 49px;
    margin-top: -18px;
    margin-bottom: 4px;
    color: #838383;
    font-family: 'Roboto Condensed', 'Asap Condensed', 'neue-haas-unica', sans-serif;
    text-transform: uppercase;
    font-size: 12px;
    line-height: 12px;
    margin-right: 14px;
    letter-spacing: .2px;
    align-items: center;
    justify-content: flex-start;
}
    .GNCommFooterLike {
    display: inline-block;
        margin-right: 20px;
}
    .GNCommFooterLike:hover
    {
        color: #000000;
    }
    .GNCommFooterReply {
    display: inline-block;
        margin-right: 20px;
}
    .GNCommFooterReply:hover
    {
        color: #000000;
    }
    .GNCommFooterEdit {
    display: inline-block;
        margin-right: 20px;
}
    .GNCommFooterEditText:hover
    {
        color: #000000;
    }
    .GNCommFooterEditMenuEdit:hover
    {
        color: #000000;
    }
    .GNCommFooterEditMenuDelete:hover
    {
        color: #000000;
    }
.GNCommDisplayTime {
    display: inline-block;
    cursor: context-menu;
    font-weight: 300;
    font-style: normal;
    margin-left: 5px;
    color: #949494;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
font-size: 13px;
    line-height: 20px;
}
    .GNCommDisplayTime:hover
    {
    }
    .GNCommFooterFlag {
    display: inline-block;
}
    .GNCommFooterFlag:hover
    {
        color: #000000;
    }
span.heartNum {
    line-height: 18px;
    margin-left: 4px;
}



    .fyre-modal-alert-black {
            display: none !important;
    }
    .fyre .fyre-comment-actions span {
            display: none !important;
}
    .fyre.fyre-width-small .fyre-comment-container .fyre-comment-replies-indent .fyre-user-avatar
    {
        -webkit-border-radius: 50% !important;
        -moz-border-radius: 50% !important;
        -ms-border-radius: 50% !important;
        -o-border-radius: 50% !important;
        border-radius: 50% !important;
    }
    .fyre .fyre-comment-actions {
    float: none;
    display: inline-block;
    font-size: 11px;
    margin-top: 0px;
    text-align: left;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-size: 10.5px;
    line-height: 14px;
    color: #d3d3d3;
}
    .fyre .fyre-comment-like-count {
    font-size: 11px;
    text-decoration: none;
    line-height: 30px;
    margin-left: 2px;
}
/*.GNCommReplyPost {
    position: absolute;
    right: 6px;
    width: 30px;
    cursor: pointer;
        margin-top: -30px;
}
.GNCommReply {
    border: 1px #d5d5d5 solid;
    border-radius: 0px;
    margin-left: 43px;
    margin-top: 4px;
    margin-bottom: 4px;
    padding: 10px;
    height: 54px;
}
.GNCommReplyText {
    display: inline-block;
    margin-top: -10px;
    position: absolute;
    width: 70%;
    height: 30px;
}
.GNCommReplyTA {
    display: inline-block;
    line-height: 40px;
    resize: none;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
    font-size: 14px;
    font-stretch: normal;
    font-style: normal;
    font-variant-caps: normal;
    font-variant-ligatures: normal;
    font-variant-numeric: normal;
    font-weight: 400;
    letter-spacing: normal;
    width: 100%;
            color: #2a2a2a !important;
        overflow: hidden !important;
    word-wrap: normal;
    height: 50px !important;
    min-height: 50px !important;
        border: none;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;

    
            background-attachment: scroll;
            background-clip: border-box;
            background-color: rgba(0, 0, 0, 0);
            background-image: none;
            background-origin: padding-box;
            background-position-x: 0%;
            background-position-y: 0%;
            background-size: auto;
            border-bottom-color: #b0b0b0;
            border-bottom-style: none;
            border-bottom-width: 0px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: #b0b0b0;
            border-left-style: none;
            border-left-width: 0px;
            border-right-color: #b0b0b0;
            border-right-style: none;
            border-right-width: 0px;
            border-top-color: #b0b0b0;
            border-top-style: none;
            border-top-width: 0px;
            box-sizing: border-box;
            cursor: auto;
            display: block;
            flex-basis: 0%;
            flex-direction: column;
            flex-grow: 1;
            flex-shrink: 1;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 5px;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 0px;
            text-align: start;
            text-indent: 0px;
            text-rendering: auto;
            text-shadow: none;
            text-size-adjust: 100%;
            text-transform: none;
            user-select: text;
            white-space: pre-wrap;
            word-spacing: 0px;
            writing-mode: horizontal-tb;
            -webkit-appearance: none;
            -webkit-box-flex: 1;
            -webkit-font-smoothing: antialiased;
            -webkit-border-image: none;
            -webkit-rtl-ordering: logical;
}*/


    /*.fyre-mention-button {
    display: none !important;
}

    .fyre-share-button {
    display: none !important;
}

    .goog-toolbar-separator {
    display: none !important;
    }*/

    .fyre-live-container
    {
        display: none;
    }

    .fyre-stream-stats
    {
        display: none;
    }

    .fyre-stream-header
    {
        display: none;
    }

    .fyre-auth
    {
        display: none;
    }

    .fyre-comment-actions
    {
    }

    .fyre-hovercard-body
    {
        display: none;
    }

    .fyre-hovercard-arrow
    {
        display: none;
    }

    b.commentName
    {
        display: none;
    }

    section.fyre-comment-body
    {
    }

    span.fyre-comment-like-imgs
    {
        display: none;
    }

    .fyre-comment-divider
    {
        display: none;
    }

    .fyre .fyre-comment-replies-indent
    {
        margin-left: 46px;
    }

    .fyre-editor-toolbar
    {
        display: none;
    }

    a.fyre-mention.fyre-mention-livefyre
    {
        color: #868686 !important;
        float: left !important;
        margin-top: 0px !important;
        font-size: 12px !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        line-height: 18px;
        margin-left: 2px;
    }

    .fyre-editor .fyre-editor-container .fyre-editor-editable > p *
    {
        color: #868686 !important;
        float: left !important;
        margin-top: 0px !important;
        font-size: 12px !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        line-height: 18px !important;
        margin-left: 2px;
    }

    .fyre-editor .fyre-editor-container .fyre-editor-editable > p
    {
        color: #2a2a2a !important;
        float: left !important;
        margin-top: 0px !important;
        font-size: 12px !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        line-height: 18px !important;
        margin-left: 2px;
    }

    .fyre-comment-edit {
        display: none !important;
    }

    .fyre .fyre-comment-reply
    {
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
        font-size: 10.5px;
        line-height: 14px;
        color: #d3d3d3;
            position: inherit;
    top: 0px;
    padding: 0px;
    }

    .fyre .fyre-comment-actions a.fyre-delete-link
    {
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
        font-size: 10.5px;
        line-height: 14px;
        color: #d3d3d3;
    }

    .fyre-editor-field[placeholder]:empty:before
    {
        content: attr(placeholder);
        color: #d3d3d3;
        font-size: 11px;
    }

    .placeholderComment[placeholder]:empty:before
    {
        content: attr(placeholder);
        color: #d3d3d3;
        font-size: 11px;
    }

    .placeholderComment[placeholder]:empty:focus:before
    {
        content: "";
    }

    .fyre-editor
    {
        margin-top: 0px !important;
    }
    /*
    .fyre-editor-field {
        overflow: hidden !important;
        word-wrap: break-word !important;
        flex: 1 !important;
    }
    */
    .fyre-editor-editable
    {
        /*
        overflow: hidden !important;
        word-wrap: break-word !important;
        flex: 1 !important;
        */
        font-size: 13px !important;
        font-family: Lusitana, serif !important;
        border-radius: 5px !important;
        /* height: 50px; */
        line-height: 18px !important;
        font-style: normal;
        font-weight: normal;
        padding-right: 35px !important;
    }

    .fyre-editor-container
    {
        /* height: 50px; */
        margin-bottom: 23px;
        display:none !important;
    }

    .fyre-editor .fyre-editor-container .fyre-editor-editable
    {
        background: #fff;
        border: 1px solid #e8e8e8;
        padding: 10px 5px 10px 9px;
        /* display: flex; */
        transition: border-color 400ms ease-in-out;
        line-height: 16px;
        box-shadow: none;
        height: 50px !important;
        /* height: auto; */
    }

    .fyre-post-button-new
    {
        background: #fff !important;
        border: none !important;
        margin-top: -90px !important;
        font-size: 30px !important;
        color: rgb(112, 112, 112) !important;
    }

    .fyre-post-button-reply
    {
        background: #fff !important;
        border: none !important;
        margin-top: -40px !important;
        font-size: 20px !important;
        color: rgb(112, 112, 112) !important;
            position: absolute;
    right: 0px;
    top: 53px;
    }

    .fyre-comment-date
    {
        margin-left: 0px !important;
    }



    .fyre .fyre-comment-head, .fyre .fyre-comment-body
    {
        margin-left: 40px;
    }

    .fyre .fyre-listener-avatars img
    {
        border-radius: 50%;
    }

    .fyre .fyre-comment-user img.fyre-user-avatar
    {
        border-radius: 50%;
        height: 30px;
        width: 30px;
    }

    .fyre .fyre-avatar img
    {
        border-radius: 50%;
    }

    .heartSVG
    {
        box-sizing: border-box;
        color: #d3d3d3 !important;
        cursor: pointer;
        display: block;
        font-size: 11px !important;
        font-weight: 300 !important;
        line-height: 18px !important;
        height: 18px !important;
        width: auto !important;
    }

    .likedComment
    {
        fill: #2d2d2d;
    }

    .heartDiv
    {
        float: left;
        color: #838383;
    font-size: 16px;
    }
    .heartDiv:hover
    {
        color: #e15b6c;
    }
    .heartDiv.on
    {
        color: #e15b6c;
    }

    .fyre-editor-bottom-container
    {
        margin-right: auto;
        margin-left: auto;
        max-width: 960px;
    }

    .fyre-buttonM
    {
        margin-top: 21px !important;
        padding-top: 2px !important;
        background-color: black !important;
        border-color: white !important;
        color: white !important;
        height: 40px !important;
        line-height: 37px !important;
        border-radius: 0px;
        margin-left: 5px !important;
        margin-right: 5px !important;
        cursor: pointer !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        font-size: 14px !important;
    }

    .fyre-buttonT
    {
        padding-top: 0px !important;
        color: white !important;
        border-radius: 0px;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
        font-style: normal !important;
        font-size: 13px !important;
        line-height: 42px;
        padding-bottom: 2px !important;
        transition: background-color 150ms ease;
        background-color: #2d2d2d;
        padding-left: 24px;
        padding-right: 24px;
    }
    .fyre-buttonT:hover
    {
        background-color: black !important;
    }

    .livefyre-tablet
    {
        max-width: 960px;
        margin-right: auto;
        margin-left: auto;
        padding-left: 20px;
        padding-right: 20px;
    }

    .livefyre-tablet-close
    {
        position: absolute;
        width: 20px;
        height: 20px;
        top: 20px;
        font-size: 16px;
        right: 25px;
        color: black;
        cursor: pointer;
    }

    .fyre-comment-user
    {
        position: relative !important;
            pointer-events: none;
    }

    .fyre-comment-head
    {
        margin-top: -37px !important;
    }

    .fyre-comment-footer
    {
        margin-top: -6px !important;
        margin-bottom: 0px !important;
        padding-top: 0px !important;
        padding-bottom: 0px !important;
        text-align: left !important;
        margin-left: 41px !important;
        margin-bottom: 23px !important;
    }

    .commentName
    {
        font-size: 11px;
    }

    .fyre-comment-username
    {
        color: #868686 !important;
        float: left !important;
        margin-top: 3px !important;
        margin-right: 5px !important;
        font-size: 12px !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        line-height: 18px;
    }

    .fyre .fyre-moderator, .fyre .fyre-comment-author-tag
    {
        background-color: black;
    }

    .fyra a
    {
    }

    .fyre-comment-reply
    {
    }

    .fyre-comment-action-button
    {
    }

    .fyre .fyre-comment a
    {
    }
    .fyre .fyre-comment-stream {
    padding-left: 0px;
}
    .fyre .fyre-comment-actions a.fyre-share-link {
    display: none;
}
    .fyre .fyre-comment-actions {
        opacity:1;
    }

    .fyre-comment-body .fyre-comment
    {
        margin-top: 3px !important;
    }

    .fyre .fyre-comment p
    {
        font-size: 13px !important;
        font-family: Lusitana, serif !important;
        font-style: normal;
        font-weight: normal;
        line-height: 18px;
        color: #a2a2a2;
    }

    .fyre-button-right-inner-box
    {
        color: #d3d3d3 !important;
    }

    .spaceDotSpan {
    position: inherit;
    display: inline-block;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-size: 10.5px;
    line-height: 14px;
    color: #d3d3d3;
    padding: 0px 8px 0px 8px;
}

    .goog-inline-block .fyre-button-right-outer-box
    {
        padding-right: 10px !important;
        margin-right: 5px !important;
    }

    @media only screen
    {
        fyre-comment-reply
        {
            border: 0 !important;
        }
        /*
        .fyre .fyre-comment-action-button {
            text-align: center;
            height: 17px;
            line-height: 17px;
            min-width: 16px;
            padding: 5px 0px 5px 0px;
            background-color: none;
            background-image: none !important;
            filter: none !important;
            border: none !important;
            font-size: 11px;
            font-weight: normal;
            color: #d3d3d3 !important;
        }

        .fyre .fyre-comment-action-button:hover {
            border: none !important;
            background-color: none !important;
            background-image: none !important;
            filter: none !important;
        }
           */
        .fyre .fyre-comment-like
        {
            color: #d3d3d3 !important;
            display: inline-block;
                position: inherit;
    top: 0px;
        padding: 0 0px 0 0;
        }

        .fyre .fyre-comment-date
        {
                font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-size: 10.5px;
    line-height: 14px;
    position: inherit;
    top: 0px;
    padding: 0px;
            color: #d3d3d3 !important;
        }
        /*
        .fyre .fyre-editor-toolbar .goog-toolbar > div.fyre-button-right.fyre-post-button .fyre-button-right-inner-box {
            text-align: right !important;
        }

        .placeholderComment[placeholder]:empty:before {
            content: attr(placeholder);
            color: #d3d3d3;
            font-size: 11px;
        }

        .placeholderComment[placeholder]:empty:focus:before {
            content: "";
        }
            */

    }

    @media all and (max-width: 980px)
    {
        .GNCommFlagOverlayBody {
}
.GNComm_LegacyRO_BoxClose {
    display:block;
}
.GNComm_LegacyRO_Box {
    min-height: 40px;
    padding: 18px;
    border-radius: 0px;
    max-width: 420px;
        margin-top: 70px;
}
.GNComm_LegacyRO_BoxT1 {
    font-size: 14px;
}
.GNComm_LegacyRO_BoxT2 {
    font-size: 14px;
}

.GNComm_LegacyRO_Arrow {
        margin-top: -25px;
}
    }

    @media all and (max-width: 680px)
    {
 .GNCommFlagOverlayWhiteBox {
    margin: 18px;
}       
 .GNCommDeleteOverlayWhiteBox {
    margin: 18px;
}       
    .GNCommMessageDisplayRight {
    width: 80%;
}
        .GNCommFlagOverlay {

}
        .GNCommFlagOverlayBody {
}
        #GNCommFlagOverlayButton {
}
        #GNCommFlagOverlayButtonClose {
}
    }

    @media all and (max-width: 480px)
    {
        .GNCommFlagOverlayWhiteBox {
}
        .GNCommReplyText {
    width: 70%;
}
        .fyre .fyre-comment-footer
        {
            float: left;
            clear: both;
        }

        .fyre-comment-article
        {
            float: left;
        }
        .fyre-comment-article {
    margin-top: 19px;
}
        .fyre .fyre-comment-replies-indent .fyre-comment-article {
    margin-top: 0px;
}
    }
</style>
<script type="text/javascript">
    var GNCommOverLocked = false;
    var GNCommSetFooterState = "";
    var GNCommShowLegacyState = "";
    //   http://studio.livefyre.com/BGC3.fyre.co/homexx
    function autoGrowTextArea(textField) {
        var cHeight = textField.prop('clientHeight');
        var sHeight = textField.prop('scrollHeight');
        if (cHeight < sHeight) {
            textField.height(sHeight);
            if (textField.prop('clientHeight') < textField.prop('scrollHeight')) {
                var newHeight = textField.prop('scrollHeight') * 2 - textField.prop('clientHeight');
                textField.height(newHeight);
            }
        }
    }

    function elementSupportsAttribute(element, attribute) {
        var test = document.createElement(element);
        if (attribute in test) {
            return true;
        } else {
            return true; //false;
        }
    };


    // [name] is the name of the event "click", "mouseover", ..
    // same as you'd pass it to bind()
    // [fn] is the handler function
    $.fn.bindFirst = function (name, fn) {
        // bind as you normally would
        // don't want to miss out on any jQuery magic
        this.on(name, fn);

        // Thanks to a comment by adding support for
        // namespaced events too.
        this.each(function () {
            var handlers = $._data(this, 'events')[name.split('.')[0]];
            // take out the handler we just inserted from the end
            var handler = handlers.pop();
            // move it at the beginning
            handlers.splice(0, 0, handler);
        });
    };
    function GNComm_htmlEncode(value) {
        //create a in-memory div, set it's inner text(which jQuery automatically encodes)
        //then grab the encoded contents back out.  The div never exists on the page.
        value = value.split(";").join("&#59;");//.replace(";", "&#59;");
        value = value.split("%").join("&#37;");//.replace("%", "&#37;");
        return $('<div/>').text(value).html();
    }
    function addGNLFFooter() {
        $(".fyre-comment-body").each(function () {
            if ($(this).closest(".fyre-comment-article").is(':visible')) {
                if (!$(this).hasClass("hasGNLFFooter")) {
                    //console.log("GNComm:addGNLFFooter");
                    // test date to sort Legacy Locked from Normal comments
                    var commentStyle = "New";
                    var dateText = $(this).parent().find("time.fyre-comment-date").text();
                    //var dateText = "Apr 3, 2017";
                    var dateDate = new Date();
                    try {
                        dateDate = $.datepicker.parseDate("M dd, yy", dateText);
                        //console.log("valid date");
                    } catch (e) {
                        //console.log("invalid date");
                    }
                    var GNCtoday = new Date();
                    var CutOffDay = new Date().setDate(GNCtoday.getDate() - 60); //$.datepicker.parseDate("M dd, yy", "Sep 29, 2017");
                    if (CutOffDay < dateDate) {
                        commentStyle = "New";
                    } else {
                        commentStyle = "Legacy";
                    }
                    $(this).addClass("hasGNLFFooter");
                    if (commentStyle == "New") {
                        // New Active Comments

                        // Reply
                        $("#GNCommReplyBase").clone(false).attr("id", "GNCommReply" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $("#GNCommEditBoxBase").clone(false).attr("id", "GNCommEditBox" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $("#GNCommFooterBase").clone(false).attr("id", "GNCommFooter" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $("#GNCommMessageDisplayBase").clone(false).attr("id", "GNCommMessageDisplay" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $(document).on('click', '.GNCommReplyPost', function (event) {
                            //console.log("id: " + $(this).parent().attr("id"));
                            if (currentUserData.IsApproved != "false") {
                                $(this).closest(".fyre-comment-article").find(".GNCommWaiting").css("display", "block");
                                GNCommReplyPost($("#GNCommReply" + $(this).closest(".fyre-comment-article").attr("data-message-id")).find(".GNCommReplyTA").val(), $(this).closest(".fyre-comment-article").attr("data-message-id"));
                            }
                        });

                        $(".GNCommFooterReply").unbind().click(function (event) {
                            GNCommHideNotifications();
                            if (isGNILoggedIn()) {
                                //console.log("Reply: " + $(this).parent().attr("id"));
                                //console.log("Reply: " + $(this).parent().parent().find(".GNCommReply").attr("id"));
                                if ($(this).parent().parent().find(".GNCommReply").is(':visible')) {
                                    $(this).parent().parent().find(".GNCommReply").css("display", "none");
                                    $(this).parent().parent().find(".GNCommReplyTA").val("");
                                } else {
                                    $(this).parent().parent().find(".GNCommReply").css("display", "block");
                                }
                            } else {
                                if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                                    // user logged in to GNI but not verified
                                    var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + $(this).closest(".fyre-comment-article").attr("data-message-id") + "']");
                                    //GNCommFoundItem.find(".GNCommWaiting").first().css("color", "#890d0d");
                                    //GNCommFoundItem.find(".GNCommWaiting").first().css("display", "block");
                                    //GNCommFoundItem.find(".GNCommWaitingDots").first().css("display", "none");
                                    //GNCommFoundItem.find(".GNCommWaitingMessage").first().html("Please verify your email in order to make comments.");
                                    GNCommFoundItem.find(".GNCommReply").first().after($("#GNCommPleaseVerify"));
                                    $("#GNCommPleaseVerify").css("display", "block");
                                } else {
                                    var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + $(this).closest(".fyre-comment-article").attr("data-message-id") + "']");
                                    GNCommFoundItem.find(".GNCommReply").first().after($("#GNCommSignUpOrLogIn"));
                                    $("#GNCommSignUpOrLogIn").css("display", "block");
                                }
                            }
                        });
                        $(document).on('keyup', '.GNCommReplyText', function (event) {
                            if ($(this).is(':visible')) {
                                var key = event.which;
                                if (key == 13) {
                                    //console.log("Reply id: " + $(this).parent().attr("id"));
                                    if (currentUserData.IsApproved != "false") {
                                        $(this).closest(".fyre-comment-article").find(".GNCommWaiting").css("display", "block");
                                        GNCommReplyPost($("#GNCommReply" + $(this).closest(".fyre-comment-article").attr("data-message-id")).find(".GNCommReplyTA").val(), $(this).closest(".fyre-comment-article").attr("data-message-id"));
                                    }
                                    event.stopPropagation();
                                }
                                else {
                                    autoGrowTextArea2($(this).find(".GNCommReplyTA"));
                                    event.stopPropagation();
                                }
                            }
                        });
                        $(document).on('keyup', '.GNCommEditBoxTextArea', function (event) {
                            if ($(this).is(':visible')) {
                                //console.log("edit id: " + $(this).parent().attr("id"));
                                autoGrowTextArea2($(this).find(".GNCommEditBoxTA"));
                            }
                        });

                        // Like
                        $(".GNCommFooterLike").unbind().click(function (event) {
                            if (isGNILoggedIn()) {
                                //console.log("Like: " + $(this).parent().attr("id") + " : " + $(this).parent().parent().parent().find(".fyre-comment-like-btn:first").text());
                                if ($(this).parent().parent().parent().find(".fyre-comment-like-btn:first").text() == "Like") {
                                    // check if user is trying to like their own comment
                                    if ($(this).parent().parent().parent().attr("data-author-id") == GNCommUserId + "@gatesnotes.fyre.co") {
                                        // tell user they can't like their own thing
                                        //console.log("tell user they can't like their own thing");
                                    } else {
                                        GNCommLike($(this).parent().parent().parent().attr("data-message-id"));
                                        $(this).find(".heartNum").attr("data-manual-set", "true");
                                        $(this).find(".heartDiv").addClass("on");
                                        // adjust heart num up one
                                        if ($(this).find(".heartNum").text() == "") {
                                            $(this).find(".heartNum").html(1);
                                        } else {
                                            var GNCommHN = parseInt($(this).find(".heartNum").text(), 10);
                                            $(this).find(".heartNum").html(GNCommHN + 1);
                                        }
                                    }
                                } else {
                                    // test for prev like and Unlike if so
                                    GNCommDisLike($(this).parent().parent().parent().attr("data-message-id"));
                                    $(this).find(".heartNum").attr("data-manual-set", "true");
                                    $(this).find(".heartDiv").removeClass("on");
                                    // adjust heart num down one
                                    if ($(this).find(".heartNum").text() == "1") {
                                        $(this).find(".heartNum").html("");
                                    } else {
                                        var GNCommHN = parseInt($(this).find(".heartNum").text(), 10);
                                        $(this).find(".heartNum").html(GNCommHN - 1);
                                    }
                                }
                            }
                        });

                        // Edit Delet
                        $(".GNCommFooterEditText").unbind().click(function (event) {
                            //console.log("EditMenu: " + $(this).parent().parent().attr("id"));
                            GNCommHideNotifications();
                            if ($(this).parent().parent().find(".GNCommFooterEditMenu").is(':visible')) {
                                $(this).parent().parent().find(".GNCommFooterEditMenu").css("display", "none");
                            } else {
                                $(this).parent().parent().find(".GNCommFooterEditMenu").css("display", "block");
                            }
                        });
                        function GNCommHideEditBox(elem) {
                            elem2 = elem.closest(".fyre-comment-wrapper");
                            elem2.find(".GNCommMessageDisplayRight").css("display", "block");
                            elem2.find(".GNCommMention").css("display", "inline-block");
                            elem2.find(".fyre-comment-body").css("display", "block");
                            elem2.find(".fyre-comment-username").css("display", "block");
                            elem2.find(".GNCommFooter").css("display", "flex");
                            elem2.find(".GNCommEditBox").css("display", "none");
                            elem2.find(".GNCommFooterEditMenu").css("display", "none");

                            //elem.parent().parent().parent().parent().find(".GNCommMessageDisplayRight").css("display", "block");
                            //elem.parent().parent().parent().parent().find(".GNCommMention").css("display", "inline-block");
                            //elem.parent().parent().parent().parent().find(".fyre-comment-body").css("display", "block");
                            //elem.parent().parent().parent().parent().find(".fyre-comment-username").css("display", "block");
                            //elem.parent().parent().parent().parent().find(".GNCommFooter").css("display", "flex");
                            //elem.parent().parent().parent().parent().find(".GNCommEditBox").css("display", "none");
                            //elem.parent().parent().parent().parent().find(".GNCommFooterEditMenu").css("display", "none");
                        }
                        $(".GNCommFooterEditMenuEdit").unbind().click(function (event) {
                            //console.log("Edit: " + $(this).parent().parent().parent().attr("id"));
                            // show edit box
                            if ($(this).parent().parent().parent().parent().find(".GNCommEditBox").is(':visible')) {
                                GNCommHideEditBox($(this));
                            } else {
                                $(this).parent().parent().parent().parent().find(".GNCommMessageDisplayRight").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".GNCommMention").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".fyre-comment-body").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".fyre-comment-username").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".GNCommFooter").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".GNCommEditBox").css("display", "block");
                                $(this).parent().parent().parent().parent().find(".GNCommFooterEditMenu").css("display", "none");
                            }
                        });
                        $(document).on('keyup', '.GNCommEditBoxTextArea', function (event) {
                            var key = event.which;
                            if (key == 13) {
                                if ($(this).is(':visible')) {
                                    //console.log("Save: " + $(this).parent().parent().parent().attr("id"));
                                    var GNCommEditedInP = "<p>" + $(this).parent().parent().parent().find(".GNCommEditBoxTA").val() + "</p>";
                                    GNCommEditPost($(this).parent().parent().parent().attr("data-message-id"), GNCommEditedInP);
                                    $(this).parent().parent().parent().attr("data-message-html", GNComm_htmlEncode(GNCommEditedInP));
                                    GNCommHideEditBox($(this));
                                    event.stopPropagation();
                                }
                            }
                        });
                        $(".GNCommEditBoxSave").unbind().click(function (event) {
                            //console.log("Save: " + $(this).parent().parent().parent().attr("id"));
                            var GNCommEditedInP = "<p>" + $(this).parent().parent().parent().find(".GNCommEditBoxTA").val() + "</p>";
                            GNCommEditPost($(this).parent().parent().parent().attr("data-message-id"), GNCommEditedInP);
                            $(this).parent().parent().parent().attr("data-message-html", GNComm_htmlEncode(GNCommEditedInP));
                            GNCommHideEditBox($(this));
                        });
                        $(".GNCommEditBoxCancel").unbind().click(function (event) {
                            GNCommHideEditBox($(this));
                        });
                        //GNCommEditBoxSave
                        //GNCommEditBoxCancel//hide edit
                        $(".GNCommFooterEditMenuDelete").unbind().click(function (event) {
                            //console.log("Delete: " + $(this).parent().parent().parent().attr("id"));
                            // show confirm delete box
                            $(".GNCommDeleteOverlay").css("display", "block");
                            $(".GNCommFooterEditMenu").css("display", "none");
                            $("#GNCommDeleteOverlayButton").attr("data-content-id", $(this).parent().parent().parent().parent().parent().attr("data-message-id"));
                        });
                        $("#GNCommDeleteOverlayButton").unbind().click(function (event) {
                            // delete post
                            GNCommDelete($(this).attr("data-content-id"));
                            $(".GNCommDeleteOverlay").css("display", "none");
                        });
                        $("#GNCommDeleteOverlayClose").unbind().click(function (event) {
                            $(".GNCommDeleteOverlay").css("display", "none");
                        });
                    } else {
                        // Legacy Locked Comments
                        $("#GNCommFooterBaseLocked").clone(false).attr("id", "GNCommFooter" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $("#GNCommMessageDisplayBase").clone(false).attr("id", "GNCommMessageDisplay" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                    }


                    // Flag for both styles
                    $(".GNCommFooterFlag").unbind().click(function (event) {
                        if (isGNILoggedIn()) {
                            // show flag box
                            $(".GNCommFlagOverlay").css("display", "block");
                            $("#GNCommFlagOverlayButton").attr("data-content-id", $(this).parent().parent().parent().attr("data-message-id"));
                        } else {
                            if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                                var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + $(this).closest(".fyre-comment-article").attr("data-message-id") + "']");
                                GNCommFoundItem.find(".fyre-comment-footer").first().before($("#GNCommPleaseVerify"));
                                $("#GNCommPleaseVerify").css("display", "block");
                            } else {
                                var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + $(this).closest(".fyre-comment-article").attr("data-message-id") + "']");
                                GNCommFoundItem.find(".fyre-comment-footer").first().before($("#GNCommSignUpOrLogIn"));
                                $("#GNCommSignUpOrLogIn").css("display", "block");
                            }
                        }
                    });
                    $("#GNCommFlagOverlayButton").unbind().click(function (event) {
                        // flag post
                        GNCommFlag($(this).attr("data-content-id"), $(this).attr("data-flag-type"));
                        //console.log("Flag: " + $(this).attr("data-content-id") + ":" + $(this).attr("data-flag-type"));
                        $(".GNCommFlagOverlayStep1").css("display", "none");
                        $(".GNCommFlagOverlayStep2").css("display", "block");
                    });
                    $("#GNCommFlagOverlayButtonClose").unbind().click(function (event) {
                        $(".GNCommFlagOverlay").css("display", "none");
                        GNCommUncheckFlags();
                        //$("#GNCommFlagOverlayButton").css("opacity", ".2");
                        //$("#GNCommFlagOverlayButton").css("pointer-events", "none");
                        $(".GNCommFlagOverlayStep1").css("display", "block");
                        $(".GNCommFlagOverlayStep2").css("display", "none");
                    });
                    $("#GNCommFlagOverlayClose").unbind().click(function (event) {
                        $(".GNCommFlagOverlay").css("display", "none");
                        GNCommUncheckFlags();
                        //$("#GNCommFlagOverlayButton").css("opacity", ".2");
                        //$("#GNCommFlagOverlayButton").css("pointer-events", "none");
                        $(".GNCommFlagOverlayStep1").css("display", "block");
                        $(".GNCommFlagOverlayStep2").css("display", "none");
                    });
                    function GNCommUncheckFlags() {
                        $("#GNCommFlag1").attr('checked', false);
                        $("#GNCommFlag2").attr('checked', false);
                        $("#GNCommFlag3").attr('checked', false);
                        $("#GNCommFlag1").prop('checked', false);
                        $("#GNCommFlag2").prop('checked', false);
                        $("#GNCommFlag3").prop('checked', false);
                    }
                    function GNCommCheckFlag(boxNum) {
                        switch (boxNum) {
                            case 1:
                                $("#GNCommFlag1").attr('checked', true);
                                $("#GNCommFlag1").prop('checked', true);
                                $("#GNCommFlagOverlayButton").attr("data-flag-type", "off-topic");
                                break;
                            case 2:
                                $("#GNCommFlag2").attr('checked', true);
                                $("#GNCommFlag2").prop('checked', true);
                                $("#GNCommFlagOverlayButton").attr("data-flag-type", "offensive");
                                break;
                            case 3:
                                $("#GNCommFlag3").attr('checked', true);
                                $("#GNCommFlag3").prop('checked', true);
                                $("#GNCommFlagOverlayButton").attr("data-flag-type", "spam");
                                break;
                        }

                        // show report button
                        //$("#GNCommFlagOverlayButton").css("opacity", "1");
                        //$("#GNCommFlagOverlayButton").css("pointer-events", "all");
                    }
                    $("#GNCommFlag1").unbind().click(function (event) {
                        GNCommUncheckFlags();
                        GNCommCheckFlag(1);
                    });
                    $("#GNCommFlag2").unbind().click(function (event) {
                        GNCommUncheckFlags();
                        GNCommCheckFlag(2);
                    });
                    $("#GNCommFlag3").unbind().click(function (event) {
                        GNCommUncheckFlags();
                        GNCommCheckFlag(3);
                    });
                    $(".GNCommFlagOverlayBodyText").unbind().click(function (event) {
                        GNCommUncheckFlags();
                        switch ($(this).parent().find("input").attr("id")) {
                            case "GNCommFlag1":
                                GNCommCheckFlag(1);
                                break;
                            case "GNCommFlag2":
                                GNCommCheckFlag(2);
                                break;
                            case "GNCommFlag3":
                                GNCommCheckFlag(3);
                                break;
                        }
                    });

                }
            }
        });
    }
    function addThirdLevelMentions() {
        $(".fyre-comment-wrapper").each(function () {
            if (!$(this).hasClass("hasMention")) {
                //console.log("GNComm:addThirdLevelMentions");
                GNCommGetItemData($(this).parent().attr("data-message-id"));
                $(this).addClass("hasMention");
            }
        });
    }
    function writeLFMessageBodyHTML(item, body) {
        $('article[data-message-id=' + item + ']').each(function () {
            var encodedBody = GNComm_htmlEncode(body);
            $(this).attr("data-message-html", encodedBody);
            var GNCommEditBody = body.replace("<p>", "").replace("</p>", "");
            $(this).find(".GNCommEditBoxTA").val(GNCommEditBody);
            //var bodyElem = $.parseHTML(body);

            //if (bodyElem.length > 0) {
            //    $(this).attr("data-message-html", GNComm_htmlEncode(bodyElem[0].innerText));
            //    $(this).find(".GNCommEditBoxTA").val(GNComm_htmlEncode(bodyElem[0].innerText));
            //} else {
            //    console.log("body: " + body);
            //}
        });
    }
    function writeThirdLevelMentions(item, parent) {
        var mentionName = "";
        // find fyre-comment-article with data-message-id = parent
        $('article[data-message-id=' + parent + ']').each(function () {
            // find fyre-comment-username
            mentionName = $(this).find(".fyre-comment-username").html();
            // strip :
            if (mentionName != undefined) {
                mentionName = mentionName.replace(":", "");
                // find fyre-comment-article with data-message-id = item
                $('article[data-message-id=' + item + ']').each(function () {
                    // add <span class="GNCommMention">e e</span> after fyre-comment-username
                    $("<span class='GNCommMention'>&nbsp;to " + mentionName + "</span>").insertAfter($(this).find(".fyre-comment-username"));
                    $(this).find(".GNCommMessageDisplayTMention").html("&nbsp;to " + mentionName);
                    $(this).find(".GNCommMessageDisplayTMention").css("display", "inline");
                    // add bodyHTML as data attr
                });
            }
        });
    }
    function moveDate() {
        $("time.fyre-comment-date").each(function () {
            if (!$(this).hasClass("dateMoved")) {
                //console.log("GNComm:moveDate");
                $(this).addClass("dateMoved");
                var tdate = $(this).text();
                tdate = tdate.replace(' ago', '');
                if (tdate.search('day') == -1) {
                    var comDate = new Date(tdate);
                    var diff = Math.abs(new Date() - comDate);
                    var daysCom = Math.floor(diff / days);
                    var monthsCom = Math.floor(diff / month);
                    if (daysCom < 30) {
                        tdate = daysCom.toString() + " days";
                    } else if (monthsCom == 1) {
                        tdate = "a month";
                    } else {
                        tday = monthsCom.toString() + " months";
                    }
                }
                $(this).text(tdate);
                //$(this).parent().nextAll("footer").children("a").append("<span class='fyre-comment-date'>" + tdate + "</span>");
                $("<span class='fyre-comment-date'>" + tdate + "</span>").insertAfter($(this).parent().parent().find('.fyre-comment-reply'));
                $(this).parent().parent().find(".GNCommDisplayTime").html(tdate);
                $(this).css("display", "none");
            }
        });

    }
    function makePost() {
        //var ta = document.getElementsByClassName("fyre-editor-field");
        //$(".fyre-editor-field").unbind("keyup", fyre.conv.Xk);
        $(".fyre-editor-field").each(function () {

            var id = $(this).attr('id');


            document.getElementById(id).addEventListener('keypress', function (event) {
                //event.stopPropagation();
                //return false;
            }, true);
            document.getElementById(id).addEventListener('keydown', function (event) {
                //event.stopPropagation();
                //return false;
            }, true);

            document.getElementById(id).addEventListener('keyup', function (event) {
                var key = event.which;
                if (key == 13) {
                    if (!isGNILoggedIn()) {
                        if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                            //console.log("logged in but not verified");
                            //$("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
                            $("#GNCommPleaseVerify").css("display", "block");
                        } else {
                            //MenuS45_OpenSignIn();
                            $("#GNCommSignUpOrLogIn").css("display", "block");
                        }
                    }
                    //$(".goog-inline-block .fyre-button-right-inner-box").click();
                    // goog-inline-block fyre-button-right fyre-post-button fyre-post-button-new
                    //$("div#:nd.goog-inline-block.fyre-button-right.fyre-post-button.fyre-post-button-new").keypress(event);
                    $("#\\:nd").keypress(event);
                    $("#\\:nd").click();
                    //$(".goog-toolbar .goog-toolbar-horizontal").mouseup();
                    return false;
                }
                //$(this).css("height", "50px");
                //event.stopPropagation();
                //autoGrowTextArea($(this));
                //return false;
            }, true);

        });
    }
    function showEditDelete() {
        //fyre-delete-link
        $(".fyre-comment-wrapper").each(function () {
            if ($(this).find(".fyre-delete-link").length > 0) {
                if ($(this).find(".GNCommFooterEdit").attr("data-fyre-username") != GNCommdisplayName) {
                    //console.log("GNComm:showEditDelete");
                    $(this).find(".GNCommFooterEdit").css("display", "inline-block");
                    $(this).find(".GNCommFooterEdit").attr("data-fyre-username", GNCommdisplayName);
                    if ($(this).find(".fyre-comment-edit-interval").length == 0) {
                        //disable edit
                        $(this).find(".GNCommFooterEditMenuEdit").css("opacity", ".2");
                        $(this).find(".GNCommFooterEditMenuEdit").css("pointer-events", "none");
                        $(this).find(".GNCommFooterEditMenuEdit").css("cursor", "default");
                        $(this).find(".GNCommFooterEditMenuEdit").css("display", "none");
                        $(this).find(".GNCommFooterEditMenu").css("height", "40px");
                        $(this).find(".GNCommFooterEditMenu").css("margin-top", "-65px");
                        $(this).find(".GNCommFooterEditMenuArrow").css("margin-top", "26px");
                        $(this).find(".GNCommFooterEditMenuWhiteBox").css("margin-top", "-4px");
                    }
                }
            } else {
                $(this).find(".GNCommFooterEdit").css("display", "none");
            }
        });
    }
    function getLikeCount() {
        $(".fyre-comment-wrapper").each(function () {
            if ($(this).find(".heartNum").html() != $(this).find(".fyre-comment-like-count").html() && $(this).find(".heartNum").attr("data-manual-set") != "true") {
                //console.log("GNComm:getLikeCount");
                $(this).find(".heartNum").html($(this).find(".fyre-comment-like-count").html());
                if ($(this).find(".fyre-comment-like-btn:first").text() == "Like") {
                    $(this).find(".heartDiv").removeClass("on");
                } else {
                    $(this).find(".heartDiv").addClass("on");
                }
            }
        });
    }
    function cleanPosts() {
        //console.log("GNComm:Post:CleanPosts:Time:" + GNCommGetTimeCheck());
        addGNLFFooter();
        moveDate();
        getLikeCount();
        showEditDelete();
        addThirdLevelMentions();
        GNCommSetFooter();
        GNCommMoveAvatar();
        GNCommMoveNames();
        GNCommMoveBody();
        GNCommShowLegacy();
        GNCommAnimateWaiting();
        GNCommCountDisplayed();
    }
    function GNCommAnimateWaiting() {
        if ($(".GNCommWaitingDots").is(':visible')) {
            //console.log("GNComm:GNCommAnimateWaiting");
            if ($(".GNCommWaitingDots").html() == ".") {
                $(".GNCommWaitingDots").html("..");
            } else if ($(".GNCommWaitingDots").html() == "..") {
                $(".GNCommWaitingDots").html("...");
            } else if ($(".GNCommWaitingDots").html() == "...") {
                $(".GNCommWaitingDots").html(".");
            }
        }
    }
    function GNCommCountDisplayed() {
        //$(".scoshare").html(addcomment(GNCommActiveCommentsNumber));
        if ($(".GNCommForm").attr("data-counted") != "done" && $(".fyre-stream-more").is(':visible')) {
            //console.log("GNCommCountDisplayed");
            $(".GNCommForm").attr("data-counted", "done");
            GNCommDisplayedCommentsNumber = 0;
            $(".fyre-comment-wrapper").each(function () {
                if ($(this).is(':visible')) {
                    //console.log("GNComm:GNCommCountDisplayed");
                    GNCommDisplayedCommentsNumber += 1;
                }
            });
            $(".fyre-stream-more .fyre-buttonT").text("Open Comments (" + (GNCommActiveCommentsNumber - GNCommDisplayedCommentsNumber) + ")");
            //console.log("GNCommCountDisplayed:" + GNCommActiveCommentsNumber + ":" + GNCommDisplayedCommentsNumber + ":" + (GNCommActiveCommentsNumber - GNCommDisplayedCommentsNumber));
            if ((GNCommActiveCommentsNumber - GNCommDisplayedCommentsNumber) < 1) {
                $(".fyre-buttonT").css("display", "none");
            } else {
                $(".fyre-buttonT").css("display", "block");
            }
        }
    }
    function GNCommShowLegacy() {
        if ($(".fyre-stream-more").is(':visible')) {
            if (GNCommShowLegacyState != "off") {
                //console.log("GNComm:GNCommShowLegacy");
                $(".commentsLocked").css("display", "none");
                GNCommShowLegacyState = "off";
            }
        } else {
            if (GNCommShowLegacyState != "on") {
                //console.log("GNComm:GNCommShowLegacy");
                $(".commentsLocked").css("display", "block");
                GNCommShowLegacyState = "on";
            }
        }
    }
    function GNCommMoveNames() {
        $(".fyre-comment-wrapper").each(function () {
            if ($(this).find(".GNCommMessageDisplayTName").length && $(this).find(".fyre-comment-username").length) {
                if ($(this).find(".GNCommMessageDisplayTName").html() != $(this).find(".fyre-comment-username").text()) {
                    //console.log("GNComm:GNCommMoveNames");
                    $(this).find(".GNCommMessageDisplayTName").html($(this).find(".fyre-comment-username").text());
                }
            }
        });
    }
    function GNCommMoveBody() {
        $(".fyre-comment-wrapper").each(function () {
            if ($(this).find(".GNCommMessageDisplayTBody").length) {
                encodedHTML = $(this).parent().attr("data-message-html");
                if ($(this).find(".GNCommMessageDisplayTBody").attr("data-message-html") != encodedHTML && $(this).is(':visible')) {

                    try {
                        //console.log("GNComm:GNCommMoveBody");
                        //console.log("MB:" + $(this).find(".GNCommMessageDisplayTBody").attr("data-message-html") + ":" + encodedHTML);
                        decodedHTML = decodeURI(encodedHTML);
                        parsedHTML = $.parseHTML(decodedHTML);
                        parsedHTML2 = $.parseHTML(parsedHTML[0].textContent);
                        $(this).find(".GNCommMessageDisplayTBody").html(parsedHTML2);
                        $(this).find(".GNCommMessageDisplayTBody").attr("data-message-html", encodedHTML);
                        if (encodedHTML == "&lt;p&gt;** Comment is Spam **&lt;/p&gt;" || encodedHTML == "&lt;p&gt;** Comment Deleted **&lt;/p&gt;") {
                            $(this).css("display", "none");
                        } else {
                            $(this).css("display", "block");
                        }
                        $(this).find(".GNCommMessageDisplay").css("display", "block");
                        $(this).find(".GNCommFooter").css("display", "flex");
                        $("#GNCommWaitingtop").css("display", "none");
                        $(".fyre-comment-article").find(".GNCommWaiting").css("display", "none");
                        //console.log("GNComm:Post:DISPLAY:Time:" + GNCommGetTimeCheck());
                    } catch (e) {
                        $(this).find(".GNCommMessageDisplayTBody").html("<p>error displaying this message text</p>");
                        $(this).find(".GNCommMessageDisplayTBody").attr("data-message-html", encodedHTML);
                        if (encodedHTML == "&lt;p&gt;** Comment is Spam **&lt;/p&gt;" || encodedHTML == "&lt;p&gt;** Comment Deleted **&lt;/p&gt;") {
                            $(this).css("display", "none");
                        } else {
                            $(this).css("display", "block");
                        }
                        $(this).find(".GNCommMessageDisplay").css("display", "block");
                        $(this).find(".GNCommFooter").css("display", "flex");
                        $("#GNCommWaitingtop").css("display", "none");
                        $(".fyre-comment-article").find(".GNCommWaiting").css("display", "none");
                        console.log("GNComm:Post:ERROR:Time:" + GNCommGetTimeCheck());
                    }
                }
            }
        });
    }
    function GNCommMoveAvatar() {
        $(".fyre-comment-wrapper").each(function () {
            //if (!$(this).hasClass("hasAvatar")) {
            //    $(this).addClass("hasAvatar");
            //}
            if ($(this).find(".GNCommMessageDisplayAvatarImg").attr("src") != $(this).find(".fyre-user-avatar").attr("src")) {
                //console.log("GNComm:GNCommMoveAvatar");
                $(this).find(".GNCommMessageDisplayAvatarImg").attr("src", $(this).find(".fyre-user-avatar").attr("src"));
                $(this).find(".GNCommMessageDisplayAvatarImg").attr("alt", $(this).find(".fyre-user-avatar").attr("alt"));
            }
        });
    }
    function alignReplies() {
        $(".fyre-comment-container").each(function () {
            if ($(this).parent().parent().parent().hasClass('fyre-stream-content')) {
                $(this).css("margin-left", "37px");
            } else {
                $(this).css("margin-left", "0px");
            }
        });
    }
    function GNCommSetFooter() {
        // check if there are any comments
        if ($(".fyre-comment-wrapper")[0]) {
            // Do something if class exists
            if (GNCommSetFooterState != "off") {
                //console.log("GNComm:GNCommSetFooter");
                $(".GNCommBeTheFirst").css("display", "none");
                //$(".commentsLocked").css("display", "block");
                GNCommSetFooterState = "off";
            }
        } else {
            // Do something if class does not exist
            if (GNCommSetFooterState != "on") {
                //console.log("GNComm:GNCommSetFooter");
                $(".GNCommBeTheFirst").css("display", "block");
                //$(".commentsLocked").css("display", "none");
                GNCommSetFooterState = "on";
            }
        }
    }
    var numcommentsLF = 42;
    var heartSVG = '<div class="heartDiv"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" height="12" width="12" viewBox="0 -28.234 600 600" role="img"><path d="M300.003,543.532L53.555,297.104c-68.681-65.205-71.726-174.126-6.69-243.066C79.262,19.696,124.929,0,172.154,0 c44.1,0,86.062,16.674,118.156,46.948c2.233,2.096,4.459,4.307,6.716,6.68l2.978,2.976l2.967-2.966 C335.35,19.543,380.847,0,427.886,0c44.097,0,86.06,16.672,118.158,46.944c69.068,65.152,72.25,174.359,7.1,243.445 c-2.191,2.316-4.426,4.555-6.681,6.701L300.003,543.532z"></path></svg></div>';
    jQuery.fn.reverse = [].reverse;
    // https://answers.livefyre.com/developers/reference/app-customizations/javascript-events/#showMore
    function lfInitialRenderComplete(data) {
        //alignReplies();
        $(".fyre-editor").first().css("display", "none");
        $(".fyre-stream-more").css("background", "transparent");
        $(".fyre-stream-more-container").addClass("fyre-buttonM");
        $(".fyre-stream-more .fyre-text").addClass("fyre-buttonT");
        $(".fyre-stream-more .fyre-text").removeClass("fyre-text");
        //$(".fyre-stream-more .fyre-buttonT").text(numcommentsLF);
        GNCommCountDisplayed();
        $(".GNCommDeleteOverlay").insertBefore(".AH_Holder");
        $(".GNCommFlagOverlay").insertBefore(".AH_Holder");
        $(".fyre-comment-stream").append($(".commentsLocked"));
        

        $(document).on('click', '.fyre-buttonT', function (event) {
            // this never gets called
            setTimeout(function () {
                cleanPosts();
            }, 300);
        });

        $(document).on('click', '.GNCommPleaseVerifyT2', function (event) {
            resendVerifyLink();
            $(".GNCommPleaseVerifyT2").css("opacity", ".2");
            $(".GNCommPleaseVerifyT2").delay(1500).animate({ 'opacity': 1 }, 1000);
        });

        $(document).on('click', '.GNCommSignUpOrLogInSU', function (event) {
            MenuS45_OpenSignUp();
            omnihelpers.signupPath("Comments");
        });
        $(document).on('click', '.GNCommSignUpOrLogInLI', function (event) {
            MenuS45_OpenSignIn();
            omnihelpers.signupPath("Comments");
        });
        

        $(document).on('click', '.fyre-stream-content', function (event) {
            if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                //console.log("logged in but not verified");
                //$("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
                $("#GNCommPleaseVerify").css("display", "block");
            } else {
                if (currentUserActive != "true") {
                    //MenuS45_OpenSignIn();
                    $("#GNCommSignUpOrLogIn").css("display", "block");
                }
            }
        });
        $(document).on('click', '.GNCommNotificationBoxClose', function (event) {
            GNCommHideNotifications();
        });
        $(document).on('click', '.GNComm_SignIn_BodyLink', function (event) {
            hideAuthHolders();
        });

        $(document).on('click', '.GNComm_LegacyRO_BoxClose', function (event) {
            $(this).parent().css("display", "none");
            GNCommOverLocked = false;
            setTimeout(function () {
                if (GNCommOverLocked != true) {
                    $(".GNComm_LegacyRO_Box").css("display", "none");
                }
            }, 500);
        });

        $(document).on('click', '.GNCommFooterLocked', function (event) {
            $(".GNComm_LegacyRO_Box").css("display", "none");
            $(this).parent().find(".GNComm_LegacyRO_Box").css("display", "block");
        });
        $(document).on('mouseenter', '.GNCommFooterLocked', function (event) {
            GNCommOverLocked = true;
            $(".GNComm_LegacyRO_Box").css("display", "none");
            $(this).parent().find(".GNComm_LegacyRO_Box").css("display", "block");
        });
        $(document).on('mouseleave', '.GNCommFooterLocked', function (event) {
            setTimeout(function () {
                if (GNCommOverLocked != true) {
                    $(".GNComm_LegacyRO_Box").css("display", "none");
                }
            }, 500);
            GNCommOverLocked = false;
        });
        $(document).on('mouseenter', '.GNComm_LegacyRO_Box', function (event) {
            GNCommOverLocked = true;
        });
        $(document).on('mouseleave', '.GNComm_LegacyRO_Box', function (event) {
            $(".GNComm_LegacyRO_Box").css("display", "none");
            GNCommOverLocked = false;
        });

        $(document).on('click', '.GNComm_LegacyRO_BoxT2', function (event) {
            window.location.href = '/Contact-Bill-Gates';
        });

        setTimeout(function () {

            $('#livefyre-tablet .fyre-stream-content').css('display', 'flex');
            $('#livefyre-tablet .fyre-stream-content').css('flex-direction', 'column-reverse');
            $('#livefyre-tablet .fyre-stream-content').parent().css('overflow-y', 'auto');

            if (false) { // !elementSupportsAttribute('div', 'placeholder')) {
                // Fallback for browsers that don't support HTML5 placeholder attribute
                $(".fyre-editor-container .fyre-editor-field")
                    .text("Add a nice comment…")
                    .data("originalText", $(".fyre-editor-container .fyre-editor-field").text())
                    .css("color", "#d3d3d3")
                    .focus(function () {
                        var $el = $(this);
                        if (this.value == $el.data("originalText")) {
                            this.value = "";
                        }
                    })
                    .blur(function () {
                        if (this.value == "") {
                            this.value = $(this).data("originalText");
                        }
                    });
            }

            cleanPosts();

        }, 100);
        setInterval(cleanPosts, 1000);
    }
</script>
</div>
</div>
                </div>
                <br>
                <br>
                <br>
            
                <div>
                    <div class="TGN_site_Articlecollumn">
<div class="TGN_site_Article_top">
<script>
    var ww = $(window).width();
    var wh = $(window).height();
    $(document).ready(function () {
        setTimeout(getCommentCount2, 100);
        setTimeout(getCommentCount2, 1000);
        setTimeout(getCommentCount2, 3000);
        $("#article_top_metricsItem_bookmark").click(function () {
            TGN_closeDropMenus();
            TGN_toggleArticleBookmark($(this).attr("data-articleid"));
        });
        $("#article_top_metricsItemComment").click(function () {
            setTimeout(function () { delayScrollToCommentSection("", "") }, 0);
        });
        TGN_ColorBookmarks();
        $(".slideheader_articleDHtitle").html($(".article_top_head").html());
    });
    $(window).on('load', function () {
        TGN_article_LoadImages();
    });
    $(window).resize(function () {
        TGN_article_LoadImages();
    });
    var throttled = TGN_throttle(TGN_article_LoadImages, 1000);
    $(".TGN_site").scroll(throttled);
    function TGN_article_LoadImages() {
        //console.log("TGN_article_LoadImages");
        $(".TGN_site_Article").find(".article_top_articlehero").find("img").each(function (i, obj) {
            if ($(this).attr("data-url") != "set") {
                TGN_site_isOnScreen($(this), $(this), "img");
            }
        });
    }
    var commentTry = 0;
    function getCommentCount2() {
        var i = GNCommActiveCommentsNumber;//parseInt($(".GNCommMessageDisplayTBody:visible").length);
        if (i == 0) {
            $("#article_top_metricsItemComment").html("" + (0 + i));
            $("#article_top_metricsItemComment").css("display", "none");
        } else {
            $("#article_top_metricsItemComment").html("" + (0 + i));
            $("#article_top_metricsItemComment").css("display", "inline-block");
        }
    }
</script>
<div class="article_top_subhead">Benin in front</div>
<div class="article_top_head">Full coverage: Bed nets for Benin</div>
<div class="article_top_description">Its bed net distribution system will help save lives from malaria and other diseases too.</div>
<div class="article_top_byline">By <span class="article_top_bylinebold">Bill Gates</span></div><span class="article_top_chim"> | </span>
<div class="article_top_dateline">August 17, 2020 <span class="article_top_metric_readtime"><i class="icon-dot"></i> 3 minute read</span></div>
<div class="article_top_articlehero"><img class="article_top_DMT_Image" data-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_bed-nets_article_1200x564_01.ashx" data-src-mobile="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_bed-nets_article_1200x564_01.ashx" data-src-tablet="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_bed-nets_article_1200x564_01.ashx" data-url="set" src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_bed-nets_article_1200x564_01.ashx"/></div>
<div class="TGN_site_Innercollumn">
<div class="article_top_metrics">
<div class="article_top_metricsItem article_top_metricsItemCircle"><a href="https://www.facebook.com/sharer/sharer.php?u=https://www.gatesnotes.com/Health/Bed-nets-for-Benin?WT.mc_id=00_00_00_share_fb&amp;title=Full coverage: Bed nets for Benin&amp;quote=Its bed net distribution system will help save lives from malaria and other diseases too." target="_blank"><i class="icon-facebook"></i></a></div>
<div class="article_top_metricsItem article_top_metricsItemCircle"><a href="https://twitter.com/intent/tweet?text=Full+coverage%3a+Bed+nets+for+Benin&amp;url=https://gatesnot.es/2PJfGYH?WT.mc_id=00_00_00_share_tw&amp;via=billgates" target="_blank"><i class="icon-twitter"></i></a></div>
<div class="article_top_metricsItem article_top_metricsItemCircle"><a href="https://www.linkedin.com/shareArticle?mini=true&amp;source=GatesNotes&amp;url=https://www.gatesnotes.com/Health/Bed-nets-for-Benin?WT.mc_id=00_00_00_share_li&amp;title=Full coverage: Bed nets for Benin" target="_blank"><i class="icon-linkedin"></i></a></div>
<div class="article_top_metricsItem article_top_metricsItemCircle"><a href="mailto:?subject=From%20GatesNotes%2Ecom%3A%20Full%20coverage%3A%20Bed%20nets%20for%20Benin&amp;body=Here%20is%20a%20post%20from%20Bill%20Gates%27s%20blog%20that%20might%20interest%20you%3A%0D%0A%0D%0A%E2%80%94%20Full%20coverage%3A%20Bed%20nets%20for%20Benin%20%E2%80%94%0D%0AIts%20bed%20net%20distribution%20system%20will%20help%20save%20lives%20from%20malaria%20and%20other%20diseases%20too.%0D%0Ahttps%3A%2F%2Fwww.gatesnotes.com%2FHealth%2FBed-nets-for-Benin?WT.mc_id=00_00_00_share_em" target="_blank"><i class="icon-mail"></i></a></div>
<div class="article_top_metricsItem GNI_UserOnly" data-articleid="eb76a509-a82d-41b3-8e29-7f1d97b7f71a" id="article_top_metricsItem_bookmark" style="display: none;"><svg class="article_top_metricsItemCSVG" height="25px" stroke="none" viewbox="0 0 16 25" width="16px"><g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1"><g fill="none" stroke="#666"><path d="M0.5,0.5 L0.5,24.5 L8.1716264,19.5137775 L15.5,24.4404006 L15.5,0.5 L0.5,0.5 Z" fill="none" style="fill: none;"></path></g></g></svg></div>
<div class="article_top_metricsItem article_top_metricsItemComment" id="article_top_metricsItemComment" style="display: none;">0</div>
</div>
<div class="article_top_line"></div>
</div>
</div>
<div class="TGN_site_Article_body" id="TGN_site_Article_body">
<div class="TGN_Article_ReadTimeSection">
<style>
    @media all and (min-width: 1021px) {
        /*Desktop only*/
    }

    @media all and (min-width: 681px) {
        /*Desktop and Tablet*/
    }

    @media all and (min-width: 681px) and (max-width: 1020px) {
        /*Tablet only*/
    }

    @media all and (max-width: 1110px) {
    }

    @media all and (max-width: 1020px) {
        /*Mobile and Tablet*/
    }

    @media all and (max-width: 850px) {
    }

    @media all and (max-width: 680px) {
        /*Mobile only*/
    }
</style>
<style>



    .commentstitle {
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-weight: 300;
        font-size: 24px;
        line-height: 30px;
    }

    .commentsentry {
        height: 54px;
        border: 1px solid rgba(0,0,0,0.12);
        display: flex;
        align-items: center;
        justify-content: flex-start;
        margin-bottom: 48px;
        margin-top: 18px;
    }

    .commentsentryplus {
        color: rgba(0,0,0,0.12);
        font-size: 40px;
        margin-left: 16px;
        margin-right: 16px;
    }

    .commentsentrytext {
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 16px;
        line-height: 19px;
        color: #cccccc;
    }

    .commentsPI {
        background: gray;
        width: 30px;
        height: 30px;
        border-radius: 3000px;
    }

    .commentsLINE {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        margin-top: 0px;
        margin-bottom: 10px;
    }

    .commentsNAME {
        margin-left: 16px;
        margin-right: 13px;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-weight: 300;
        font-size: 18px;
        line-height: 23px;
    }

    .commentsTIME {
        color: #CCCCCC;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 16px;
        line-height: 20px;
    }

    .commentsSPACE {
        min-width: 45px !important;
        background: white;
        height: 0px;
    }

    .commentsCOMMENT {
        color: #303030;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 16px;
        line-height: 20px;
    }

    .commentsREPLY {
        color: #757575;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 12px;
        line-height: 14px;
        margin-right: 14px;
        margin-left: 16px;
    }

    .commentsREPORT {
        color: #CCCCCC;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 12px;
        line-height: 14px;
        margin-right: 14px;
        margin-left: 16px;
    }

    .commentsH {
        color: #e15b6c;
    }

    .commentsHoff {
        color: #cccccc;
    }

    .commentsSUB {
        margin-top: 0px;
    }

    .commentsVLINE {
        width: 2px;
        background: rgba(0,0,0,0.12);
        margin-right: 15px;
        min-height: 100%;
        height: 100%;
    }

    .commentsMAIN {
        margin-bottom: 30px;
        margin-top: 30px;
    }

    .ReadTheseModule .TGN_site_ArticleItem {
        width: 32%;
    }

    .TGN_site_Hline {
        /*display:none;*/
    }

    /*MEDIA*/

    @media all and (max-width: 960px) {


        .ReadTheseModule .TGN_site_Titledsectionsbottom {
            margin-top: 17px;
            width: 130%;
        }

        .ReadTheseModule .TGN_site_Titledsections {
            overflow: hidden;
        }

        .ReadTheseModule .articletitle {
            font-size: 18px;
            line-height: 23px;
            margin-top: 10px;
            margin-bottom: 6px;
        }

        .ReadTheseModule .articledescription {
            font-size: 16px;
            line-height: 18px;
        }

        .commentsNAME {
            font-size: 16px;
            line-height: 20px;
        }

        .commentsCOMMENT {
            font-size: 16px;
            line-height: 19px;
        }
    }


    @media all and (max-width: 680px) {
        .ReadTheseModule .TGN_site_Titledsectionsbottom {
            margin-top: 17px;
            width: 200%;
        }
    }
</style>
<script>
    var ww = $(window).width();
    var wh = $(window).height();
    $(document).ready(function () {
        SizeContentToScreen();
        //$(".TGN_site_Bodycopy").append($(".articleContent"));
    });
    $(window).resize(function () {
        SizeContentToScreen();
    });
    window.onscroll = function () { SizeContentToScreen() };
    function SizeContentToScreen() {
        ww = $(window).width();
        wh = $(window).height();
        var scrollTopContentArea = $(".TGN_site").scrollTop();
        var scrollTopReadTheseModule = $(".TGN_RelatedContent_Holder").offset();
        if (scrollTopContentArea + (wh * .75) > scrollTopReadTheseModule.top) {
            $(".HeaderShareLinks").css("display", "block");
        } else {
            $(".HeaderShareLinks").css("display", "none");
        }
        $(".commentsVLINE").each(function (i, obj) {
            $(this).css("height", $(this).parent().height() + "px");
        });
    }
</script>
<div class="TGN_site_Innercollumn">
<div class="TGN_site_Bodycopy" id="TGN_site_Bodycopy">
</div>
</div>
<p>If you’ve ever traveled to a part of the world where there’s a risk of malaria or other mosquito-borne disease, you probably slept under a mosquito net.</p>
<p>The gauzy fabric creates a physical barrier that protects you from mosquitoes. At the same time, you serve as bait in a deadly trap. Treated with potent insecticides, the net kills mosquitoes that land on it during their futile efforts to bite you.</p>
<p>It’s a remarkably simple tool, but it’s proven to be one of the most effective weapons we have against malaria. Increased bed net use is largely responsible for the more than 50 percent drop in malaria deaths worldwide since 2000.</p>
<p>Still, more needs to be done to ensure that communities at highest risk of malaria have access to them.</p>
<p>That’s why I’m excited that the government of Benin this year launched a new, innovative approach to distributing bed nets to their population.</p>
<!-- [EMBEDED VIDEO ITEM] -->
<style>
    .gnYoutube_VR_Outer {
        width: 100%;
        margin-left: 0%;
        padding: 0%;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-weight: 300;
        font-size: 16px;
        line-height: 18px;
    }

    .gnYoutube_VR_SpanT1 {
        font-weight: 600;
    }

    .gnYoutube_VR_Span {
        margin-top: 4px;
        margin-bottom: 8px;
        max-width: 760px;
    }
</style>
<div class="gnYoutube_VR_Outer" data-vr="False">
<div class="gnYoutubeHolder videoEmbed" id="gnYoutubeHolder0">
<iframe data-vr="False" data-yt="JsHymWNurRc" frameborder="0" height="450" id="whateverIDJsHymWNurRc" src="https://www.youtube.com/embed/JsHymWNurRc?rel=0&amp;modestbranding=1&amp;playsinline=1&amp;color=white&amp;showinfo=0&amp;enablejsapi=1&amp;origin=https://www.gatesnotes.com&amp;enablejsapi=1&amp;origin=https://www.gatesnotes.com" width="800"></iframe>
</div>
</div>
<script>

    $(window).on('load', function () {
        onYouTubeIframeAPIReady();
    })
</script>
<p>Using smartphones, real time data collection, satellite mapping and other surveillance techniques, Benin’s distribution program will give health officials the data they need to provide full bed net coverage to the country.</p>
<p>Benin is faced with one of the highest burdens of malaria in the world. The West African country of nearly 12 million people has about 2 million cases each year. If successful, this new bed net distribution effort will save thousands of lives and serve as a blueprint for other high burden malaria countries to follow.</p>
<p>As you might imagine, distributing bed nets to every household is a massive logistical effort involving thousands of people—from truck drivers to health workers. And the job is made even harder in Benin where exact population numbers are uncertain.</p>
<p>For many years, Benin’s distribution campaigns were run with pencil and paper systems. Health officials used thick ledgers to keep track of the names and addresses of residents and how many beds nets they needed. It was time-consuming and often inaccurate. No one knew exactly how many nets would be needed or if they reached their intended destinations. As a result, many families were missed during the distribution, putting them at higher risk of malaria because they lacked the protection of a bed net.</p>
<p>But this year’s distribution is different. In partnership with <a href="https://www.crs.org/our-work-overseas/where-we-work/africa" rel="noopener noreferrer" target="_blank">Catholic Relief Services</a> and our foundation, Benin’s national malaria program created a new, digitized distribution system that is more accurate and efficient in getting bed nets into the homes of all households in the country.</p>
<p>In many ways, this effort is based on the lessons the global health community has learned in the fight against polio. As vaccinators sought to immunize every child against polio in India and Nigeria, they would sometimes miss households, especially in remote areas. But with satellite mapping and better data collection, health workers were able to quickly identify gaps in vaccination coverage and reach every home.</p>
<p>Benin’s new bed net distribution operates in much the same way. Walking door to door, health workers make home visits throughout the country and perform a brief census: the number of people living there, including number of children and pregnant women, number of bed nets needed, etc. Using cell phones, they enter this information into a database. They also give each household a uniquely coded voucher to redeem at a nearby distribution center where they can collect their bed nets.</p>
<p>On the distribution day, people come to collect their nets and get lessons on the proper way to set up and care for them. As people arrive to redeem their vouchers for the nets, the malaria team has real time data on which households have received their nets and which ones have not. This data—which can be reviewed on a digital map—allows the malaria team to quickly identify any problems with their delivery system. It also gives health workers detailed information about which households need to be targeted for follow up to ensure they all have nets.</p>
<p>I admit none of what I’ve just described may sound that revolutionary. But in global health, I’ve learned again and again that saving lives is the result of getting the smallest details—from the temperature of a vaccine to the address of a beneficiary—right. And Benin’s new digitized bed net distribution program does just that by giving the government a powerful tool to manage a complex job.</p>
<p>And with this new digital distribution system in place, Benin can use it as a platform to manage other big health campaigns—like vaccinating against meningitis and door-to-door efforts to eliminate neglected tropical diseases.</p>
<p>I’m looking forward to hearing more about Benin’s progress in the fight against malaria and other diseases because of this new system—and I hope other countries will learn from their success.</p>
<script type="text/javascript">
    TGN_Page_Style = "article";
    var listOfObjects = [];
    var mainIIG = 0;
    var IsAnAL2016 = false;
    var HasDownloadMenu = false;
    $(document).ready(function () {
        //console.log("ArticleJS_Ready");
        $(".bottom").css("display", "block");
        IsAnAL2016 = $(".al2016Article").is(":visible");
        HasDownloadMenu = $('#AL2016DownloadMenuData').is(":visible");
        adjustPrevNext();
        getCommentCount();
        var referrer = document.referrer;
        //console.log(referrer);
        isAnArticlePage = true;
        formatInlineElems();
        // move progbar
        $(".TGNBannersHolder").prepend($(".TGNArticleProgBar"));

    });
        $(window).on('load', function () {
            TGN_article_SetReadTime();
        });
    function TGN_article_SetReadTime() {
        $(".TGN_Article_ReadTimeSection").each(function (i, obj) {
            var text = "";
            if ($(this).hasClass("TGN_LS_SubArticle")) {
                var element = obj;
                text = element.innerText || element.textContent;
                var article_top_metric_WordCount = WordCount(text);
                var article_top_metric_readtime = Math.ceil(article_top_metric_WordCount/265)
                $(this).find(".article_top_metric_readtime").html("<i class='icon-dot'></i> " + article_top_metric_readtime + " minute read");
            } else {
                var element = obj;
                text = element.innerText || element.textContent;
                var article_top_metric_WordCount = WordCount(text);
                var article_top_metric_readtime = Math.ceil(article_top_metric_WordCount/265)
                $(this).parent().parent().find(".article_top_metric_readtime").html("<i class='icon-dot'></i> " + article_top_metric_readtime + " minute read");
            }
        });
        }
        function WordCount(str) {
            return str.split(" ").length;
        }
    $(window).resize(function () {
        adjustPrevNext();
        adjustPQ();
        if ($('.InlineImageGalleryBase').length) {
            adjustIIG();
        }
    });
    window.onorientationchange = function () {

        var orientation = window.orientation;

        // Look at the value of window.orientation:

        if (orientation === 0) {

            // iPad is in Portrait mode.

        }

        else if (orientation === 90) {

            // iPad is in Landscape mode. The screen is turned to the left.

        }


        else if (orientation === -90) {

            // iPad is in Landscape mode. The screen is turned to the right.

        }
        if ($('.InlineImageGalleryBase').length) {
            adjustIIG();
        }

    }
    function iignext() {
        var ww = $(window).width();
        mainIIG += 1;
        if (mainIIG > listOfObjects.length - 1) { mainIIG = 0; }
        $('.InlineImageGalleryMain').html(listOfObjects[mainIIG].outerHTML);
        nIIG = mainIIG + 1;
        if (nIIG > listOfObjects.length - 1) { nIIG = 0; }
        $('.InlineImageGalleryNextImage').html(listOfObjects[nIIG].outerHTML);
        pIIG = mainIIG - 1;
        if (pIIG < 0) { pIIG = listOfObjects.length - 1; }
        $('.InlineImageGalleryPrevImage').html(listOfObjects[pIIG].outerHTML);
        //$('.InlineImageGalleryText').html("<span class='iigPrevArrow'>&lt;&lt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+(mainIIG+1)+"&nbsp;&nbsp;of&nbsp;&nbsp;"+listOfObjects.length+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='iigNextArrow'>&gt;&gt;</span><br><br><b>"+listOfObjects[0].dataset.caption1+"</b><br>"+listOfObjects[mainIIG].attributes.data-description.value+"<br>");

        var capt01 = listOfObjects[mainIIG].getAttribute('data-caption1');//listOfObjects[mainIIG].dataset.caption1
        var capt02 = listOfObjects[mainIIG].getAttribute('data-caption2');
        if (capt01 == null) { capt01 = ""; }
        if (capt02 == null) { capt02 = ""; }
        if (ww < 800) {
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
        } else {
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
        }

        $('.iigNextArrow').click(function () {
            iignext();
        })
        $('.iigPrevArrow').click(function () {
            iigprev();
        })
        adjustIIG();
    }
    function iigprev() {
        var ww = $(window).width();
        mainIIG -= 1;
        if (mainIIG < 0) { mainIIG = listOfObjects.length - 1; }
        $('.InlineImageGalleryMain').html(listOfObjects[mainIIG].outerHTML);
        nIIG = mainIIG + 1;
        if (nIIG > listOfObjects.length - 1) { nIIG = 0; }
        $('.InlineImageGalleryNextImage').html(listOfObjects[nIIG].outerHTML);
        pIIG = mainIIG - 1;
        if (pIIG < 0) { pIIG = listOfObjects.length - 1; }
        $('.InlineImageGalleryPrevImage').html(listOfObjects[pIIG].outerHTML);

        var capt01 = listOfObjects[mainIIG].getAttribute('data-caption1');//listOfObjects[mainIIG].dataset.caption1
        var capt02 = listOfObjects[mainIIG].getAttribute('data-caption2');
        if (capt01 == null) { capt01 = ""; }
        if (capt02 == null) { capt02 = ""; }
        if (ww < 800) {
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
        } else {
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
        }

        $('.iigNextArrow').click(function () {
            iignext();
        })
        $('.iigPrevArrow').click(function () {
            iigprev();
        })
        adjustIIG();
    }
    function adjustPQ() {
        var pqW = $('.suspendedR').width();
        var pqH = $('.suspendedR').height();
        $('.pqrq').css("margin-left", pqW - 60);
        $('.pqrq').css("margin-top", pqH - 110);
    }
    function adjustIIG() {
        var ww = $(window).width();
        var iigW = $('.InlineImageGalleryBase').width();
        //console.log(ww);
        //if (iigW<512){iigW=512;}
        var iigMW = iigW;//-4
        var iigMH = iigMW * 0.666666667;
        var iigOL = $('.InlineImageGalleryBase').offset().left;
        var iigACOL = $('.articleContent').offset().left;
        $('.InlineImageGalleryPre').css("left", iigOL - iigACOL);
        //$('.InlineImageGalleryBase').css("width",iigW);
        $('.InlineImageGalleryMain').css("width", iigMW);
        $('.InlineImageGalleryMain').css("height", "auto");
        $('.InlineImageGalleryPrev').css("width", (iigMW + 10) / 2);
        $('.InlineImageGalleryPrev').css("top", (-iigMH / 2 - 20));
        $('.InlineImageGalleryNext').css("width", (iigMW + 10) / 2);
        $('.InlineImageGalleryNext').css("left", (iigMW + 10) - 57);
        $('.InlineImageGalleryNext').css("top", ((-iigMH / 2 - 20) - 70));
        $('.InlineImageGalleryPrevImage').css("left", ((iigMW + 10) / 2) - 152);
        $('.InlineImageGalleryBase').css("height", iigMH);
        $('.InlineImageGalleryText').css("width", "auto");
        //if(ww<980){
        //    //$('.InlineImageGalleryText').css("left",iigMW-(((iigMW-35))-0));
        //}else{
        //    //$('.InlineImageGalleryText').css("left",iigMW-(((iigMW-35))-0));
        //    //$('.InlineImageGalleryText').css("width",((iigMW+10)/2)-152);
        //    //$('.InlineImageGalleryText').css("left",iigMW-(((iigMW+10)/2)-152));
        //}
        if (ww < 800) {
            //$('.IIGheadline').text("PHOTO GALLERY");
            $('.IIGheadline').css("top", 5);
            //$('.IIGcountIcon').css("left",iigMW/2-60-41);
            //$('.IIGheadline').css("left",iigMW/2-41);
            $('.IIGheadline').css("width", iigMW - 25);
            $('.InlineImageGalleryText').css("height", $('.IIGheadline').height() + 15);
            $('.InlineImageGalleryBase').css("height", $('.IIGheadline').height() + iigMH + 20);
        } else {
            if (mainIIG < 0) { mainIIG = listOfObjects.length - 1; }
            $('.InlineImageGalleryMain').html(listOfObjects[mainIIG].outerHTML);
            nIIG = mainIIG + 1;
            if (nIIG > listOfObjects.length - 1) { nIIG = 0; }
            $('.InlineImageGalleryNextImage').html(listOfObjects[nIIG].outerHTML);
            pIIG = mainIIG - 1;
            if (pIIG < 0) { pIIG = listOfObjects.length - 1; }
            $('.InlineImageGalleryPrevImage').html(listOfObjects[pIIG].outerHTML);
            var capt01 = listOfObjects[mainIIG].getAttribute('data-caption1');//listOfObjects[mainIIG].dataset.caption1
            var capt02 = listOfObjects[mainIIG].getAttribute('data-caption2');
            if (capt01 == null) { capt01 = ""; }
            if (capt02 == null) { capt02 = ""; }
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
            $('.IIGheadline').css("width", iigMW - 200);
            var headH = $('.IIGheadline').height();
            if (headH == 15) {
                $('.IIGheadline').css("top", 17);
            } else if (headH == 30) {
                $('.IIGheadline').css("top", 9);
            } else if (headH == 45) {
                $('.IIGheadline').css("top", 2);
            } else {
                $('.IIGheadline').css("top", 17);
            }
            $('.InlineImageGalleryText').css("height", 50);

            //console.log("h: "+$('.IIGheadline').height()+" w: "+$('.IIGheadline').width());
        }
    }
    // ADD SUPPORT FOR INLINE INTERACTIVE FILES
    function formatInlineElems() {
        // related content //small-12 medium-12 large-12 columns
        var listOfRelated = [];
        $('.promounit').each(function (i, obj) {
            listOfRelated.push(obj);
        });
        //console.log(listOfRelated);
        // CTA
        $('.bgcta').each(function (i, obj) {
            //console.log($(this).children().eq(1).prop('src'));
            $(this).after("<div class='suspendedCTA' id='bgcta" + i + "'><a href='" + $(this).attr("data-link") + "'><div class='suspendedBCTA' id='bgctab" + i + "'>" + $(this).children().eq(0).clone().wrap('<p>').parent().html() + "</div></a></div>");
            var imgOn = $(this).children().eq(1).prop('src');
            var imgOff = $(this).children().eq(0).prop('src');
            $("#bgctab" + i).mouseenter(function () {
                $(this).find('img').attr("src", "" + imgOn);
            }).mouseleave(function () {
                $(this).find('img').attr("src", "" + imgOff);
            });
            $(this).remove();
            $("#bgctab" + i).children(0).attr("width", "100%");
        });
        // marginalia right
        $('.bgsbnoter').each(function (i, obj) {
            var ww = $(window).width();
            if (ww > 980) {
                $(this).after("<div class='suspendedNOTER' id='gbli" + i + "'><div class='suspendedNOTERB' id='bgsbnoter" + i + "'>" + $(this).html() + "</div></div>");
                $(this).remove();
                $("#bgsbnoter" + i).children(0).attr("width", "100%");
                $("#bgsbnoter" + i).css("position", "relative");
                $("#bgsbnoter" + i).css("top", $(this).attr("offsetY"));
                $("#bgsbnoter" + i).css("left", $(this).attr("offsetX"));
            } else {
                $(this).remove();
            }
        });
        // marginalia left
        $('.bgsbnotel').each(function (i, obj) {
            var ww = $(window).width();
            if (ww > 980) {
                $(this).after("<div class='suspendedNOTEL' id='gbli" + i + "'><div class='suspendedNOTELB' id='bgsbnotel" + i + "'>" + $(this).html() + "</div></div>");
                $(this).remove();
                $("#bgsbnotel" + i).children(0).attr("width", "100%");
                $("#bgsbnotel" + i).css("position", "relative");
                $("#bgsbnotel" + i).css("top", $(this).attr("offsetY"));
                $("#bgsbnotel" + i).css("left", $(this).attr("offsetX"));
            } else {
                $(this).remove();
            }
        });
        // left image
        $('.bgli').each(function (i, obj) {
            //$(this).after( "<div class='suspended' id='gbli"+i+"'><div class='suspendedB' id='gblib"+i+"'>"+listOfRelated[0].outerHTML+"</div></div>" ); // related content
            $(this).after("<div class='suspended' id='gbli" + i + "'><div class='suspendedB' id='gblib" + i + "'>" + $(this).html() + "</div></div>");
            $(this).remove();
            $("#gblib" + i).children(0).attr("width", "100%");
        });
        // block quote
        $('.bgbq').each(function (i, obj) {
            var PQAtext = $(this).find(".bgbqa").html();
            $(this).find(".bgbqa").remove();
            var PQtext = $(this).html();
            //var s = PQtext.replace(/\u201C/g, "&nbsp;<span class='pqqq'>&ldquo;</span>");
            //var s2 = s.replace(/\u201D/g, "<span class='pqqq'>&rdquo;</span>");
            $(this).after("<div class='ShareableQuote_Holder'><div class='ShareableQuote_Text' data-sqinstance='" + i + "' data-sqtwittersharetext='' data-sqfacebooksharedescription='' data-sqfacebooksharelink='' data-sqfacebookshareimage=''><div class='ShareableQuote_Line'></div>" + PQtext + "</div><div class='ShareableQuote_Attrib'>" + PQAtext + "</div></div>");
            $(this).remove();
            //$(".articleContent p").css("z-index", "1");
            //$(".articleContent p").css("position", "relative");
        });
        // underline
        $('.TGNil_underline').each(function (i, obj) {
            $(this).css("border-bottom", "0px solid " + "#f5d840");//+$(this).attr("mycolor"));
            $(this).css("box-shadow", "inset 0 -5px 0 " + "#f5d840");//+$(this).attr("mycolor"));
            $(this).css("color", "inherit");
            $(this).css("-webkit-transition", "background .15s cubic-bezier(.33,.66,.66,1)");
            $(this).css("transition", "background .15s cubic-bezier(.33,.66,.66,1)");
        });
        // highlight
        $('.TGNil_highlight').each(function (i, obj) {
            $(this).css("border-bottom", "2px solid " + $(this).attr("mycolor"));
            $(this).css("box-shadow", "inset 0 -23px 0 " + $(this).attr("mycolor"));
            $(this).css("color", "inherit");
            $(this).css("-webkit-transition", "background .15s cubic-bezier(.33,.66,.66,1)");
            $(this).css("transition", "background .15s cubic-bezier(.33,.66,.66,1)");
        });
        // inline image gallery
        $('.bgiig').css("display", "block");//remove after testing
        $('.bgiig').each(function (i, obj) {
            $(this).children().each(function () {
                $(this).attr('style', 'height:auto!important;width:100%!important;');
                listOfObjects.push(this);
            });
            var capt01 = listOfObjects[0].getAttribute('data-caption1');//listOfObjects[0].dataset.caption1
            var capt02 = listOfObjects[0].getAttribute('data-caption2');
            if (capt01 == null) { capt01 = ""; }
            if (capt02 == null) { capt02 = ""; }
            //thumb.getAttribute('data-bigwidth')
            $(this).after("<div class='InlineImageGalleryPre'><div class='InlineImageGalleryPreThumb'><i class='galleryicon icon-gallery_2'></i></div><div class='InlineImageGalleryPreText'>PHOTO GALLERY</div></div><div class='InlineImageGalleryBase'><div class='InlineImageGalleryMain'>" + listOfObjects[0].outerHTML + "</div><div class='InlineImageGalleryPrev'></div><div class='InlineImageGalleryNext'></div><div class='InlineImageGalleryText'><div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>1&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span></div></div>");
            //$(this).after( "<div class='InlineImageGalleryPre'><div class='InlineImageGalleryPreThumb'><i class='galleryicon icon-gallery_2'></i></div><div class='InlineImageGalleryPreText'>PHOTO GALLERY</div></div><div class='InlineImageGalleryBase'><div class='InlineImageGalleryMain'>"+listOfObjects[0].outerHTML+"</div><div class='InlineImageGalleryPrev'></div><div class='InlineImageGalleryNext'></div><div class='InlineImageGalleryText'><div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>1&nbsp;&nbsp;of&nbsp;&nbsp;"+listOfObjects.length+"</div><span class='IIGheadline'>"+listOfObjects[0].dataset.caption1+" <span class='IIGheadline2'>"+listOfObjects[mainIIG].dataset.caption2+"</span></span></div></div>" );
            $(this).remove();
            //console.log(listOfObjects);
            //$('.articleContent').css("color","#F00");
        });
        var IIGlength = listOfObjects.length;
        //console.log(IIGlength);
        $('.InlineImageGalleryNext').click(function () {
            iignext();
        })
        $('.InlineImageGalleryPrev').click(function () {
            iigprev();
        })
        $('.iigNextArrow').click(function () {
            iignext();
        })
        $('.iigPrevArrow').click(function () {
            iigprev();
        })
        //
        if ($('.InlineImageGalleryBase').length) {
            adjustIIG();
        }
        //
        if ($('.suspendedR').length) {
            adjustPQ();
        }
        //$('.suspended').each(function (i, obj) {
        //    var thisW = $(this).width();
        //    var thisH = $(this).height();
        //    if(thisW>thisH){
        //        $(this).css("width",450);
        //    }
        //});

    }
    function getCommentCount() {
        var see = $(".disqusLink").text();
        if (see == "") {
            setTimeout(getCommentCount, 500);
        }
        else {
            var i = parseInt(see);
            $(".commentCount").each(function (ii, v) {
                $(v).text(i.toString());
            });

        }
    }
    var scrollwidthDU = function () {

        var inner = document.createElement('p');
        inner.style.width = "100%";
        inner.style.height = "200px";

        var outer = document.createElement('div');
        outer.style.position = "absolute";
        outer.style.top = "0px";
        outer.style.left = "0px";
        outer.style.visibility = "hidden";
        outer.style.width = "200px";
        outer.style.height = "150px";
        outer.style.overflow = "hidden";
        outer.appendChild(inner);

        document.body.appendChild(outer);
        var w1 = inner.offsetWidth;
        outer.style.overflow = 'scroll';
        var w2 = inner.offsetWidth;
        if (w1 == w2) w2 = outer.clientWidth;

        document.body.removeChild(outer);

        return (w1 - w2);

    }();
    function adjustPrevNext() {

        var hn = $(".nextText").height();
        var hp = $(".prevText").height();
        var h = Math.max(hn + 24, hp + 24);
        //console.log("prev " + hp + " next " + hn);
        $("#content_0_nextLink").css("height", h + "px");
        $("#content_0_prevLink").css("height", h + "px");
        //$(".nextText").css("padding-top", (((h-hn) / 2) + 8) + "px");
        //$(".prevText").css("padding-top", (((h-hp) / 2) + 8) + "px");

        $(".nextArrow").css("padding-top", (((h - 33) / 2)) + "px");
        $(".prevArrow").css("padding-top", (((h - 33) / 2)) + "px");
    }
    function doOmnitureEvent(event) {
        try {
            s.linkTrackVars = "events,eVar9";
            s.linkTrackEvents = "event11,event12,event13,event15";
            s.events = event;
            s.tl(true, 'o', 'article');
        } catch (e) {
            //console.log(e.message);
            //console.log(e.name);
        }
    }

    $(document).ready(function () {

        // Omniture Stuff
        var tagsLocation = $(".TGN_site_Footer").offset().top; // was tagsLocation
        var scrolledToTags = false;
        var scrolledToComments = false;
        var tgnbody = $(".TGN_site");
        $(".fbShareThis").click(function () {
            s.eVar9 = "facebook share";
            doOmnitureEvent("event11");
        });
        $(".twitterShareThis").click(function () {
            s.eVar9 = "twitter share";
            doOmnitureEvent("event12");
        });
        $(".TGN_site").scroll(function () {

            if (scrolledToTags === false) {
                if (tgnbody.height() + tgnbody.scrollTop() > tagsLocation) {
                    scrolledToTags = true;
                    doOmnitureEvent("event13");
                }
            }
            if (scrolledToComments === false) {
                if (tgnbody.scrollTop() > tagsLocation) {
                    scrolledToComments = true;
                    doOmnitureEvent("event15");
                }
            }
        });
    });

    $(document).ready(function () {
    });
</script></div>
</div>
<div class="TGN_site_Article_readnext">
<style>

#TGN_RelatedContent_ArticlesBox {
    display: flex;
    width: 100%;
    justify-content: space-between;
    align-items: flex-start;
}
.TGN_RelatedContent_Slide {
    width: 32%;
    display: none;
}
.TGN_RelatedContent_Slide:hover .TGN_RelatedContent_FeatureArticleRighttitle {
    text-decoration:underline;
}
.TGN_RelatedContent_Slide:nth-child(-n+3){
    display:block;
}
    .TGN_RelatedContent_Holder {
        margin-top: 40px;
        margin-bottom: 40px;
        padding: 0px;
    }

    .TGN_RelatedContent_Title {
        color: black;
        margin-left: 0px;
        margin-bottom: 8px;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-size: 32px;
        font-weight: 600;
        line-height: 28px;
        height: 38px;
        letter-spacing: 0.06px;
        display: flex;
    }

    .TGN_RelatedContent_Holder .TGN_site_Titledsectionstopright {
        display: none;
    }

    .TGN_RelatedContent_Holder .TGN_site_Moreitems {
        cursor: pointer;
        display: none;
    }

    .TGN_RelatedContent_Scroller {
        overflow-y: hidden;
        overflow-x: hidden;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .TGN_RelatedContent_RightArrow {
        display: none;
        text-align: center;
        font-size: 32px;
        cursor: pointer;
        color: black;
    }

    .TGN_RelatedContent_FeatureArticle {
        display: inline-block;
    }
.TGN_RelatedContent_FeatureArticleLink {
    display: flex;
    align-items: flex-start;
    align-content: flex-start;
    text-decoration: none;
    justify-content: flex-start;
    flex-flow: column;
}
.TGN_RelatedContent_FeatureArticleTop {
    width: 100%;
    display: block;
}
.TGN_RelatedContent_FeatureArticleRighttitle {
    color: #000000;
    font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
    font-weight: 700;
    font-size: 18px;
    line-height: 20px;
    margin-top: 10px;
    margin-bottom: 7px;
}
.TGN_RelatedContent_FeatureArticleRightblurb {
    margin-bottom: 2px;
    color: #404040;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-size: 14px;
    line-height: 18px;
    overflow-wrap: break-word;
}
    .TGN_RelatedContent_FeatureArticleRightbydate {
        color: black;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-size: 18px;
        line-height: 30px;
        font-weight: 400;
        display: none;
    }

    .TGN_RelatedContent_FeatureArticleRightdate {
        display: none;
    }

    #TGN_RelatedContent_FeatureArticleLeft {
        width: 47.9%;
    }

    #TGN_RelatedContent_FeatureArticleRight {
        margin-left: 3%;
        width: 47.9%;
    }
.TGN_RelatedContent_FeatureArticleImg {
    width: 100%;
    display: block;
}
.TGN_RelatedContent_FeatureArticleImg img {
    width: 100%;
}
    @media all and (min-width: 1021px) {
        /*Desktop only*/
    }

    @media all and (min-width: 681px) {
        /*Desktop and Tablet*/
    }

    @media all and (min-width: 681px) and (max-width: 1020px) {
        /*Tablet only*/
    }

    @media all and (max-width: 1110px) {
    }

    @media all and (max-width: 1020px) {
        .TGN_RelatedContent_Title {
            height: 30px;
        }
    }

    @media all and (max-width: 980px) {
        .TGN_RelatedContent_RightArrow {
        }

        .TGN_RelatedContent_Holder {
            margin-left: 30px;
            margin-right: 30px;
        }
    }

    @media all and (max-width: 780px) {
        .TGN_RelatedContent_RightArrow {
        }

        .TGN_RelatedContent_Holder {
            margin-left: 0px;
            margin-right: 0px;
        }
    }

    @media all and (max-width: 680px) {
        .TGN_RelatedContent_Title {
            margin-bottom: 10px;
        }

        .TGN_RelatedContent_FeatureArticleLink {
            align-items: flex-start;
        }

        #TGN_RelatedContent_FeatureArticleLeft {
            width: 33%;
            background: #808080;
        }

        #TGN_RelatedContent_FeatureArticleRight {
            margin-left: 3%;
            width: 64%;
        }

        .TGN_RelatedContent_FeatureArticleRighttitle {
            font-size: 18px;
            line-height: 21px;
            margin-top: 2px;
            margin-bottom: 2px;
        }

        .TGN_RelatedContent_FeatureArticleRightblurb {
            font-size: 14px;
            line-height: 17px;
        }

        .TGN_RelatedContent_FeatureArticleImg {
            display: block;
            width: 100%;
        }

        .TGN_RelatedContent_Holder .TGN_site_Titledsectionstopright {
            /*display:flex;*/
        }

        .TGN_RelatedContent_RightArrow {
            display: none;
        }
        
.TGN_RelatedContent_Slide {
    width: 49%;
    display: none;
}
.TGN_RelatedContent_Slide:nth-child(3){
    display:none;
}
.TGN_RelatedContent_Slide:nth-child(-n+2){
    display:block;
}
    }
    @media all and (max-width: 480px) {
#TGN_RelatedContent_ArticlesBox {
    flex-flow: column;
}
.TGN_RelatedContent_Slide {
    width: 100%;
    display: block;
        margin-bottom: 20px;
}
.TGN_RelatedContent_Slide:nth-child(-n+4){
    display:block;
}
    }
</style>
<div class="TGN_RelatedContent_Holder">
<div class="TGN_RelatedContent_Title">
<div class="TGN_site_Titledsectionstopleft">
<div class="TGN_site_Titledsectionstitle">Read this next</div>
</div>
<div class="TGN_site_Titledsectionstopright">
<div class="TGN_site_Moreitems">NEXT</div>
<div class="TGN_site_Moreitemsarrow"><span class="TGN_RelatedContent_MobileRightArrow"><i class="icon-left-point-arrow"></i></span></div>
</div>
</div>
<div class="TGN_RelatedContent_Scroller">
<div id="TGN_RelatedContent_ArticlesBox">
<div class="TGN_RelatedContent_Slide" data-articleid="a554d38f-baaa-4e81-89a3-941a2d88c35f">
<a class="TGN_RelatedContent_FeatureArticleLink" href="/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria">
<div class="TGN_RelatedContent_FeatureArticleTop">
<div class="TGN_RelatedContent_FeatureArticleImg"><img data-blogroll-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_blogroll_800x494_01.ashx" data-cover="" data-cover-url="" data-searchthumbovercover="" data-square-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_thumbnail_320px_01.ashx" data-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_thumbnail_320px_01.ashx" data-thumbovercover="" data-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_blogroll_800x494_01.ashx" src="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_blogroll_800x494_01.ashx"/></div>
</div>
<div class="TGN_RelatedContent_FeatureArticleBottom">
<div class="TGN_RelatedContent_FeatureArticleRighttitle">As COVID-19 spreads, don’t lose track of malaria</div>
<div class="TGN_RelatedContent_FeatureArticleRightblurb" style="white-space: pre-line">The pandemic is a reminder of why we need to eradicate this mosquito-borne disease.</div>
</div>
</a>
</div>
<div class="TGN_RelatedContent_Slide" data-articleid="88ff0784-6d7a-4511-99b7-14372391bd20">
<a class="TGN_RelatedContent_FeatureArticleLink" href="/Health/Mosquito-City">
<div class="TGN_RelatedContent_FeatureArticleTop">
<div class="TGN_RelatedContent_FeatureArticleImg"><img data-blogroll-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_blogroll_800x494_01.ashx" data-cover="" data-cover-url="" data-searchthumbovercover="" data-square-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_thumbnail_320px_01.ashx" data-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_thumbnail_320px_01.ashx" data-thumbovercover="" data-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_blogroll_800x494_01.ashx" src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_blogroll_800x494_01.ashx"/></div>
</div>
<div class="TGN_RelatedContent_FeatureArticleBottom">
<div class="TGN_RelatedContent_FeatureArticleRighttitle">It’s always buzzing in Mosquito City</div>
<div class="TGN_RelatedContent_FeatureArticleRightblurb" style="white-space: pre-line">A city where researchers study how to repel, attract, and kill the world’s deadliest animal. </div>
</div>
</a>
</div>
<div class="TGN_RelatedContent_Slide" data-articleid="46abf3a3-4a59-43eb-bd93-41575a623531">
<a class="TGN_RelatedContent_FeatureArticleLink" href="/Health/These-maps-could-point-the-way-to-eradicating-malaria">
<div class="TGN_RelatedContent_FeatureArticleTop">
<div class="TGN_RelatedContent_FeatureArticleImg"><img data-blogroll-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_800px_v2.ashx" data-cover="" data-cover-url="" data-searchthumbovercover="" data-square-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_320px_v2.ashx" data-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_320px_v2.ashx" data-thumbovercover="" data-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_800px_v2.ashx" src="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_800px_v2.ashx"/></div>
</div>
<div class="TGN_RelatedContent_FeatureArticleBottom">
<div class="TGN_RelatedContent_FeatureArticleRighttitle">These maps could point the way to stopping malaria</div>
<div class="TGN_RelatedContent_FeatureArticleRightblurb" style="white-space: pre-line">We’re using them to maximize scarce resources.</div>
</div>
</a>
</div>
</div>
<div class="TGN_RelatedContent_RightArrow">
<i class="icon-left-point-arrow"></i>
</div>
</div>
</div>
<script id="TGN_RelatedContentItem" type="text/x-handlebars-templates">
    {{#each ArticleList}}
    <div class="TGN_RelatedContent_Slide" data-articleID="{{ArticleID}}">
        <a class="TGN_RelatedContent_FeatureArticleLink" href="{{ArticleUrl}}">
            <div class="TGN_RelatedContent_FeatureArticleTop">
                <div class="TGN_RelatedContent_FeatureArticleImg"><img src="{{ImageUrl}}" data-src="{{SearchThumbUrl}}" data-blogroll-src="{{ImageUrl}}" data-cover="{{SearchBookCoverUrl}}" data-thumbovercover="{{SearchThumbOverCover}}" data-url="{{ImageUrl}}" data-square-url="{{SearchThumbUrl}}" data-SearchThumbOverCover="{{SearchThumbOverCover}}" data-cover-url="{{SearchBookCoverUrl}}"></div>
            </div>
            <div class="TGN_RelatedContent_FeatureArticleBottom">
                <div class="TGN_RelatedContent_FeatureArticleRighttitle">{{{SearchHeadline}}}</div>
                <div class="TGN_RelatedContent_FeatureArticleRightblurb" style="white-space: pre-line">{{{SearchBlurb}}}</div>
            </div>
        </a>
    </div>
    {{/each}}
</script>
<script type="text/javascript">
    $(document).ready(function () {
        //console.log("TGNRelatedContent_JS");
        GetThreeRelatedContentItems();
    });
    function GetThreeRelatedContentItems() {
        $.ajax({
            url: "/api/TGNWebAPI/GetThreeRelatedContentItems",
            dataType: "json",
            data: {
                pageID: TGNPageID.toUpperCase()
            },
            type: "GET",
            success: function (data) {
                data = JSON.parse(data);
                var source = $("#TGN_RelatedContentItem").html();
                var template = Handlebars.compile(source);
                var html = template(data);
                var resultsReturnBox = $("#TGN_RelatedContent_ArticlesBox");
                resultsReturnBox.html(html);
            },
            error: function (request, status, error) {
                console.log("ERROR:" + request.responseText + " e:" + error);
                //
            }
        });
    }
    var throttled = TGN_throttle(TGNRC_ShowVisibleThumbnails, 1000);
    $(".TGN_site").scroll(throttled);

    $(window).resize(function () {
        setTimeout(function () {
            TGNRC_ShowVisibleThumbnails();
        }, 150);
    });
    function TGNRC_ShowVisibleThumbnails() {
        //console.log("TGNRC_ShowVisibleThumbnails");
        $(".TGN_RelatedContent_FeatureArticleImg").each(function (i, obj) {
            if ($(this).is(':visible') && TGNRCisOnScreen($(this))) {
                if ($(this).attr("data-url") != "set") {
                    $(this).attr("src", $(this).attr("data-stnurl"));
                    $(this).attr("data-url", "set");
                }
            }
        });
    }
    function TGNRCisOnScreen(element) {
        var doc = document.documentElement;
        var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);
        var top = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);
        var scrollPosition = top;
        var elementPos = element.offset();
        var boxPos = $("#TGN_RelatedContent_ArticlesBox").offset();
        var curLeft = elementPos.left - boxPos.left;
        var boxScrollLeft = $(".TGN_RelatedContent_Scroller").scrollLeft();
        var screenHeight = $(window).height();
        if ((((elementPos.top - scrollPosition) + (element.height() / 1.5)) < screenHeight) && ((curLeft - boxScrollLeft) < $("#TGN_RelatedContent_ArticlesBox").width())) {
            return true;
        } else {
            return false;
        }
    }
</script>
</div>
<div class="TGN_site_Article_cta">
</div>
<div class="TGN_site_Article_comments">
<script src="//cdn.livefyre.com/Livefyre.js"></script>
<style>
    .comment-roadblock {
        display: block;
        background-color: #3379be;
        color: white;
        line-height: 60px;
        text-align: center;
        width: 240px;
        height: 60px;
        margin-right: auto;
        margin-left: auto;
        cursor: pointer;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
        font-style: normal;
        margin-bottom: 20px;
    }
.commentHeading {
    /*font-style: normal;
    margin-bottom: 24px;
    display: block;
    width: 100%;
    text-align: left;
    color: #000000;
    font-family: 'Roboto Condensed', 'Asap Condensed', 'neue-haas-unica', sans-serif;
    font-size: 28px;
    letter-spacing: -0.07px;
    line-height: 34px;
    font-weight: 600;
    text-transform: uppercase;
    border-bottom: 1px solid black;*/
    max-width: 78px !important;
    display: block;
    margin-bottom: 12px;
}

    .commentContactUs {
        border-bottom: 1px solid #ccc;
    }

    .commentsLockedText {
        text-align: center;
        color: rgb(112,112,112);
        font-size: 10px;
    }

    .commentsLocked {
        width: 100%;
            clear: both;
            display:none;
            margin-bottom: 90px;
                position: relative;
    top: 0px;
    }

    .commentsLockedHR {
        display: block;
        height: 1px;
        border: 0;
        border-top: 1px solid #ccc;
        margin: 16px 0;
        padding: 0;
    }

        @media all and (max-width: 680px) {
            .commentHeading {
    max-width: 59px !important;
}
        }
</style>
<script>
    var liveFyreLive = new Date("2017/2/12");
    var month = 31 * 1000 * 60 * 60 * 24;
    var days = 1000 * 60 * 60 * 24;
    var monthsLive = 1;
    var CommentState = false;
    var userauthurl = "";
    var userAuthToken = "";
    var userNameFyre = "";
    var UserCommentToken = "UserCommentToken";
    var fyreeditor;
    var LFNetwork = "gatesnotes";//-int";
    var LFSite = "385155";
    var networkConfig = {
        network: 'gatesnotes.fyre.co'//-int.fyre.co'
    };
    var GNCommDisplayedCommentsNumber = 0;
    var GNCommActiveCommentsNumber = 0;
    var convConfig = {
        siteId: LFSite,//'TGNUAT:385155'prod'TGNWWW:385143'
        articleId: 'EB76A509-A82D-41B3-8E29-7F1D97B7F71A',  // need to put in url
        el: 'livefyre',
        collectionMeta: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcnRpY2xlSWQiOiJFQjc2QTUwOS1BODJELTQxQjMtOEUyOS03RjFEOTdCN0Y3MUEiLCJ0YWdzIjoiQXJ0aWNsZSIsInRpdGxlIjoiRnVsbCBjb3ZlcmFnZTogQmVkIG5ldHMgZm9yIEJlbmluIiwidHlwZSI6ImxpdmVjb21tZW50cyIsInVybCI6Imh0dHBzOi8vd3d3LmdhdGVzbm90ZXMuY29tL0hlYWx0aC9CZWQtbmV0cy1mb3ItQmVuaW4iLCJpc3MiOiJ1cm46bGl2ZWZ5cmU6Z2F0ZXNub3Rlcy5meXJlLmNvOnNpdGU9Mzg1MTQzIn0.4dBGvDeb7EKMoETeumJYZpx8bhffvqS_nLVMZFORZJk',
        checksum: '93fcae7c4eb61bfb4777ad1eea6edb89',
        initialNumVisible: 5,
        animations: false,
        editorCss: '{background: ‘#ccc’, color: ‘red’, font: ’30px “Helvetica Neue”, Helvetica, Arial, Geneva, sans-serif’}',
    };

    var convConfigTab = {
        siteId: LFSite,//'TGNUAT:385155'prod'TGNWWW:385143'
        articleId: 'EB76A509-A82D-41B3-8E29-7F1D97B7F71A',  // need to put in url
        el: 'livefyre-tablet',
        collectionMeta: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcnRpY2xlSWQiOiJFQjc2QTUwOS1BODJELTQxQjMtOEUyOS03RjFEOTdCN0Y3MUEiLCJ0YWdzIjoiQXJ0aWNsZSIsInRpdGxlIjoiRnVsbCBjb3ZlcmFnZTogQmVkIG5ldHMgZm9yIEJlbmluIiwidHlwZSI6ImxpdmVjb21tZW50cyIsInVybCI6Imh0dHBzOi8vd3d3LmdhdGVzbm90ZXMuY29tL0hlYWx0aC9CZWQtbmV0cy1mb3ItQmVuaW4iLCJpc3MiOiJ1cm46bGl2ZWZ5cmU6Z2F0ZXNub3Rlcy5meXJlLmNvOnNpdGU9Mzg1MTQzIn0.4dBGvDeb7EKMoETeumJYZpx8bhffvqS_nLVMZFORZJk',
        checksum: '93fcae7c4eb61bfb4777ad1eea6edb89',
        animations: false,
        editorCss: '{background: ‘#ccc’, color: ‘red’, font: ’30px “Helvetica Neue”, Helvetica, Arial, Geneva, sans-serif’}',

    };


    //function isGNILoggedIn() {
    //    if (currentUserActive == "true") {
    //        if (currentUserData.IsApproved != "false" && currentUserData.IsApproved != undefined && currentUserData.IsApproved != "") {
    //            return true;
    //        } else {
    //            return false;
    //        }
    //    } else {
    //        return false;
    //    }
    //}
    function setGNILoggedIn() {
        //$(".fyre-editor").css("display", "block");
        //$(".GNCommProfileImage").attr("style", $("#mobart_Art_USER_HolderPI").attr("style") + ";margin-top: 0px;margin-right: 10px;").addClass($("#mobart_Art_USER_HolderPI").attr("class"));
        $(".fyre-comment-wrapper").css("pointer-events", "all");
        $(".GNCommFooterFlag").css("display", "inline-block");
    }
    function setGNILoggedOut() {
        if (CommentState != false) {
            //$(".GNCommProfileImage").attr("style", "").removeClass($("#mobart_Art_USER_HolderPI").attr("class"));
            $(".fyre-comment-wrapper").css("pointer-events", "none");
            $(".GNCommFooterFlag").css("display", "none");
            CommentState = false;
            commentLogout();
        }
    }
    function commentLoggedIn() {
        setGNILoggedIn();
    }
    function commentLoggedOut() {
        //setGNILoggedOut();
    }
    function setGNICommentUI() {
        if (isGNILoggedIn()) {
            setGNILoggedIn();
        } else {
            setGNILoggedOut();
        }
    }
    function getCommentToken() {
        //console.log("UserCommentToken: " + localStorage.getItem('UserCommentToken'));
        if (localStorage.getItem('UserCommentToken') == null || localStorage.getItem('UserCommentToken') == "null" || localStorage.getItem('UserCommentToken') == "") {
            // if no local storage version get from endpoint
            Livefyre.auth.logout(commentLoggedOut);
            $.ajax({
                url: Auth4Config_AuthServiceURL + "CommentToken",
                dataType: "json",
                data: {
                    network: escape(LFNetwork),
                    site: escape(LFSite)
                },
                headers: { 'authorization': 'Bearer ' + localStorage.getItem(tokenKey) },
                type: "GET",
                success: function (data) {
                    userAuthToken = data.Token;
                    localStorage.setItem('UserCommentToken', data.Token);
                    userName = data.UserName;
                    userNameFyre = data.UserName;
                    Livefyre.auth.login(commentLoggedIn);
                    //alert("Comment Token Good " + data.UserName);
                },
                error: function (xhr, error, thrown) {
                    //alert("Bad " + xhr.statusText);
                },

            });
        } else {
            // get local storage
            userAuthToken = localStorage.getItem('UserCommentToken');//+"zzzz";//
            userName = localStorage.getItem('UserName');
            userNameFyre = localStorage.getItem('UserName');
            GNCommUnfollowCollection();
            //Livefyre.auth.login(commentLoggedIn);
        }
        return false;
    }
    function GNCommSyncMe() {
        $.ajax({
            url: Auth4Config_AuthServiceURL + "SyncMe",
            dataType: "json",
            headers: { 'authorization': 'Bearer ' + localStorage.getItem(tokenKey) },
            type: "GET",
            success: function (data) {
                console.log("SyncMeSuccess");
            },
            error: function (xhr, error, thrown) {
                //alert("Bad " + xhr.statusText);
                console.log("SyncMeError");
            },

        });
        return false;
    }
    function commentLogin() {
        getCommentToken();
    }
    function commentLogout() {
        //alert("Comment Logging out");
        //Livefyre.auth.logout(commentLoggedOut);
        //localStorage.setItem(userCommentToken, "");
        //localStorage.setItem(tokenKey, "");
    }


    $(document).ready(function () {
        $.ajaxSetup({ cache: false });
        var diff = Math.abs(new Date() - liveFyreLive);
        daysLive = Math.floor(diff / days);
        monthsLive = Math.floor(diff / month);

        //if (daysLive < 30) {
        //    $("#commentLockedDuration").text(daysLive.toString() + " days");
        //} else if (monthsLive > 1) {
        //    $("#commentLockedDuration").text(monthsLive.toString() + " months");
        //} else {
        //    $("#commentLockedDuration").text("a month");
        //}
        var myURL = document.domain;

        if (myURL == "www.gatesnotes.com") {// || myURL == "local.gatesnotes.com"
            LFNetwork = "gatesnotes";
            LFSite = "385143";//prod site id
            convConfig = {
                siteId: LFSite,//'TGNUAT:385155'prod'TGNWWW:385143'
                articleId: 'EB76A509-A82D-41B3-8E29-7F1D97B7F71A',  // need to put in url
                el: 'livefyre',
                collectionMeta: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcnRpY2xlSWQiOiJFQjc2QTUwOS1BODJELTQxQjMtOEUyOS03RjFEOTdCN0Y3MUEiLCJ0YWdzIjoiQXJ0aWNsZSIsInRpdGxlIjoiRnVsbCBjb3ZlcmFnZTogQmVkIG5ldHMgZm9yIEJlbmluIiwidHlwZSI6ImxpdmVjb21tZW50cyIsInVybCI6Imh0dHBzOi8vd3d3LmdhdGVzbm90ZXMuY29tL0hlYWx0aC9CZWQtbmV0cy1mb3ItQmVuaW4iLCJpc3MiOiJ1cm46bGl2ZWZ5cmU6Z2F0ZXNub3Rlcy5meXJlLmNvOnNpdGU9Mzg1MTQzIn0.4dBGvDeb7EKMoETeumJYZpx8bhffvqS_nLVMZFORZJk',
                checksum: '93fcae7c4eb61bfb4777ad1eea6edb89',
                initialNumVisible: 5,
                animations: false,
                editorCss: '{background: ‘#ccc’, color: ‘red’, font: ’30px “Helvetica Neue”, Helvetica, Arial, Geneva, sans-serif’}',
            };

            convConfigTab = {
                siteId: LFSite,//'TGNUAT:385155'prod'TGNWWW:385143'
                articleId: 'EB76A509-A82D-41B3-8E29-7F1D97B7F71A',  // need to put in url
                el: 'livefyre-tablet',
                collectionMeta: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcnRpY2xlSWQiOiJFQjc2QTUwOS1BODJELTQxQjMtOEUyOS03RjFEOTdCN0Y3MUEiLCJ0YWdzIjoiQXJ0aWNsZSIsInRpdGxlIjoiRnVsbCBjb3ZlcmFnZTogQmVkIG5ldHMgZm9yIEJlbmluIiwidHlwZSI6ImxpdmVjb21tZW50cyIsInVybCI6Imh0dHBzOi8vd3d3LmdhdGVzbm90ZXMuY29tL0hlYWx0aC9CZWQtbmV0cy1mb3ItQmVuaW4iLCJpc3MiOiJ1cm46bGl2ZWZ5cmU6Z2F0ZXNub3Rlcy5meXJlLmNvOnNpdGU9Mzg1MTQzIn0.4dBGvDeb7EKMoETeumJYZpx8bhffvqS_nLVMZFORZJk',
                checksum: '93fcae7c4eb61bfb4777ad1eea6edb89',
                animations: false,
                editorCss: '{background: ‘#ccc’, color: ‘red’, font: ’30px “Helvetica Neue”, Helvetica, Arial, Geneva, sans-serif’}',

            };
        }

       var uName = localStorage.getItem('UserName');
        if ((uName == null) || (uName == "")) {
            uName = "NoName";
        }
        var uNameNoSP = uName.replace(" ", "");
        if (localStorage.getItem(tokenKey) == "") {
            localStorage.setItem(UserCommentToken, "");
        } else {
            //getCommentToken();
        }
        // poll for log-in-out
        setInterval(checkGNIState, 500);
    });
    function checkGNIState() {
        //console.log(CommentState +":"+ isGNILoggedIn())
        if (CommentState != isGNILoggedIn()) {
            if (isGNILoggedIn()) {
                commentLogin();
                CommentState = true;
                $("#GNCommPleaseVerify").css("display", "none");
                $("#GNCommSignUpOrLogIn").css("display", "none");
            }
        }
    }

    Livefyre.require(['fyre.conv#3', 'auth'], function (Conv, auth) {
        //new Conv(networkConfig, [convConfig, convConfigTab], function (commentsWidget) {
        new Conv(networkConfig, [convConfig], function (commentsWidget) {
            commentsWidget.on('commentPosted', function (data) {
                cleanPosts();
                //console.log("GNComm:EVENT:commentPosted");
                localStorage.setItem("userCommentTemp", "");
            });
            commentsWidget.on('initialRenderComplete', function (data) {
                lfInitialRenderComplete(data);
                //console.log("GNComm:EVENT:initialRenderComplete" + GNCommGetTimeCheck());
            });
            commentsWidget.on('userLoggedIn', function (data) {
                //if (CommentState == true) {
                //    setGNICommentUI();
                //    console.log("GNComm:EVENT:userLoggedIn");
                //    GNCommUserEmail = data.id;
                //    GNCommUserId = GNCommUserEmail.replace("@gatesnotes.fyre.co", "");
                //    GNCommAvater = data.avatar;
                //    GNCommdisplayName = data.displayName;
                //    GNCommisModerator = data.isModerator;
                //    //$(".goog-inline-block .fyre-button-right-inner-box").text("+");
                //} else {
                //    commentLogout();
                //}
                setGNICommentUI();
                //console.log("GNComm:EVENT:userLoggedIn");
                GNCommUserEmail = data.id;
                GNCommUserId = GNCommUserEmail.replace("@gatesnotes.fyre.co", "");
                localStorage.setItem("GNCommUserId", GNCommUserEmail);
                localStorage.setItem("GNCommUserIdNum", GNCommUserId);
                GNCommAvater = data.avatar;
                GNCommdisplayName = data.displayName;
                GNCommisModerator = data.isModerator;
                //$(".goog-inline-block .fyre-button-right-inner-box").text("+");
            });
            commentsWidget.on('userLoggedOut', function (data) {
                setGNICommentUI();
                //console.log("GNComm:EVENT:userLoggedOut");
                localStorage.setItem("userCommentTemp", "");
            });
            commentsWidget.on('commentCountUpdated', function (data) {
                //numcommentsLF = "Open Comments (" + data.toString() + ")";
                //$(".fyre-stream-more .fyre-buttonT").text(numcommentsLF);
                // Adjust for legacy number
                GNCommActiveCommentsNumber = data;
                setTimeout(function () {
                    GNCommCountDisplayed();
                    cleanPosts();
                }, 100);
                //console.log("GNComm:EVENT:commentCountUpdated");
                localStorage.setItem("userCommentTemp", "");
            });
            commentsWidget.on('showMore', function (data) {
                event.stopPropagation();
                setTimeout(function () {
                    $(".GNCommForm").attr("data-counted", "reset");
                    cleanPosts();
                }, 300);
                //console.log("GNComm:EVENT:showMore");
            });
        });
        auth.delegate({
            login: function (callback) {
                //alert("Comment Login");
                //console.log("GNComm:EVENT:login");
                callback(null, { livefyre: userAuthToken });

            },
            logout: function (callback) {
                //alert("Comment Logout");
                //console.log("GNComm:EVENT:Logout");
                callback(null);
            },
        });
    });

</script>
<style>
.TGN_site_Article_comments {
    display: flex;
    flex-flow: column;
    margin-bottom: 20px;
}
    .GNCommForm {
        box-sizing: border-box;
        color: rgb(45,45,45);
        display: block;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        line-height: 24px;
        margin-bottom: 10px;
        margin-left: 0px;
        margin-right: 0px;
        margin-top: 0px;
        text-size-adjust: 100%;
        -webkit-font-smoothing: antialiased;
    }
    .GNCommPostWrapper {
        background-attachment: scroll;
        background-clip: border-box;
        background-color: rgb(255, 255, 255);
        background-image: none;
        background-origin: padding-box;
        background-position-x: 0%;
        background-position-y: 0%;
        background-size: auto;
        border-bottom-color: rgb(232, 232, 232);
        border-bottom-style: solid;
        border-bottom-width: 1px;
        border-image-outset: 0px;
        border-image-repeat: stretch;
        border-image-slice: 100%;
        border-image-source: none;
        border-image-width: 1;
        border-left-color: rgb(232, 232, 232);
        border-left-style: solid;
        border-left-width: 1px;
        border-right-color: rgb(232, 232, 232);
        border-right-style: solid;
        border-right-width: 1px;
        border-top-color: rgb(232, 232, 232);
        border-top-style: solid;
        border-top-width: 1px;
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        line-height: 24px;
        padding-bottom: 10px;
        padding-left: 10px;
        padding-right: 5px;
        padding-top: 10px;
        text-size-adjust: 100%;
        transition-delay: 0s;
        transition-duration: 0.4s;
        transition-property: border-color;
        transition-timing-function: ease-in-out;
        -webkit-font-smoothing: antialiased;
        display: flex;
    justify-content: flex-start;
    align-items: center;
    align-content: center;
    }

    textarea[placeholder]:empty:before {
        content: attr(placeholder);
        color: #d3d3d3;
        font-size: 11px;
        font-family: Lusitana, serif;
    }

    textarea[placeholder]:empty:focus:before {
        content: "";
    }
    .GNCommText {
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        flex-basis: 0%;
        flex-grow: 1;
        flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
        font-weight: 200;
        line-height: 24px;
        text-size-adjust: 100%;
        -webkit-box-flex: 1;
        -webkit-font-smoothing: antialiased;
    }
        .GNCommText > textarea {
            background-attachment: scroll;
            background-clip: border-box;
            background-color: rgba(0, 0, 0, 0);
            background-image: none;
            background-origin: padding-box;
            background-position-x: 0%;
            background-position-y: 0%;
            background-size: auto;
            border-bottom-color: #b0b0b0;
            border-bottom-style: none;
            border-bottom-width: 0px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: #b0b0b0;
            border-left-style: none;
            border-left-width: 0px;
            border-right-color: #b0b0b0;
            border-right-style: none;
            border-right-width: 0px;
            border-top-color: #b0b0b0;
            border-top-style: none;
            border-top-width: 0px;
            box-sizing: border-box;
            color: black !important;
            cursor: auto;
            display: block;
            flex-basis: 0%;
            flex-direction: column;
            flex-grow: 1;
            flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
            font-stretch: normal;
            font-style: normal;
            font-variant-caps: normal;
            font-variant-ligatures: normal;
            font-variant-numeric: normal;
            height: 25px;
            letter-spacing: normal;
            line-height: normal;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 5px;
            min-height: 25px;
            overflow-x: hidden;
            overflow-y: hidden;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 0px;
            resize: none;
            text-align: start;
            text-indent: 0px;
            text-rendering: auto;
            text-shadow: none;
            text-size-adjust: 100%;
            text-transform: none;
            user-select: text;
            white-space: pre-wrap;
            word-spacing: 0px;
            word-wrap: break-word;
            writing-mode: horizontal-tb;
            -webkit-appearance: none;
            -webkit-box-flex: 1;
            -webkit-font-smoothing: antialiased;
            -webkit-border-image: none;
            -webkit-rtl-ordering: logical;
        border: none;
    overflow: auto;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;

        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
    font-size: 16px;
    line-height: 19px;
        }
.GNCommPost {
    box-sizing: border-box;
    color: #b0b0b0;
    cursor: pointer;
    display: block;
    font-family: Lusitana, serif;
    font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
    font-size: 20px;
    font-weight: 200;
    height: 20px;
    line-height: 20px;
    margin-left: 0px;
    text-size-adjust: 100%;
    vertical-align: middle;
    width: 30px;
    -webkit-font-smoothing: antialiased;
}
        .GNCommPost > svg {
            box-sizing: border-box;
            color: rgba(0,0,0,0.12);
            cursor: pointer;
            display: inline;
            font-family: Lusitana, serif;
            font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
            font-size: 40px;
            font-weight: 200;
            height: 30px;
            line-height: 24px;
            margin-left: 0px;
            text-size-adjust: 100%;
            vertical-align: middle;
            width: 30px;
            -webkit-font-smoothing: antialiased;
        }

        
    .GNCommReply {
        box-sizing: border-box;
        color: rgb(45,45,45);
        display: block;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        line-height: 24px;
        margin-bottom: 10px;
        margin-left: 0px;
        margin-right: 0px;
        margin-top: 12px;
        text-size-adjust: 100%;
        -webkit-font-smoothing: antialiased;
    }
    .GNCommReplyPostWrapper {
        background-attachment: scroll;
        background-clip: border-box;
        background-color: rgb(255, 255, 255);
        background-image: none;
        background-origin: padding-box;
        background-position-x: 0%;
        background-position-y: 0%;
        background-size: auto;
        border-bottom-color: rgb(232, 232, 232);
        border-bottom-style: solid;
        border-bottom-width: 1px;
        border-image-outset: 0px;
        border-image-repeat: stretch;
        border-image-slice: 100%;
        border-image-source: none;
        border-image-width: 1;
        border-left-color: rgb(232, 232, 232);
        border-left-style: solid;
        border-left-width: 1px;
        border-right-color: rgb(232, 232, 232);
        border-right-style: solid;
        border-right-width: 1px;
        border-top-color: rgb(232, 232, 232);
        border-top-style: solid;
        border-top-width: 1px;
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        line-height: 24px;
        padding-bottom: 10px;
        padding-left: 20px;
        padding-right: 5px;
        padding-top: 10px;
        text-size-adjust: 100%;
        transition-delay: 0s;
        transition-duration: 0.4s;
        transition-property: border-color;
        transition-timing-function: ease-in-out;
        -webkit-font-smoothing: antialiased;
    }
    .GNCommReplyText {
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        flex-basis: 0%;
        flex-grow: 1;
        flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
        font-weight: 200;
        line-height: 24px;
        text-size-adjust: 100%;
        -webkit-box-flex: 1;
        -webkit-font-smoothing: antialiased;
    }
        .GNCommReplyText > textarea {
            background-attachment: scroll;
            background-clip: border-box;
            background-color: rgba(0, 0, 0, 0);
            background-image: none;
            background-origin: padding-box;
            background-position-x: 0%;
            background-position-y: 0%;
            background-size: auto;
            border-bottom-color: #b0b0b0;
            border-bottom-style: none;
            border-bottom-width: 0px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: #b0b0b0;
            border-left-style: none;
            border-left-width: 0px;
            border-right-color: #b0b0b0;
            border-right-style: none;
            border-right-width: 0px;
            border-top-color: #b0b0b0;
            border-top-style: none;
            border-top-width: 0px;
            box-sizing: border-box;
            color: black !important;
            cursor: auto;
            display: block;
            flex-basis: 0%;
            flex-direction: column;
            flex-grow: 1;
            flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
            font-stretch: normal;
            font-style: normal;
            font-variant-caps: normal;
            font-variant-ligatures: normal;
            font-variant-numeric: normal;
            height: 25px;
            letter-spacing: normal;
            line-height: normal;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 5px;
            min-height: 25px;
            overflow-x: hidden;
            overflow-y: hidden;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 0px;
            resize: none;
            text-align: start;
            text-indent: 0px;
            text-rendering: auto;
            text-shadow: none;
            text-size-adjust: 100%;
            text-transform: none;
            user-select: text;
            white-space: pre-wrap;
            word-spacing: 0px;
            word-wrap: break-word;
            writing-mode: horizontal-tb;
            -webkit-appearance: none;
            -webkit-box-flex: 1;
            -webkit-font-smoothing: antialiased;
            -webkit-border-image: none;
            -webkit-rtl-ordering: logical;
        border: none;
    overflow: auto;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;

        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
            font-weight: 600;
    font-size: 16px;
    line-height: 19px;
        }
    .GNCommReplyPost {
        box-sizing: border-box;
        color: #b0b0b0;
        cursor: pointer;
        display: block;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        height: 30px;
        line-height: 24px;
        margin-left: 10px;
        text-size-adjust: 100%;
        vertical-align: middle;
        width: 30px;
        -webkit-font-smoothing: antialiased;
    }
        .GNCommReplyPost > svg {
            box-sizing: border-box;
            color: #b0b0b0;
            cursor: pointer;
            display: inline;
            font-family: Lusitana, serif;
            font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
            font-size: 16px;
            font-weight: 200;
            height: 30px;
            line-height: 24px;
            margin-left: 0px;
            text-size-adjust: 100%;
            vertical-align: middle;
            width: 30px;
            -webkit-font-smoothing: antialiased;
        }



    .cls-1 {
        box-sizing: border-box;
        color: #b0b0b0;
        cursor: pointer;
        display: inline;
        fill: none;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        height: auto;
        line-height: 24px;
        stroke: rgb(204, 204, 204);
        stroke-miterlimit: 10;
        stroke-width: 2px;
        text-size-adjust: 100%;
        transform-origin: 0px 0px;
        transition-delay: 0s;
        transition-duration: 0.4s;
        transition-property: all;
        transition-timing-function: ease;
        width: auto;
        -webkit-font-smoothing: antialiased;
    }
</style>
<script type="text/javascript">

    function autoGrowTextArea2(textField) {
        var cHeight = textField.prop('clientHeight');
        var sHeight = textField.prop('scrollHeight');
        if (cHeight < sHeight) {
            textField.height(sHeight);
            if (textField.prop('clientHeight') < textField.prop('scrollHeight')) {
                var newHeight = textField.prop('scrollHeight') * 2 - textField.prop('clientHeight');
                textField.height(newHeight);
            }
        }
    }
    var GNCommUserEmail = "";
    var GNCommUserId = "";
    var GNCommAvater = "";
    var GNCommdisplayName = "";
    var GNCommisModerator = false;
    var collectionId = 249375025; //"75891292";//"183174663";
    var fyreEmail = GNCommUserId + "@livefyre.com";
    var commentText = "hooo";
    
    function GNCommPostFill(t) {

    }
    function GNCommGetItemData(id) {
        //var url = "https://gatesnotes.bootstrap.fyre.co/api/v3.0/content/thread/?collection_id=" + collectionId + "&content_id=" + id + "&depth_only=true";
        //var dd = "";
        //$.get(url, dd, function (data) {
        //    var see = data;
        //    return see;
        //}
        //);

        //console.log("GNComm:Post:GetItemData:Time:" + GNCommGetTimeCheck());
        $.ajax({
            url: "https://gatesnotes.bootstrap.fyre.co/api/v3.0/content/thread/?collection_id=" + collectionId + "&content_id=" + id + "&depth_only=true&nocache="+new Date().toString(),
            type: 'GET',
            async: true,
            cache: false,
            timeout: 30000,
            error: function(){
                //return "";
            },
            success: function(data){
                //console.log("GNComm:Post:GetItemDataSuccess:Time:" + GNCommGetTimeCheck());
                var LFitemData = data;
                if (LFitemData.data.content.length > 2) {
                    //console.log("id: "+id + " data: "+ LFitemData.data.content.length);
                    writeThirdLevelMentions(LFitemData.data.content[LFitemData.data.content.length-1].content.id,LFitemData.data.content[LFitemData.data.content.length-1].content.parentId);
                }
                if (LFitemData && LFitemData.data.content[LFitemData.data.content.length-1].content.bodyHtml) {
                    writeLFMessageBodyHTML(LFitemData.data.content[LFitemData.data.content.length-1].content.id,LFitemData.data.content[LFitemData.data.content.length-1].content.bodyHtml);
                }
            }
        });
    }
    function GNCommGetUser() {
        var url = "https://gatesnotes.quill.fyre.co/profiles/?id="+ GNCommUserId +"&lftoken=" + userAuthToken;
        var dd = "";
        $.post(url, dd, function (data) {
            var see = data;
        });

    }
    function GNCommUnfollowCollection(tag_name) {
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/collection/"+collectionId+"/unfollow/?lftoken=" + userAuthToken;
        var dd = "";
        $.post(url, dd, function (data) {
            var see = data;
            //token is valid
            Livefyre.auth.logout(commentLoggedOut);
            Livefyre.auth.login(commentLoggedIn);
        })
        .fail(function(response) {
            console.log("GNCommUnfollowCollection:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            //token no longer valid
            localStorage.setItem('UserCommentToken', '');
            getCommentToken();
            //if (response.responseJSON.error_type == "AuthenticationError") {
            //}
        });

    }
    function GNCommHideNotifications() {
        $("#GNCommOOPS").css("display", "none");
        $("#GNCommHTML").css("display", "none");
        $("#GNCommDuplicate").css("display", "none");
        $("#GNCommPleaseVerify").css("display", "none");
        $("#GNCommSignUpOrLogIn").css("display", "none");
        $("#GNCommWaitingtop").css("display", "none");
        $(".GNCommWaiting").css("display", "none");
        $(".GNCommWaiting").css("color","#b0b0b0");
        $(".GNCommWaitingDots").css("display","inline-block");
        $(".GNCommWaitingMessage").html("posting");
        $(".GNCommFooterEditMenu").css("display", "none");
        $(".GNCommReply").css("display", "none");
        $(".GNCommReplyTA").css("height", "25px");
        $(".GNCommReplyTA").val("");
    }
    function GNCommEditPost(id,text) {
        GNCommHideNotifications();
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/" + id + "/edit/?lftoken=" + userAuthToken;
        var dd = "body=" + text + "&collection_id=" + collectionId;
        //console.log("GNComm:Edit:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("HTML:"+data.data.messages[0].content.bodyHtml);
            //console.log("GNComm:Edit:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
        })
        .fail(function(response) {
            console.log("GNComm:Edit:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
            if (response.responseJSON.error_type == "DuplicateCommentError") {
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommDuplicate"));
                $("#GNCommDuplicate").css("display", "block");
            } else if (response.responseJSON.error_type == "MalformedCommentError") {
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommHTML"));
                $("#GNCommHTML").css("display", "block");
            } else {
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommOOPS"));
                $("#GNCommOOPS").css("display", "block");
            }
        });
    }
    function GNCommFlag(id, tag) {
        GNCommHideNotifications();
        //URL:https://gatesnotes.quill.fyre.co/api/v3.0/message/696728786/flag/spam/?lftoken=
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/" + id + "/flag/" + tag + "/?lftoken=" + userAuthToken;
        var dd = "message_id=" + id + "&collection_id=" + collectionId + "&flag=" + tag + "&notes=flagFromUI&email";
        //console.log("GNComm:Flag:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("GNComm:Flag:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
        })
        .fail(function(response) {
            console.log("GNComm:Flag:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            $("#GNCommOOPS").css("display", "block");
        });
    }
    function GNCommDelete(id) {
        GNCommHideNotifications();
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/"+id+"/delete/?collection_id=" + collectionId + "&lftoken=" + userAuthToken + "&site_id=" + LFSite;
        var dd = "";
        //console.log("GNComm:DELETE:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("GNComm:DELETE:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
        })
        .fail(function(response) {
            console.log("GNComm:DELETE:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            $("#GNCommOOPS").css("display", "block");
        });
    }
    function GNCommLike(id) {
        GNCommHideNotifications();
        var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/"+id+"/like/?collection_id=" + collectionId + "&lftoken=" + userAuthToken;
        var dd = "";
        //console.log("GNComm:Like:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("GNComm:Like:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
            TGNCom_SetEvent(id,"Like",GNCommFoundItem.attr("data-author-id"));
        })
        .fail(function(response) {
            console.log("GNComm:Like:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
        });
    }

    function TGNCom_SetEvent(commentID,type,parentUserID) {
        var d = new Date();
        var iso_time = d.toISOString(); //"2014-05-06T18:49:16.029Z"
        $.ajax({
            url: Auth4Config_AuthServiceURL + "TGNCom_SetEvent",
            headers: { 'authorization': 'Bearer ' + localStorage.getItem(tokenKey) },
            dataType: "json",
            data: {
                articleURL: window.location.pathname + "",
                articleTitle: encodeURIComponent(document.querySelectorAll('meta[property=\'og:title\']')[0].content) + "",
                collectionID: collectionId,
                commentID: commentID,
                parentUserID: parentUserID.replace("@gatesnotes.fyre.co", ""),
                timeFrame: iso_time,
                siteId: LFSite,
                type: type
            },
            type: "POST",
            success: function (data) {
                console.log("SET EVENT:" + data);
            },
            error: function (request, status, error) {
                console.log("ERROR:" + request.responseText);
            }
        });
        return false;
    }



    function GNCommDisLike(id) {
        GNCommHideNotifications();
        var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/"+id+"/unlike/?collection_id=" + collectionId + "&lftoken=" + userAuthToken;
        var dd = "";
        //console.log("GNComm:DisLike:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("GNComm:DisLike:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
            TGNCom_SetEvent(id,"RemoveLike",GNCommFoundItem.attr("data-author-id"));
        })
        .fail(function(response) {
            console.log("GNComm:DisLike:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
        });
    }
    function GNCommGetTimeCheck() {
        var d = new Date();
        var m = d.getMinutes();
        var s = d.getSeconds();
        var mi = d.getMilliseconds();
        return ""+m+":"+s+":"+mi;
    }
    function GNCommPost() {
        //console.log("GNComm:Post:START:Time:"+GNCommGetTimeCheck());
        if (!isGNILoggedIn()) {
            // store the message in case it needs to be saved and then sent when the user's logged in
            if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                //console.log("logged in but not verified");
                $("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
                $("#GNCommPleaseVerify").css("display", "block");
            } else {
                //MenuS45_OpenSignIn();
                $("#GNCommWaitingtop").after($("#GNCommSignUpOrLogIn"));
                $("#GNCommSignUpOrLogIn").css("display", "block");
            }
        } else if ($('#GNCommTA').val().length > 0) {
            $("#GNCommWaitingtop").css("display","block");
            GNCommPostNew($('#GNCommTA').val());
            $('#GNCommTA').val("");
            $('#GNCommTA').css("height","25px");
        }
        localStorage.setItem("userCommentTemp", $('#GNCommTA').val());
    }
    function GNCommPostNew(t) {
        //t = t.replace("%", "%25");
        //t = t.replace(";", "%3B");
        t=encodeURIComponent(t);
        GNCommHideNotifications();
        $("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
        $("#GNCommWaitingtop").after($("#GNCommDuplicate"));
        $("#GNCommWaitingtop").after($("#GNCommHTML"));
        $("#GNCommWaitingtop").after($("#GNCommOOPS"));
        $("#GNCommWaitingtop").after($("#GNCommSignUpOrLogIn"));
        // GET https://bgc3.bootstrap.fyre.co/bs3/network / siteid / articleid / bootstrap.html
        // https://bgc3.quill.fyre.co/api/v3.0/collection/183174663/post/?
        // https://bgc3.quill.fyre.co/api/v3.0/collection/183174663/post/?lftoken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkb21haW4iOiJCR0MzLmZ5cmUuY28iLCJleHBpcmVzIjoxNDkwNzQxODA5LjAyNzUwMSwidXNlcl9pZCI6IjE4MjlmNGI4LWIwMzktNDNmYy1hNzEwLWZlZGIzYTdjNGRmZiJ9.mY_tfdFuUIkLAJRPSC1rWXZCAeaR4LnSIysUj36c7HQ
        commentText = t;
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/collection/" + collectionId + "/post/?lftoken=" + userAuthToken;
        var dd = "body=" + t + "&_bi=" + GNCommUserId;
        //console.log("GNComm:Post:POST:Time:"+GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("HTML:"+data.data.messages[0].content.bodyHtml);
            //console.log("GNComm:Post:DATA:Time:"+GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
        })
        .fail(function(response) {
            console.log("GNComm:Post:FAIL:Time:"+GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            if (response.responseJSON.error_type == "DuplicateCommentError") {
                $("#GNCommDuplicate").css("display", "block");
            } else if (response.responseJSON.error_type == "MalformedCommentError") {
                $("#GNCommHTML").css("display", "block");
            } else {
                $("#GNCommOOPS").css("display", "block");
            }
        });

    }
    function GNCommReplyPost(value,id) {
        //console.log("GNComm:Reply:START:Time:"+GNCommGetTimeCheck());
        var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
        if (!isGNILoggedIn()) {
            // store the message in case it needs to be saved and then sent when the user's logged in
            if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                //console.log("logged in but not verified");
                //$("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
                $("#GNCommPleaseVerify").css("display", "block");
                GNCommFoundItem.find(".GNCommWaiting").css("display", "none");
            } else {
                //MenuS45_OpenSignIn();
                $("#GNCommSignUpOrLogIn").css("display", "block");
                GNCommFoundItem.find(".GNCommWaiting").css("display", "none");
            }
        } else if (value.length > 0) {
            GNCommReplyPostNew(value,id,GNCommFoundItem.attr("data-author-id"));//693154486
            $(".GNCommReply").css("display","none");
            $(".GNCommReplyTA").val("");
            GNCommFoundItem.find(".GNCommReplyTA").css("height", "25px");
        } else {
            GNCommFoundItem.find(".GNCommWaiting").css("display", "none");
        }
    }
    function GNCommReplyPostNew(t,id,authID) {
        //t = t.replace("%", "%25");
        //t = t.replace(";", "%3B");
        t=encodeURIComponent(t);
        GNCommHideNotifications();
        commentText = t;
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/collection/" + collectionId + "/post/?lftoken=" + userAuthToken;
        var dd = "body=" + t + "&parent_id=" + id + "&_bi=" + GNCommUserId;
        //console.log("GNComm:Reply:POST:Time:"+GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("HTML:"+data.data.messages[0].content.bodyHtml);
            //console.log("GNComm:Reply:DATA:Time:"+GNCommGetTimeCheck());
            TGNCom_SetEvent(id,"Reply",authID);
        })
        .fail(function(response) {
            console.log("GNComm:Reply:FAIL:Time:"+GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
            //GNCommFoundItem.find(".GNCommWaiting").css("color","#890d0d");
            GNCommFoundItem.find(".GNCommWaitingDots").css("display","none");
            if (response.responseJSON.error_type == "DuplicateCommentError") {
                //$("#GNCommDuplicate").css("display", "block");
                //GNCommFoundItem.find(".GNCommWaitingMessage").html("Sorry, duplicate comments are not allowed.");
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommDuplicate"));
                $("#GNCommDuplicate").css("display", "block");
            } else if (response.responseJSON.error_type == "MalformedCommentError") {
                //$("#GNCommHTML").css("display", "block");
                //GNCommFoundItem.find(".GNCommWaitingMessage").html("Sorry, that HTML is not allowed.");
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommHTML"));
                $("#GNCommHTML").css("display", "block");
            } else {
                //$("#GNCommOOPS").css("display", "block");
                //GNCommFoundItem.find(".GNCommWaitingMessage").html("Sorry, something went wrong.");
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommOOPS"));
                $("#GNCommOOPS").css("display", "block");
            }

        });
        setTimeout(function () {
            cleanPosts();
        }, 100);

    }


    $(document).ready(function () {
        $('#GNCommTA').bind('keyup', function (event) {
            var key = event.which;
            if (key == 13) {
                GNCommPost();
            }
            else {
                autoGrowTextArea2($(this));
            }
        });
        $('#GNCommPost').bind('click', function (event) {
            GNCommPost();
        });
        //$('#GNCommTA').val(localStorage.getItem('userCommentTemp'));
    });
</script>
<div class="newComments">
<!-- div class="comment-roadblock">Sign In</div -->
<div class="commentHeading TGN_site_Titledsectionstitle TGN_site_Titledsectionstopleft">Comments</div>
<div class="GNCommForm" data-counted="done">
<div class="GNCommPostWrapper">
<span class="GNCommPost" id="GNCommPost"><i class="icon-plus"></i></span>
<div class="GNCommText">
<textarea id="GNCommTA" placeholder="Add a comment…" rows="1" style="overflow: hidden; word-wrap: break-word; height: 25px;"></textarea>
</div>
</div>
<div class="GNCommWaiting" id="GNCommWaitingtop"><span class="GNCommWaitingMessage">posting</span> <span class="GNCommWaitingDots">...</span></div>
<div class="GNCommNotificationBox" id="GNCommPleaseVerify"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_Exclaim.svg" style=""/></span><span class="GNCommPleaseVerifyT1">Please verify your email in order to make comments. </span><span class="GNCommPleaseVerifyT2">Click here to resend verification email</span></div>
<div class="GNCommNotificationBox" id="GNCommDuplicate"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_NotAllowed.svg" style=""/></span><span class="GNCommPleaseVerifyT1">Sorry, duplicate comments are not allowed. </span><span class="GNCommNotificationBoxClose"><i class="icon-close-x"></i></span></div>
<div class="GNCommNotificationBox" id="GNCommHTML"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_NotAllowed.svg" style=""/></span><span class="GNCommPleaseVerifyT1">Sorry, that HTML is not allowed. </span><span class="GNCommNotificationBoxClose"><i class="icon-close-x"></i></span></div>
<div class="GNCommNotificationBox" id="GNCommOOPS"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_NotAllowed.svg" style=""/></span><span class="GNCommPleaseVerifyT1">Sorry, something went wrong. </span><span class="GNCommNotificationBoxClose"><i class="icon-close-x"></i></span></div>
<div class="GNCommNotificationBox" id="GNCommSignUpOrLogIn"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_Exclaim.svg" style=""/></span><span class="GNCommPleaseVerifyT1">In order to comment you must be a Gates Notes Insider. Please </span><span class="GNCommSignUpOrLogInSU">sign up</span><span class="GNCommPleaseVerifyT1"> or </span><span class="GNCommSignUpOrLogInLI">log in</span><span class="GNCommPleaseVerifyT1"> to continue. </span></div>
</div>
<div id="livefyre"><div class="fyre fyre-width-medium"><div class="fyre-widget"><div class="fyre-featured-content-wrapper" style="display: none"></div><div class="fyre-stream-stats"><div class="fyre-comment-count"><span>18 comments</span></div><div class="fyre-help"><div class="fyre-box-wrapper"><a class="fyre-logo-link" href="http://livefyre.com" target="_blank"><img alt="Down arrow" class="fyre-logo-drop" src="https://d3qdfnco3bamip.cloudfront.net/wjs/v3.0.1597210496/images/down_arrow.png"/><img alt="Livefyre" class="fyre-logo-help" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="/></a><ul class="fyre-box-list"><li><a href="http://livefyre.com" target="_blank" title="Get Livefyre">Get Livefyre</a></li><li><a href="https://livefyre.zendesk.com/hc/en-us" target="_blank" title="FAQ">FAQ</a></li></ul></div></div></div><div class="fyre-auth"><div class="fyre-login-bar"><a aria-label="Sign in" class="fyre-user-loggedout" rel="nofollow" role="button" tabindex="0">Sign in</a></div><div class="fyre-live-container"><div class="fyre-livecount"><em class="fyre-stream-livecount">0 people listening</em></div><div class="fyre-listener-avatars"></div></div></div><div class="fyre-editor" style="display: none;"></div><div class="fyre-input-box-collapsed"></div><div class="fyre-stream-header"><div class="fyre-content-loading" style="display: none;">Loading</div><div class="fyre-stream-sort"><div class="fyre-stream-sort-options"><a aria-label="Sort by Newest" aria-selected="true" class="fyre-stream-sort-newest fyre-stream-sort-selected" tabindex="0">Newest</a><span class="fyre-stream-sort-bar"> | </span><a aria-label="Sort by Oldest" aria-selected="false" class="fyre-stream-sort-oldest" tabindex="0">Oldest</a></div><a class="fyre-stream-sort-back"></a></div></div><div class="fyre-comment-stream"><div class="fyre-stream-content"><article class="fyre-comment-article fyre-comment-source-5" data-author-id="076d117c-7c89-4577-a0e5-185a7fe829fa@gatesnotes.fyre.co" data-message-id="873058908" itemscope="itemscope" itemtype="http://schema.org/Comment" style=""><div class="fyre-comment-wrapper"><div class="fyre-comment-user" data-author-id="076d117c-7c89-4577-a0e5-185a7fe829fa@gatesnotes.fyre.co" data-from="Adewale Ridzwan Ademoye"><a class="fyre-comment-author" href=""><img alt="Avatar for Adewale Ridzwan Ademoye" class="fyre-user-avatar" onerror="javascript:this.src='https:\/\/avatars.fyre.co\/a\/anon\/50hc.png';" src="https://storify.com/services/proxy/2/enrXZBVjoGruV-UrvG2jOA/https/avatars.fyre.co/a/anon/50hc.png"/></a><div class="fyre-comment-socialsync fyre-comment-from-undefined"></div><div class="fyre-comment-highlight"></div></div><header class="fyre-comment-head"><a class="fyre-comment-username"><span itemprop="author">Adewale Ridzwan Ademoye</span></a> <span class="fyre-comment-user-rating" style="display: none;">5pts</span><span class="fyre-comment-tag fyre-featured" style="display: none;"><span class="fyre-featured-icon"></span><span class="fyre-featured-text">Featured</span><br/></span><meta content="2020-08-20T18:59:05.000Z" itemprop="dateCreated"/><i class="fyre-social-provider"></i><time class="fyre-comment-date">35 minutes ago</time><span class="fyre-comment-archive"></span><div class="fyre-comment-premod"></div><div class="fyre-flag-list"></div></header><section class="fyre-comment-body"><div class="fyre-comment" itemprop="text"><p>We are currently experiencing a significant rise in malaria cases where I reside, there is also a rise of the disease in pregnant women too and as much as I wouldn't want to belittle my country's health system, these women suffer too much to cope with pregnancy, the health system, the disease and the complications it presents. I believe prevention is always better and cheaper if they can access it. I reside in the coastal town of Badagry, Lagos-state, Nigeria. </p></div></section><footer class="fyre-comment-footer"><div class="fyre-comment-actions"><a class="fyre-flag-link" title="Flag"><span></span>Flag</a><div class="fyre-share-component"><a class="fyre-share-link" title="Share"><span></span>Share</a><ul class="fyre-share-popover"><li><a class="fyre-share-twitter-link">Twitter</a></li><li><a class="fyre-share-facebook-link">Facebook</a></li><li><input class="fyre-share-permalink" value=""/></li></ul></div></div><span class="fyre-comment-like"><span class="fyre-comment-like-count"></span><span class="fyre-comment-like-imgs"></span><a class="fyre-comment-like-btn fyre-comment-action-button">Like</a></span><a class="fyre-comment-reply fyre-comment-action-button">Reply</a><div class="fyre-editor" style="display: none;"></div></footer></div><div class="fyre-comment-divider"><a class="fyre-comment-collapse" style="display: none;" title="Toggle Collapse"></a><div class="fyre-comment-divider"></div></div><div class="fyre-outer-comment-container"><div class="fyre-comment-container fyre-comment-replies fyre-comment-replies-indent"></div></div></article><article class="fyre-comment-article fyre-comment-source-5" data-author-id="652da004-86d0-41dd-889d-509fd7577399@gatesnotes.fyre.co" data-message-id="873058720" itemscope="itemscope" itemtype="http://schema.org/Comment" style=""><div class="fyre-comment-wrapper"><div class="fyre-comment-user" data-author-id="652da004-86d0-41dd-889d-509fd7577399@gatesnotes.fyre.co" data-from="James Terrell"><a class="fyre-comment-author" href=""><img alt="Avatar for James Terrell" class="fyre-user-avatar" onerror="javascript:this.src='https:\/\/avatars.fyre.co\/a\/anon\/50hc.png';" src="https://storify.com/services/proxy/2/i2J5GZKOGVz9eIj7XWW28w/https/avatars.fyre.co/a/1235/84c5aaa8a25649c6c9a8dfe3b4c77ba4/50.jpg?v=1563555200"/></a><div class="fyre-comment-socialsync fyre-comment-from-undefined"></div><div class="fyre-comment-highlight"></div></div><header class="fyre-comment-head"><a class="fyre-comment-username"><span itemprop="author">James Terrell</span></a> <span class="fyre-comment-user-rating" style="display: none;">5pts</span><span class="fyre-comment-tag fyre-featured" style="display: none;"><span class="fyre-featured-icon"></span><span class="fyre-featured-text">Featured</span><br/></span><meta content="2020-08-20T18:56:23.000Z" itemprop="dateCreated"/><i class="fyre-social-provider"></i><time class="fyre-comment-date">38 minutes ago</time><span class="fyre-comment-archive"></span><div class="fyre-comment-premod"></div><div class="fyre-flag-list"></div></header><section class="fyre-comment-body"><div class="fyre-comment" itemprop="text"><p>Bill Gates</p></div></section><footer class="fyre-comment-footer"><div class="fyre-comment-actions"><a class="fyre-flag-link" title="Flag"><span></span>Flag</a><div class="fyre-share-component"><a class="fyre-share-link" title="Share"><span></span>Share</a><ul class="fyre-share-popover"><li><a class="fyre-share-twitter-link">Twitter</a></li><li><a class="fyre-share-facebook-link">Facebook</a></li><li><input class="fyre-share-permalink" value=""/></li></ul></div></div><span class="fyre-comment-like"><span class="fyre-comment-like-count"></span><span class="fyre-comment-like-imgs"></span><a class="fyre-comment-like-btn fyre-comment-action-button">Like</a></span><a class="fyre-comment-reply fyre-comment-action-button">Reply</a><div class="fyre-editor" style="display: none;"></div></footer></div><div class="fyre-comment-divider"><a class="fyre-comment-collapse" style="display: none;" title="Toggle Collapse"></a><div class="fyre-comment-divider"></div></div><div class="fyre-outer-comment-container"><div class="fyre-comment-container fyre-comment-replies fyre-comment-replies-indent"></div></div></article><article class="fyre-comment-article fyre-comment-source-5" data-author-id="367c7113-4ef6-4700-b8ef-521eb88274b2@gatesnotes.fyre.co" data-message-id="873058439" itemscope="itemscope" itemtype="http://schema.org/Comment" style=""><div class="fyre-comment-wrapper"><div class="fyre-comment-user" data-author-id="367c7113-4ef6-4700-b8ef-521eb88274b2@gatesnotes.fyre.co" data-from="Ramona Williams"><a class="fyre-comment-author" href=""><img alt="Avatar for Ramona Williams" class="fyre-user-avatar" onerror="javascript:this.src='https:\/\/avatars.fyre.co\/a\/anon\/50hc.png';" src="https://storify.com/services/proxy/2/enrXZBVjoGruV-UrvG2jOA/https/avatars.fyre.co/a/anon/50hc.png"/></a><div class="fyre-comment-socialsync fyre-comment-from-undefined"></div><div class="fyre-comment-highlight"></div></div><header class="fyre-comment-head"><a class="fyre-comment-username"><span itemprop="author">Ramona Williams</span></a> <span class="fyre-comment-user-rating" style="display: none;">5pts</span><span class="fyre-comment-tag fyre-featured" style="display: none;"><span class="fyre-featured-icon"></span><span class="fyre-featured-text">Featured</span><br/></span><meta content="2020-08-20T18:52:01.000Z" itemprop="dateCreated"/><i class="fyre-social-provider"></i><time class="fyre-comment-date">42 minutes ago</time><span class="fyre-comment-archive"></span><div class="fyre-comment-premod"></div><div class="fyre-flag-list"></div></header><section class="fyre-comment-body"><div class="fyre-comment" itemprop="text"><p>What do we have to do to provide more nets.</p></div></section><footer class="fyre-comment-footer"><div class="fyre-comment-actions"><a class="fyre-flag-link" title="Flag"><span></span>Flag</a><div class="fyre-share-component"><a class="fyre-share-link" title="Share"><span></span>Share</a><ul class="fyre-share-popover"><li><a class="fyre-share-twitter-link">Twitter</a></li><li><a class="fyre-share-facebook-link">Facebook</a></li><li><input class="fyre-share-permalink" value=""/></li></ul></div></div><span class="fyre-comment-like"><span class="fyre-comment-like-count"></span><span class="fyre-comment-like-imgs"></span><a class="fyre-comment-like-btn fyre-comment-action-button">Like</a></span><a class="fyre-comment-reply fyre-comment-action-button">Reply</a><div class="fyre-editor" style="display: none;"></div></footer></div><div class="fyre-comment-divider"><a class="fyre-comment-collapse" style="display: none;" title="Toggle Collapse"></a><div class="fyre-comment-divider"></div></div><div class="fyre-outer-comment-container"><div class="fyre-comment-container fyre-comment-replies fyre-comment-replies-indent"></div></div></article><article class="fyre-comment-article fyre-comment-source-5" data-author-id="61945b97-ef1d-45d5-8e3b-1544dffa7a5f@gatesnotes.fyre.co" data-message-id="873050513" itemscope="itemscope" itemtype="http://schema.org/Comment" style=""><div class="fyre-comment-wrapper"><div class="fyre-comment-user" data-author-id="61945b97-ef1d-45d5-8e3b-1544dffa7a5f@gatesnotes.fyre.co" data-from="Xixi Tonnu"><a class="fyre-comment-author" href=""><img alt="Avatar for Xixi Tonnu" class="fyre-user-avatar" onerror="javascript:this.src='https:\/\/avatars.fyre.co\/a\/anon\/50hc.png';" src="https://storify.com/services/proxy/2/b2gbvhV4AU98WR2euhOMgw/https/avatars.fyre.co/a/1235/c35a21d6840cae7528ab854d71a38b78/50.jpg?v=1574329989"/></a><div class="fyre-comment-socialsync fyre-comment-from-undefined"></div><div class="fyre-comment-highlight"></div></div><header class="fyre-comment-head"><a class="fyre-comment-username"><span itemprop="author">Xixi Tonnu</span></a> <span class="fyre-comment-user-rating" style="display: none;">5pts</span><span class="fyre-comment-tag fyre-featured" style="display: none;"><span class="fyre-featured-icon"></span><span class="fyre-featured-text">Featured</span><br/></span><meta content="2020-08-20T16:54:34.000Z" itemprop="dateCreated"/><i class="fyre-social-provider"></i><time class="fyre-comment-date">2 hours ago</time><span class="fyre-comment-archive"></span><div class="fyre-comment-premod"></div><div class="fyre-flag-list"></div></header><section class="fyre-comment-body"><div class="fyre-comment" itemprop="text"><p>I remember growing up with mosquito 🦟 nets in Vietnam.  Thank you to the Bill &amp; Melinda Gate Foundation.</p></div></section><footer class="fyre-comment-footer"><div class="fyre-comment-actions"><a class="fyre-flag-link" title="Flag"><span></span>Flag</a><div class="fyre-share-component"><a class="fyre-share-link" title="Share"><span></span>Share</a><ul class="fyre-share-popover"><li><a class="fyre-share-twitter-link">Twitter</a></li><li><a class="fyre-share-facebook-link">Facebook</a></li><li><input class="fyre-share-permalink" value=""/></li></ul></div></div><span class="fyre-comment-like"><span class="fyre-comment-like-count"></span><span class="fyre-comment-like-imgs"></span><a class="fyre-comment-like-btn fyre-comment-action-button">Like</a></span><a class="fyre-comment-reply fyre-comment-action-button">Reply</a><div class="fyre-editor" style="display: none;"></div></footer></div><div class="fyre-comment-divider"><a class="fyre-comment-collapse" style="display: none;" title="Toggle Collapse"></a><div class="fyre-comment-divider"></div></div><div class="fyre-outer-comment-container"><div class="fyre-comment-container fyre-comment-replies fyre-comment-replies-indent"></div></div></article><article class="fyre-comment-article fyre-comment-source-5" data-author-id="64b3617f-5d09-4e1f-9e46-966519dd26d5@gatesnotes.fyre.co" data-message-id="873049393" itemscope="itemscope" itemtype="http://schema.org/Comment" style=""><div class="fyre-comment-wrapper"><div class="fyre-comment-user" data-author-id="64b3617f-5d09-4e1f-9e46-966519dd26d5@gatesnotes.fyre.co" data-from="ZHEXIN ZHANG"><a class="fyre-comment-author" href=""><img alt="Avatar for ZHEXIN ZHANG" class="fyre-user-avatar" onerror="javascript:this.src='https:\/\/avatars.fyre.co\/a\/anon\/50hc.png';" src="https://storify.com/services/proxy/2/qoYIIx74p-KHzQdTPJB4Nw/https/secure.gravatar.com/avatar/ea430410ffab293f4e333bd2bfa40d1e/?s=50&amp;d=https%3A%2F%2Favatars.fyre.co%2Fa%2Fanon%2F50hc.png"/></a><div class="fyre-comment-socialsync fyre-comment-from-undefined"></div><div class="fyre-comment-highlight"></div></div><header class="fyre-comment-head"><a class="fyre-comment-username"><span itemprop="author">ZHEXIN ZHANG</span></a> <span class="fyre-comment-user-rating" style="display: none;">5pts</span><span class="fyre-comment-tag fyre-featured" style="display: none;"><span class="fyre-featured-icon"></span><span class="fyre-featured-text">Featured</span><br/></span><meta content="2020-08-20T16:39:03.000Z" itemprop="dateCreated"/><i class="fyre-social-provider"></i><time class="fyre-comment-date">2 hours ago</time><span class="fyre-comment-archive"></span><div class="fyre-comment-premod"></div><div class="fyre-flag-list"></div></header><section class="fyre-comment-body"><div class="fyre-comment" itemprop="text"><p>Hello</p></div></section><footer class="fyre-comment-footer"><div class="fyre-comment-actions"><a class="fyre-flag-link" title="Flag"><span></span>Flag</a><div class="fyre-share-component"><a class="fyre-share-link" title="Share"><span></span>Share</a><ul class="fyre-share-popover"><li><a class="fyre-share-twitter-link">Twitter</a></li><li><a class="fyre-share-facebook-link">Facebook</a></li><li><input class="fyre-share-permalink" value=""/></li></ul></div></div><span class="fyre-comment-like"><span class="fyre-comment-like-count"></span><span class="fyre-comment-like-imgs"></span><a class="fyre-comment-like-btn fyre-comment-action-button">Like</a></span><a class="fyre-comment-reply fyre-comment-action-button">Reply</a><div class="fyre-editor" style="display: none;"></div></footer></div><div class="fyre-comment-divider"><a class="fyre-comment-collapse" style="display: none;" title="Toggle Collapse"></a><div class="fyre-comment-divider"></div></div><div class="fyre-outer-comment-container"><div class="fyre-comment-container fyre-comment-replies fyre-comment-replies-indent"></div></div></article><article class="fyre-comment-article fyre-comment-hidden" data-author-id="undefined" data-message-id="872833197" itemscope="itemscope" itemtype="http://schema.org/Comment" style=""><div class="fyre-comment-wrapper" style="display: none;"><section class="fyre-comment-deleted"><p>This comment has been deleted</p></section></div><div class="fyre-comment-divider" style="display: none;"><a class="fyre-comment-collapse" style="display: none;" title="Toggle Collapse"></a><div class="fyre-comment-divider"></div></div><div class="fyre-outer-comment-container"><div class="fyre-comment-container fyre-comment-replies fyre-comment-replies-indent"></div></div></article></div><div class="fyre-stream-content-not-found"></div><div class="fyre-stream-more" style="background: transparent;"><div class="fyre-stream-more-container fyre-buttonM"><div class="fyre-buttonT" style="display: block;">Open Comments (13)</div><div class="fyre-spinner"><img alt="" src="https://d3qdfnco3bamip.cloudfront.net/wjs/v3.0.1597210496/images/snake-loader.gif"/></div></div></div><div class="commentsLocked">
</div></div><div class="fyre-top-content-stream"></div><div class="fyre-thread-breakout-stream"></div><div class="fyre-stream-menu-container"></div></div></div></div>
</div>
<div class="GNCommBeTheFirst">Be the first to leave a comment.</div>
<div class="GNCommReply" id="GNCommReplyBase">
<div class="GNCommReplyPostWrapper">
<div class="GNCommReplyText">
<textarea class="GNCommReplyTA" placeholder="Add a comment…" rows="1" style="overflow: hidden; word-wrap: break-word; height: 25px;"></textarea>
</div>
<span class="GNCommReplyPost">
<svg viewbox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><line class="cls-1" x1="10.5" x2="25.5" y1="18" y2="18"></line><line class="cls-1" x1="18" x2="18" y1="10.5" y2="25.5"></line></svg>
</span>
</div>
</div>
<div class="GNCommFooter" id="GNCommFooterBase" style="display:none;">
<div class="GNCommFooterLike">
<div class="heartDiv"><i class="icon-like-heart-selected"></i></div>
<span class="heartNum"></span>
</div>
<div class="GNCommFooterReply">
<span class="GNCommFooterReplyText">Reply</span>
</div>
<div class="GNCommFooterEdit">
<span class="GNCommFooterEditText">Edit</span>
<div class="GNCommFooterEditMenu">
<div class="GNCommFooterEditMenuArrow"></div>
<div class="GNCommFooterEditMenuEdit">Edit</div>
<div class="GNCommFooterEditMenuDelete">Delete</div>
<div class="GNCommFooterEditMenuWhiteBox"></div>
</div>
</div>
<div class="GNCommFooterFlag">
<span class="GNCommFooterFlagText">Report</span>
</div>
<div class="GNCommWaiting"><span class="GNCommWaitingMessage">posting</span> <span class="GNCommWaitingDots">...</span></div>
</div>
<div class="GNCommFooter" id="GNCommFooterBaseLocked">
<div class="GNCommFooterLocked">
<span class="GNCommFooterLockedIconSpan"><img class="GNCommFooterLockedIcon" src="/img/GNComm_Lock.svg" style=""/></span>
<span class="GNCommFooterLockedText">Comment Locked</span>
<div class="GNComm_LegacyRO_Box">
<div class="GNComm_LegacyRO_Arrow"></div>
<div class="GNComm_LegacyRO_BoxClose"><i class="icon-close-x"></i></div>
<span class="GNComm_LegacyRO_BoxT1">Comments more than 2 months old are locked. For more information, </span>
<span class="GNComm_LegacyRO_BoxT2">contact us.</span>
</div>
</div>
<div class="GNCommFooterFlag">
<span class="GNCommFooterFlagText">Report</span>
</div>
</div>
<div class="GNCommEditBox" id="GNCommEditBoxBase">
<div class="GNCommEditBoxTextArea">
<textarea class="GNCommEditBoxTA" placeholder="" rows="1" style="overflow: hidden;"></textarea>
</div>
<div class="GNCommEditBoxSave">
        Save
    </div>
<div class="GNCommEditBoxCancel">
        Cancel
    </div>
</div>
<div class="GNCommMessageDisplay" id="GNCommMessageDisplayBase">
<div class="GNCommMessageDisplayLeft">
<div class="GNCommMessageDisplayAvatar">
<img alt="" class="GNCommMessageDisplayAvatarImg" src=""/>
</div>
</div>
<div class="GNCommMessageDisplayRight">
<div class="GNCommMessageDisplayText">
<span class="GNCommMessageDisplayTName"></span>
<span class="GNCommMessageDisplayTMention"></span>
<span class="GNCommDisplayTime"></span>
<span class="GNCommMessageDisplayTBody"></span>
</div>
<div class="GNCommMessageDisplayFooter">
</div>
</div>
</div>
<style>
    #mobart_Art_LISU_Divider {
    display: inline-block;
    margin: 0px;
    color: #949494;
}
    .TGNMag_Art_SI_Holder {
    display: inline-block;
    margin-right: 7px;
    margin-left: 7px;
}
.GNCommMessageDisplayTBody {
    display: block;
    margin-top: -10px;
    font-size: 16px;
    line-height: 20px;
}
.GNCommNotificationIcon {
    max-width: 24px;
    padding: 0px !important;
    margin: 0px !important;
    position: relative;
    top: 5px;
}
    .fyre .fyre-stream-more {
        text-align: center !important;
    }
    .fyre-comment-deleted {
        
    }
.GNCommNotificationBox {
    display: none;
    padding: 0px;
    margin-top: 10px;
    font-size: 16px;
    line-height: 24px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    color: black;
}
    .GNCommPleaseVerifyIcon {
    padding-left: 0px;
    padding-right: 12px;
    font-size: 12px;
}
    .GNCommPleaseVerifyT2 {
    color: #4472C4 !important;
    cursor: pointer;
}
    .GNCommSignUpOrLogInSU {
    color: #4472C4 !important;
    cursor: pointer;
    }
    .GNCommSignUpOrLogInLI {
    color: #4472C4 !important;
    cursor: pointer;
    }
    .GNCommNotificationBoxClose {
    float: right;
    padding-right: 10px;
    color: #999999;
    font-size: 10px;
    cursor: pointer;
}
    .GNCommWaiting {
    margin: 10px;
        margin-top: 0px;
        font-size: 10px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    color: #b0b0b0;
    display:none;
}
.GNComm_LegacyRO_Box {
    background: #f2f1f3;
    min-height: 40px;
    display: block;
    position: absolute;
    left: 37px;
    z-index: 9;
    padding: 12px;
    padding-right: 34px;
    border-radius: 0px;
    max-width: 460px;
        margin-top: 50px;
        display:none;
}
.GNComm_LegacyRO_BoxClose {
    position: absolute;
    right: 6px;
    top: 6px;
    cursor: pointer;
    display:none;
}
.GNComm_LegacyRO_BoxT1 {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-size: 14px;
    line-height: 18px;
    font-weight: 400;
    font-style: normal;
    color: #000000 !important;
    text-transform: none;
}
.GNComm_LegacyRO_BoxT2 {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-size: 14px;
    line-height: 18px;
    font-weight: 400;
    font-style: normal;
    color: #4472C4 !important;
    cursor: pointer;
    text-transform: none;
}

.GNComm_LegacyRO_Arrow {
    background: #f2f1f3;
    height: 16px;
    width: 16px;
    position: absolute;
    margin-left: 12px;
        margin-top: -18px;
    -webkit-transform: rotate(45deg);
    -moz-transform: rotate(45deg);
    -o-transform: rotate(45deg);
    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=5);
}
.GNCommFooterLocked:hover {
    color:#000000;
}
        .fyre-comment-article
        {
                width: 100%;
                margin-top:32px;
        }
.fyre .fyre-comment-replies-indent .fyre-comment-article {
    margin-top: 22px;
    border-left: 1px solid #a4a4a4;
    padding-left: 15px;
}
.fyre a {
    background: none;
    border: none;
    color: #0049fb;
    text-decoration: none;
}
.fyre a:hover {
    background-color: #0049fb;
    color: white;
    text-decoration: none;
}
    .GNCommFooterLocked {
    display: flex;
    align-items: center;
    justify-content: flex-start;
}
.GNCommFooterLockedIcon {
    display: inline-block;
    height: 20px;
    opacity: .3;
    position: relative;
    top: -2px;
}
.GNCommFooterLockedIconSpan {
    margin-left:-6px;
    font-size: 18px;
    margin-right: 0px;
}
.GNCommFooterLockedText {
    margin-right: 20px;
}
    .GNCommFooterFlagIcon {
    display: block;
    height: 12px;
    opacity: .3;
    position: relative;
    top: 2px;
}
    .GNCommFooterFlagIcon:hover {
    opacity: 1;
}
    ::-webkit-input-placeholder { /* WebKit, Blink, Edge */
    color:    #D9D9D9;
}
:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
   color:    #D9D9D9;
   opacity:  1;
}
::-moz-placeholder { /* Mozilla Firefox 19+ */
   color:    #D9D9D9;
   opacity:  1;
}
:-ms-input-placeholder { /* Internet Explorer 10-11 */
   color:    #D9D9D9;
}
::-ms-input-placeholder { /* Microsoft Edge */
   color:    #D9D9D9;
}
    .GNComm_SignIn_Title {
    font-size: 26px;
        line-height: 32px;
    margin-bottom: 36px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    font-style: normal;
}
    .GNComm_SignIn_BodyArea {
    display: block;
    margin: auto;
    max-width: 400px;
    margin-top: 20px;
    margin-bottom: 20px;
}
    .GNComm_SignIn_Body {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    font-size: 14px;
    letter-spacing: 0;
    line-height: 19px;
}
    .GNComm_SignIn_BodyLink {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    font-size: 14px;
    letter-spacing: 0;
    line-height: 19px;
    color: #3379be;
    cursor:pointer;
}
    .GNComm_SignIn_Arrows1 {
    font-size: 25px;
    display: block;
}
    .GNComm_SignIn_Arrows2 {
    font-size: 23px;
    display: block;
    margin-top: -14px;
}
    .fyre-notifier-container {
    display: none !important;
    }
    .fyre-comment-user {
    display: none !important;
}
    .fyre-comment-head {
    display: none !important;
}
    .fyre-comment-body {
    display: none !important;
}
    .fyre-stream-refresh {
    display: none !important;
    }
    .fyre .fyre-stream-content-not-found {
    font-size: 14px !important;
}
    .fyre-thread-breakout-stream {
    padding-left: 10px;
    padding-bottom: 30px;
}
    .GNCommMessageDisplay {
    color: black !important;
    font-size: 18px !important;
        font-family: Lusitana,serif;
    font-weight: normal !important;
    font-style: normal !important;
    line-height: 21px;
        display: flex;
    align-items: center;
    justify-content: flex-start;
    margin-top: 0px;
}
    .GNCommMessageDisplayLeft {
    height: 100%;
    min-width: 30px;
    min-height: 30px;
    max-width: 30px;
    margin-right: 10px;
    display: block;
}
    img.GNCommMessageDisplayAvatarImg {
    background: gray;
    width: 30px;
    height: 30px;
    border-radius: 3000px;
}
    .GNCommMessageDisplayRight {
    height: 100%;
    min-height: 20px;
    min-width: 200px;
    display: block;
    position: relative;
    top: -30px;
    left: 48px;
    width: 91%;
}
    .GNCommMessageDisplayTName {
    color: black;
    margin-right: 3px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-size: 16px;
    line-height: 20px;
    font-weight: 500;
}
    .GNCommMessageDisplayTCol {
    font-size: 14px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    color:#2A2A2A;
}
    .GNCommMessageDisplayTMention {
    color: #2A2A2A !important;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 300;
    font-size: 16px;
    display:none;
    margin-left:-3px;
}
    .GNCommFooterFlagText {

    }
    .GNCommMessageDisplayTMCol {
    color: #3379be !important;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 400;
    font-size: 12px;
    display:none;
    }
    .GNCommEditBox {
    margin-top: -33px;
}
    .GNCommEditBoxTextArea {
    border: 1px #d5d5d5 solid;
    border-radius: 0px;
    margin-left: 43px;
    margin-top: 4px;
    margin-bottom: 4px;
    padding: 10px;
    min-height: 54px;
    
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        flex-basis: 0%;
        flex-grow: 1;
        flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
        font-weight: 200;
        line-height: 24px;
        text-size-adjust: 100%;
        -webkit-box-flex: 1;
        -webkit-font-smoothing: antialiased;
}
        .GNCommEditBoxTextArea > textarea {
            background-attachment: scroll;
            background-clip: border-box;
            background-color: rgba(0, 0, 0, 0);
            background-image: none;
            background-origin: padding-box;
            background-position-x: 0%;
            background-position-y: 0%;
            background-size: auto;
            border-bottom-color: #b0b0b0;
            border-bottom-style: none;
            border-bottom-width: 0px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: #b0b0b0;
            border-left-style: none;
            border-left-width: 0px;
            border-right-color: #b0b0b0;
            border-right-style: none;
            border-right-width: 0px;
            border-top-color: #b0b0b0;
            border-top-style: none;
            border-top-width: 0px;
            box-sizing: border-box;
            color: #2a2a2a !important;
            cursor: auto;
            display: block;
            flex-basis: 0%;
            flex-direction: column;
            flex-grow: 1;
            flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
            font-stretch: normal;
            font-style: normal;
            font-variant-caps: normal;
            font-variant-ligatures: normal;
            font-variant-numeric: normal;
            font-weight: 400;
            height: 25px;
            letter-spacing: normal;
            line-height: normal;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 5px;
            min-height: 25px;
            overflow-x: hidden;
            overflow-y: hidden;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 0px;
            resize: none;
            text-align: start;
            text-indent: 0px;
            text-rendering: auto;
            text-shadow: none;
            text-size-adjust: 100%;
            text-transform: none;
            user-select: text;
            white-space: pre-wrap;
            word-spacing: 0px;
            word-wrap: break-word;
            writing-mode: horizontal-tb;
            -webkit-appearance: none;
            -webkit-box-flex: 1;
            -webkit-font-smoothing: antialiased;
            -webkit-border-image: none;
            -webkit-rtl-ordering: logical;
        border: none;
    overflow: auto;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;
        }
    .GNCommMessageDisplayTBody p {
    display: inherit;
}
    .GNCommEditBoxTA {
    display: inline-block;
    border: 0px black solid;
    line-height: normal;
    resize: none;
    font-family: Lusitana, serif;
    font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
    font-size: 16px;
    font-stretch: normal;
    font-style: normal;
    font-variant-caps: normal;
    font-variant-ligatures: normal;
    font-variant-numeric: normal;
    font-weight: 400;
    letter-spacing: normal;
    width: 100%;
    color: #b0b0b0;
    overflow: hidden !important;
    word-wrap: normal;
    height: 25px;
    min-height: 25px;
    border: none;
    overflow: auto;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;
    margin-top: 0px;
}
    .GNCommEditBoxSave {
    display: inline-block;
    position: relative;
    left: 46px;
    cursor: pointer;
}
    .GNCommEditBoxCancel {
    display: inline-block;
    position: relative;
    left: 50px;
    cursor: pointer;
}
.GNCommBeTheFirst {
    text-align: center;
    margin: 10px;
    color: #b0b0b0;
    font-size: 14px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
    font-style: normal;
    display: none;
    margin-top: -50px;
    margin-bottom: 80px;
}
    span.GNCommMention {
    display: inline-block;
    float: left;
    color: #3379be !important;
    float: left !important;
    margin-top: 3px !important;
    margin-right: 5px !important;
    font-size: 12px !important;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
    font-style: normal !important;
    line-height: 18px;
}
.GNCommDeleteOverlay {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,.4);
    z-index: 40;
        display: none;
}
.GNCommDeleteOverlayWhiteBox {
    display: block;
    background: white;
    margin: 20%;
        text-align: center;
}
#GNCommDeleteOverlayClose {
    display: flex;
    float: right;
    cursor: pointer;
    width: 40px;
    height: 40px;
    align-items: center;
    justify-content: center;
}
.GNCommDeleteOverlayTitle {
    display: block;
    font-size: 26px;
    margin-bottom: 36px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    clear: both;
    margin-top: 40px;
}
.GNCommDeleteOverlayBody {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    color: #666;
    display: block;
    margin-left: auto;
    width: 60%;
    margin-bottom: 36px;
    margin-right: auto;
}
#GNCommDeleteOverlayButton {
}
#GNCommDeleteOverlayButton:hover {
}
.Auth_Comm_checkbox {
    display: block;
    margin-right: 10px;
    text-align: center;
}
.GNCommFlagOverlay {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,.4);
    z-index: 40;
        display: none;
}
.GNCommFlagOverlayWhiteBox {
    display: block;
    background: white;
    margin: 20%;
        text-align: center;
}
#GNCommFlagOverlayClose {
    display: flex;
    float: right;
    cursor: pointer;
    width: 40px;
    height: 40px;
    align-items: center;
    justify-content: center;
}
.GNCommFlagOverlayTitle {
    display: block;
    font-size: 26px;
    margin-bottom: 36px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    font-style: normal;
    clear: both;
    margin-top: 40px;
    max-width: 80%;
    margin-left: auto;
    margin-right: auto;
}
.GNCommFlagOverlayBody {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    color: #666;
    display: table;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 16px;
    text-align: left;
}
.GNCommFlagOverlayBodyText {
    display: inline-block;
    height: 20px;
    position: relative;
    top: -1px;
    font-weight: 400;
    color: black;
}
#GNCommFlagOverlayButton {
}
#GNCommFlagOverlayButton:hover {
}
#GNCommFlagOverlayButtonClose {
}
#GNCommFlagOverlayButtonClose:hover {
}
.GNCommFlagOverlayStep1 {

}
.GNCommFlagOverlayStep2 {
    display:none;
}
.GNCommFlagOverlayBodyRow {
    display: flex;
    height: 34px;
}
    .GNCommFooterEditMenu {
    position: absolute;
    height: 60px;
    width: 50px;
    background: white;
    border: 1px solid #d3d3d3;
    text-align: center;
    padding: 4px;
    line-height: 23px;
    margin-left: -14px;
    display:none;
        margin-top: -100px;
            cursor: default;
}
    .GNCommFooterEditMenuEdit {
    cursor: pointer;
}
    .GNCommFooterEditMenuDelete {
    cursor: pointer;
}
.GNCommFooterEditMenuWhiteBox {
    position: absolute;
    background: white;
    height: 15px;
    width: 100%;
    margin-left: -4px;
    margin-top: 3px;
}
.GNCommFooterEditMenuArrow {
    background: white;
    height: 16px;
    width: 16px;
    position: absolute;
    margin-left: 12px;
        margin-top: 55px;
    border: 1px solid #d3d3d3;
    -webkit-transform: rotate(45deg);
    -moz-transform: rotate(45deg);
    -o-transform: rotate(45deg);
    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=5);
}
    #GNCommReplyBase {
    display: none;
}
    #GNCommEditBoxBase {
    display: none;
}
    #GNCommMessageDisplayBase {
        display: none;
    }
    #GNCommFooterBase {
    display: none;
}
    #GNCommFooterBaseLocked {
    display: none;
}
    .fyre .fyre-comment-footer {
        display: none !important;
    }
    time.fyre-comment-date {
    display: none !important;
}
    .fyre-comment-wrapper {
    margin-top: 25px;
    display: block;
}
.GNCommFooter {
    cursor: pointer;
    margin-left: 49px;
    margin-top: -18px;
    margin-bottom: 4px;
    color: #838383;
    font-family: 'Roboto Condensed', 'Asap Condensed', 'neue-haas-unica', sans-serif;
    text-transform: uppercase;
    font-size: 12px;
    line-height: 12px;
    margin-right: 14px;
    letter-spacing: .2px;
    align-items: center;
    justify-content: flex-start;
}
    .GNCommFooterLike {
    display: inline-block;
        margin-right: 20px;
}
    .GNCommFooterLike:hover
    {
        color: #000000;
    }
    .GNCommFooterReply {
    display: inline-block;
        margin-right: 20px;
}
    .GNCommFooterReply:hover
    {
        color: #000000;
    }
    .GNCommFooterEdit {
    display: inline-block;
        margin-right: 20px;
}
    .GNCommFooterEditText:hover
    {
        color: #000000;
    }
    .GNCommFooterEditMenuEdit:hover
    {
        color: #000000;
    }
    .GNCommFooterEditMenuDelete:hover
    {
        color: #000000;
    }
.GNCommDisplayTime {
    display: inline-block;
    cursor: context-menu;
    font-weight: 300;
    font-style: normal;
    margin-left: 5px;
    color: #949494;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
font-size: 13px;
    line-height: 20px;
}
    .GNCommDisplayTime:hover
    {
    }
    .GNCommFooterFlag {
    display: inline-block;
}
    .GNCommFooterFlag:hover
    {
        color: #000000;
    }
span.heartNum {
    line-height: 18px;
    margin-left: 4px;
}



    .fyre-modal-alert-black {
            display: none !important;
    }
    .fyre .fyre-comment-actions span {
            display: none !important;
}
    .fyre.fyre-width-small .fyre-comment-container .fyre-comment-replies-indent .fyre-user-avatar
    {
        -webkit-border-radius: 50% !important;
        -moz-border-radius: 50% !important;
        -ms-border-radius: 50% !important;
        -o-border-radius: 50% !important;
        border-radius: 50% !important;
    }
    .fyre .fyre-comment-actions {
    float: none;
    display: inline-block;
    font-size: 11px;
    margin-top: 0px;
    text-align: left;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-size: 10.5px;
    line-height: 14px;
    color: #d3d3d3;
}
    .fyre .fyre-comment-like-count {
    font-size: 11px;
    text-decoration: none;
    line-height: 30px;
    margin-left: 2px;
}
/*.GNCommReplyPost {
    position: absolute;
    right: 6px;
    width: 30px;
    cursor: pointer;
        margin-top: -30px;
}
.GNCommReply {
    border: 1px #d5d5d5 solid;
    border-radius: 0px;
    margin-left: 43px;
    margin-top: 4px;
    margin-bottom: 4px;
    padding: 10px;
    height: 54px;
}
.GNCommReplyText {
    display: inline-block;
    margin-top: -10px;
    position: absolute;
    width: 70%;
    height: 30px;
}
.GNCommReplyTA {
    display: inline-block;
    line-height: 40px;
    resize: none;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
    font-size: 14px;
    font-stretch: normal;
    font-style: normal;
    font-variant-caps: normal;
    font-variant-ligatures: normal;
    font-variant-numeric: normal;
    font-weight: 400;
    letter-spacing: normal;
    width: 100%;
            color: #2a2a2a !important;
        overflow: hidden !important;
    word-wrap: normal;
    height: 50px !important;
    min-height: 50px !important;
        border: none;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;

    
            background-attachment: scroll;
            background-clip: border-box;
            background-color: rgba(0, 0, 0, 0);
            background-image: none;
            background-origin: padding-box;
            background-position-x: 0%;
            background-position-y: 0%;
            background-size: auto;
            border-bottom-color: #b0b0b0;
            border-bottom-style: none;
            border-bottom-width: 0px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: #b0b0b0;
            border-left-style: none;
            border-left-width: 0px;
            border-right-color: #b0b0b0;
            border-right-style: none;
            border-right-width: 0px;
            border-top-color: #b0b0b0;
            border-top-style: none;
            border-top-width: 0px;
            box-sizing: border-box;
            cursor: auto;
            display: block;
            flex-basis: 0%;
            flex-direction: column;
            flex-grow: 1;
            flex-shrink: 1;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 5px;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 0px;
            text-align: start;
            text-indent: 0px;
            text-rendering: auto;
            text-shadow: none;
            text-size-adjust: 100%;
            text-transform: none;
            user-select: text;
            white-space: pre-wrap;
            word-spacing: 0px;
            writing-mode: horizontal-tb;
            -webkit-appearance: none;
            -webkit-box-flex: 1;
            -webkit-font-smoothing: antialiased;
            -webkit-border-image: none;
            -webkit-rtl-ordering: logical;
}*/


    /*.fyre-mention-button {
    display: none !important;
}

    .fyre-share-button {
    display: none !important;
}

    .goog-toolbar-separator {
    display: none !important;
    }*/

    .fyre-live-container
    {
        display: none;
    }

    .fyre-stream-stats
    {
        display: none;
    }

    .fyre-stream-header
    {
        display: none;
    }

    .fyre-auth
    {
        display: none;
    }

    .fyre-comment-actions
    {
    }

    .fyre-hovercard-body
    {
        display: none;
    }

    .fyre-hovercard-arrow
    {
        display: none;
    }

    b.commentName
    {
        display: none;
    }

    section.fyre-comment-body
    {
    }

    span.fyre-comment-like-imgs
    {
        display: none;
    }

    .fyre-comment-divider
    {
        display: none;
    }

    .fyre .fyre-comment-replies-indent
    {
        margin-left: 46px;
    }

    .fyre-editor-toolbar
    {
        display: none;
    }

    a.fyre-mention.fyre-mention-livefyre
    {
        color: #868686 !important;
        float: left !important;
        margin-top: 0px !important;
        font-size: 12px !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        line-height: 18px;
        margin-left: 2px;
    }

    .fyre-editor .fyre-editor-container .fyre-editor-editable > p *
    {
        color: #868686 !important;
        float: left !important;
        margin-top: 0px !important;
        font-size: 12px !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        line-height: 18px !important;
        margin-left: 2px;
    }

    .fyre-editor .fyre-editor-container .fyre-editor-editable > p
    {
        color: #2a2a2a !important;
        float: left !important;
        margin-top: 0px !important;
        font-size: 12px !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        line-height: 18px !important;
        margin-left: 2px;
    }

    .fyre-comment-edit {
        display: none !important;
    }

    .fyre .fyre-comment-reply
    {
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
        font-size: 10.5px;
        line-height: 14px;
        color: #d3d3d3;
            position: inherit;
    top: 0px;
    padding: 0px;
    }

    .fyre .fyre-comment-actions a.fyre-delete-link
    {
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
        font-size: 10.5px;
        line-height: 14px;
        color: #d3d3d3;
    }

    .fyre-editor-field[placeholder]:empty:before
    {
        content: attr(placeholder);
        color: #d3d3d3;
        font-size: 11px;
    }

    .placeholderComment[placeholder]:empty:before
    {
        content: attr(placeholder);
        color: #d3d3d3;
        font-size: 11px;
    }

    .placeholderComment[placeholder]:empty:focus:before
    {
        content: "";
    }

    .fyre-editor
    {
        margin-top: 0px !important;
    }
    /*
    .fyre-editor-field {
        overflow: hidden !important;
        word-wrap: break-word !important;
        flex: 1 !important;
    }
    */
    .fyre-editor-editable
    {
        /*
        overflow: hidden !important;
        word-wrap: break-word !important;
        flex: 1 !important;
        */
        font-size: 13px !important;
        font-family: Lusitana, serif !important;
        border-radius: 5px !important;
        /* height: 50px; */
        line-height: 18px !important;
        font-style: normal;
        font-weight: normal;
        padding-right: 35px !important;
    }

    .fyre-editor-container
    {
        /* height: 50px; */
        margin-bottom: 23px;
        display:none !important;
    }

    .fyre-editor .fyre-editor-container .fyre-editor-editable
    {
        background: #fff;
        border: 1px solid #e8e8e8;
        padding: 10px 5px 10px 9px;
        /* display: flex; */
        transition: border-color 400ms ease-in-out;
        line-height: 16px;
        box-shadow: none;
        height: 50px !important;
        /* height: auto; */
    }

    .fyre-post-button-new
    {
        background: #fff !important;
        border: none !important;
        margin-top: -90px !important;
        font-size: 30px !important;
        color: rgb(112, 112, 112) !important;
    }

    .fyre-post-button-reply
    {
        background: #fff !important;
        border: none !important;
        margin-top: -40px !important;
        font-size: 20px !important;
        color: rgb(112, 112, 112) !important;
            position: absolute;
    right: 0px;
    top: 53px;
    }

    .fyre-comment-date
    {
        margin-left: 0px !important;
    }



    .fyre .fyre-comment-head, .fyre .fyre-comment-body
    {
        margin-left: 40px;
    }

    .fyre .fyre-listener-avatars img
    {
        border-radius: 50%;
    }

    .fyre .fyre-comment-user img.fyre-user-avatar
    {
        border-radius: 50%;
        height: 30px;
        width: 30px;
    }

    .fyre .fyre-avatar img
    {
        border-radius: 50%;
    }

    .heartSVG
    {
        box-sizing: border-box;
        color: #d3d3d3 !important;
        cursor: pointer;
        display: block;
        font-size: 11px !important;
        font-weight: 300 !important;
        line-height: 18px !important;
        height: 18px !important;
        width: auto !important;
    }

    .likedComment
    {
        fill: #2d2d2d;
    }

    .heartDiv
    {
        float: left;
        color: #838383;
    font-size: 16px;
    }
    .heartDiv:hover
    {
        color: #e15b6c;
    }
    .heartDiv.on
    {
        color: #e15b6c;
    }

    .fyre-editor-bottom-container
    {
        margin-right: auto;
        margin-left: auto;
        max-width: 960px;
    }

    .fyre-buttonM
    {
        margin-top: 21px !important;
        padding-top: 2px !important;
        background-color: black !important;
        border-color: white !important;
        color: white !important;
        height: 40px !important;
        line-height: 37px !important;
        border-radius: 0px;
        margin-left: 5px !important;
        margin-right: 5px !important;
        cursor: pointer !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        font-size: 14px !important;
    }

    .fyre-buttonT
    {
        padding-top: 0px !important;
        color: white !important;
        border-radius: 0px;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
        font-style: normal !important;
        font-size: 13px !important;
        line-height: 42px;
        padding-bottom: 2px !important;
        transition: background-color 150ms ease;
        background-color: #2d2d2d;
        padding-left: 24px;
        padding-right: 24px;
    }
    .fyre-buttonT:hover
    {
        background-color: black !important;
    }

    .livefyre-tablet
    {
        max-width: 960px;
        margin-right: auto;
        margin-left: auto;
        padding-left: 20px;
        padding-right: 20px;
    }

    .livefyre-tablet-close
    {
        position: absolute;
        width: 20px;
        height: 20px;
        top: 20px;
        font-size: 16px;
        right: 25px;
        color: black;
        cursor: pointer;
    }

    .fyre-comment-user
    {
        position: relative !important;
            pointer-events: none;
    }

    .fyre-comment-head
    {
        margin-top: -37px !important;
    }

    .fyre-comment-footer
    {
        margin-top: -6px !important;
        margin-bottom: 0px !important;
        padding-top: 0px !important;
        padding-bottom: 0px !important;
        text-align: left !important;
        margin-left: 41px !important;
        margin-bottom: 23px !important;
    }

    .commentName
    {
        font-size: 11px;
    }

    .fyre-comment-username
    {
        color: #868686 !important;
        float: left !important;
        margin-top: 3px !important;
        margin-right: 5px !important;
        font-size: 12px !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        line-height: 18px;
    }

    .fyre .fyre-moderator, .fyre .fyre-comment-author-tag
    {
        background-color: black;
    }

    .fyra a
    {
    }

    .fyre-comment-reply
    {
    }

    .fyre-comment-action-button
    {
    }

    .fyre .fyre-comment a
    {
    }
    .fyre .fyre-comment-stream {
    padding-left: 0px;
}
    .fyre .fyre-comment-actions a.fyre-share-link {
    display: none;
}
    .fyre .fyre-comment-actions {
        opacity:1;
    }

    .fyre-comment-body .fyre-comment
    {
        margin-top: 3px !important;
    }

    .fyre .fyre-comment p
    {
        font-size: 13px !important;
        font-family: Lusitana, serif !important;
        font-style: normal;
        font-weight: normal;
        line-height: 18px;
        color: #a2a2a2;
    }

    .fyre-button-right-inner-box
    {
        color: #d3d3d3 !important;
    }

    .spaceDotSpan {
    position: inherit;
    display: inline-block;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-size: 10.5px;
    line-height: 14px;
    color: #d3d3d3;
    padding: 0px 8px 0px 8px;
}

    .goog-inline-block .fyre-button-right-outer-box
    {
        padding-right: 10px !important;
        margin-right: 5px !important;
    }

    @media only screen
    {
        fyre-comment-reply
        {
            border: 0 !important;
        }
        /*
        .fyre .fyre-comment-action-button {
            text-align: center;
            height: 17px;
            line-height: 17px;
            min-width: 16px;
            padding: 5px 0px 5px 0px;
            background-color: none;
            background-image: none !important;
            filter: none !important;
            border: none !important;
            font-size: 11px;
            font-weight: normal;
            color: #d3d3d3 !important;
        }

        .fyre .fyre-comment-action-button:hover {
            border: none !important;
            background-color: none !important;
            background-image: none !important;
            filter: none !important;
        }
           */
        .fyre .fyre-comment-like
        {
            color: #d3d3d3 !important;
            display: inline-block;
                position: inherit;
    top: 0px;
        padding: 0 0px 0 0;
        }

        .fyre .fyre-comment-date
        {
                font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-size: 10.5px;
    line-height: 14px;
    position: inherit;
    top: 0px;
    padding: 0px;
            color: #d3d3d3 !important;
        }
        /*
        .fyre .fyre-editor-toolbar .goog-toolbar > div.fyre-button-right.fyre-post-button .fyre-button-right-inner-box {
            text-align: right !important;
        }

        .placeholderComment[placeholder]:empty:before {
            content: attr(placeholder);
            color: #d3d3d3;
            font-size: 11px;
        }

        .placeholderComment[placeholder]:empty:focus:before {
            content: "";
        }
            */

    }

    @media all and (max-width: 980px)
    {
        .GNCommFlagOverlayBody {
}
.GNComm_LegacyRO_BoxClose {
    display:block;
}
.GNComm_LegacyRO_Box {
    min-height: 40px;
    padding: 18px;
    border-radius: 0px;
    max-width: 420px;
        margin-top: 70px;
}
.GNComm_LegacyRO_BoxT1 {
    font-size: 14px;
}
.GNComm_LegacyRO_BoxT2 {
    font-size: 14px;
}

.GNComm_LegacyRO_Arrow {
        margin-top: -25px;
}
    }

    @media all and (max-width: 680px)
    {
 .GNCommFlagOverlayWhiteBox {
    margin: 18px;
}       
 .GNCommDeleteOverlayWhiteBox {
    margin: 18px;
}       
    .GNCommMessageDisplayRight {
    width: 80%;
}
        .GNCommFlagOverlay {

}
        .GNCommFlagOverlayBody {
}
        #GNCommFlagOverlayButton {
}
        #GNCommFlagOverlayButtonClose {
}
    }

    @media all and (max-width: 480px)
    {
        .GNCommFlagOverlayWhiteBox {
}
        .GNCommReplyText {
    width: 70%;
}
        .fyre .fyre-comment-footer
        {
            float: left;
            clear: both;
        }

        .fyre-comment-article
        {
            float: left;
        }
        .fyre-comment-article {
    margin-top: 19px;
}
        .fyre .fyre-comment-replies-indent .fyre-comment-article {
    margin-top: 0px;
}
    }
</style>
<script type="text/javascript">
    var GNCommOverLocked = false;
    var GNCommSetFooterState = "";
    var GNCommShowLegacyState = "";
    //   http://studio.livefyre.com/BGC3.fyre.co/homexx
    function autoGrowTextArea(textField) {
        var cHeight = textField.prop('clientHeight');
        var sHeight = textField.prop('scrollHeight');
        if (cHeight < sHeight) {
            textField.height(sHeight);
            if (textField.prop('clientHeight') < textField.prop('scrollHeight')) {
                var newHeight = textField.prop('scrollHeight') * 2 - textField.prop('clientHeight');
                textField.height(newHeight);
            }
        }
    }

    function elementSupportsAttribute(element, attribute) {
        var test = document.createElement(element);
        if (attribute in test) {
            return true;
        } else {
            return true; //false;
        }
    };


    // [name] is the name of the event "click", "mouseover", ..
    // same as you'd pass it to bind()
    // [fn] is the handler function
    $.fn.bindFirst = function (name, fn) {
        // bind as you normally would
        // don't want to miss out on any jQuery magic
        this.on(name, fn);

        // Thanks to a comment by adding support for
        // namespaced events too.
        this.each(function () {
            var handlers = $._data(this, 'events')[name.split('.')[0]];
            // take out the handler we just inserted from the end
            var handler = handlers.pop();
            // move it at the beginning
            handlers.splice(0, 0, handler);
        });
    };
    function GNComm_htmlEncode(value) {
        //create a in-memory div, set it's inner text(which jQuery automatically encodes)
        //then grab the encoded contents back out.  The div never exists on the page.
        value = value.split(";").join("&#59;");//.replace(";", "&#59;");
        value = value.split("%").join("&#37;");//.replace("%", "&#37;");
        return $('<div/>').text(value).html();
    }
    function addGNLFFooter() {
        $(".fyre-comment-body").each(function () {
            if ($(this).closest(".fyre-comment-article").is(':visible')) {
                if (!$(this).hasClass("hasGNLFFooter")) {
                    //console.log("GNComm:addGNLFFooter");
                    // test date to sort Legacy Locked from Normal comments
                    var commentStyle = "New";
                    var dateText = $(this).parent().find("time.fyre-comment-date").text();
                    //var dateText = "Apr 3, 2017";
                    var dateDate = new Date();
                    try {
                        dateDate = $.datepicker.parseDate("M dd, yy", dateText);
                        //console.log("valid date");
                    } catch (e) {
                        //console.log("invalid date");
                    }
                    var GNCtoday = new Date();
                    var CutOffDay = new Date().setDate(GNCtoday.getDate() - 60); //$.datepicker.parseDate("M dd, yy", "Sep 29, 2017");
                    if (CutOffDay < dateDate) {
                        commentStyle = "New";
                    } else {
                        commentStyle = "Legacy";
                    }
                    $(this).addClass("hasGNLFFooter");
                    if (commentStyle == "New") {
                        // New Active Comments

                        // Reply
                        $("#GNCommReplyBase").clone(false).attr("id", "GNCommReply" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $("#GNCommEditBoxBase").clone(false).attr("id", "GNCommEditBox" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $("#GNCommFooterBase").clone(false).attr("id", "GNCommFooter" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $("#GNCommMessageDisplayBase").clone(false).attr("id", "GNCommMessageDisplay" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $(document).on('click', '.GNCommReplyPost', function (event) {
                            //console.log("id: " + $(this).parent().attr("id"));
                            if (currentUserData.IsApproved != "false") {
                                $(this).closest(".fyre-comment-article").find(".GNCommWaiting").css("display", "block");
                                GNCommReplyPost($("#GNCommReply" + $(this).closest(".fyre-comment-article").attr("data-message-id")).find(".GNCommReplyTA").val(), $(this).closest(".fyre-comment-article").attr("data-message-id"));
                            }
                        });

                        $(".GNCommFooterReply").unbind().click(function (event) {
                            GNCommHideNotifications();
                            if (isGNILoggedIn()) {
                                //console.log("Reply: " + $(this).parent().attr("id"));
                                //console.log("Reply: " + $(this).parent().parent().find(".GNCommReply").attr("id"));
                                if ($(this).parent().parent().find(".GNCommReply").is(':visible')) {
                                    $(this).parent().parent().find(".GNCommReply").css("display", "none");
                                    $(this).parent().parent().find(".GNCommReplyTA").val("");
                                } else {
                                    $(this).parent().parent().find(".GNCommReply").css("display", "block");
                                }
                            } else {
                                if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                                    // user logged in to GNI but not verified
                                    var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + $(this).closest(".fyre-comment-article").attr("data-message-id") + "']");
                                    //GNCommFoundItem.find(".GNCommWaiting").first().css("color", "#890d0d");
                                    //GNCommFoundItem.find(".GNCommWaiting").first().css("display", "block");
                                    //GNCommFoundItem.find(".GNCommWaitingDots").first().css("display", "none");
                                    //GNCommFoundItem.find(".GNCommWaitingMessage").first().html("Please verify your email in order to make comments.");
                                    GNCommFoundItem.find(".GNCommReply").first().after($("#GNCommPleaseVerify"));
                                    $("#GNCommPleaseVerify").css("display", "block");
                                } else {
                                    var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + $(this).closest(".fyre-comment-article").attr("data-message-id") + "']");
                                    GNCommFoundItem.find(".GNCommReply").first().after($("#GNCommSignUpOrLogIn"));
                                    $("#GNCommSignUpOrLogIn").css("display", "block");
                                }
                            }
                        });
                        $(document).on('keyup', '.GNCommReplyText', function (event) {
                            if ($(this).is(':visible')) {
                                var key = event.which;
                                if (key == 13) {
                                    //console.log("Reply id: " + $(this).parent().attr("id"));
                                    if (currentUserData.IsApproved != "false") {
                                        $(this).closest(".fyre-comment-article").find(".GNCommWaiting").css("display", "block");
                                        GNCommReplyPost($("#GNCommReply" + $(this).closest(".fyre-comment-article").attr("data-message-id")).find(".GNCommReplyTA").val(), $(this).closest(".fyre-comment-article").attr("data-message-id"));
                                    }
                                    event.stopPropagation();
                                }
                                else {
                                    autoGrowTextArea2($(this).find(".GNCommReplyTA"));
                                    event.stopPropagation();
                                }
                            }
                        });
                        $(document).on('keyup', '.GNCommEditBoxTextArea', function (event) {
                            if ($(this).is(':visible')) {
                                //console.log("edit id: " + $(this).parent().attr("id"));
                                autoGrowTextArea2($(this).find(".GNCommEditBoxTA"));
                            }
                        });

                        // Like
                        $(".GNCommFooterLike").unbind().click(function (event) {
                            if (isGNILoggedIn()) {
                                //console.log("Like: " + $(this).parent().attr("id") + " : " + $(this).parent().parent().parent().find(".fyre-comment-like-btn:first").text());
                                if ($(this).parent().parent().parent().find(".fyre-comment-like-btn:first").text() == "Like") {
                                    // check if user is trying to like their own comment
                                    if ($(this).parent().parent().parent().attr("data-author-id") == GNCommUserId + "@gatesnotes.fyre.co") {
                                        // tell user they can't like their own thing
                                        //console.log("tell user they can't like their own thing");
                                    } else {
                                        GNCommLike($(this).parent().parent().parent().attr("data-message-id"));
                                        $(this).find(".heartNum").attr("data-manual-set", "true");
                                        $(this).find(".heartDiv").addClass("on");
                                        // adjust heart num up one
                                        if ($(this).find(".heartNum").text() == "") {
                                            $(this).find(".heartNum").html(1);
                                        } else {
                                            var GNCommHN = parseInt($(this).find(".heartNum").text(), 10);
                                            $(this).find(".heartNum").html(GNCommHN + 1);
                                        }
                                    }
                                } else {
                                    // test for prev like and Unlike if so
                                    GNCommDisLike($(this).parent().parent().parent().attr("data-message-id"));
                                    $(this).find(".heartNum").attr("data-manual-set", "true");
                                    $(this).find(".heartDiv").removeClass("on");
                                    // adjust heart num down one
                                    if ($(this).find(".heartNum").text() == "1") {
                                        $(this).find(".heartNum").html("");
                                    } else {
                                        var GNCommHN = parseInt($(this).find(".heartNum").text(), 10);
                                        $(this).find(".heartNum").html(GNCommHN - 1);
                                    }
                                }
                            }
                        });

                        // Edit Delet
                        $(".GNCommFooterEditText").unbind().click(function (event) {
                            //console.log("EditMenu: " + $(this).parent().parent().attr("id"));
                            GNCommHideNotifications();
                            if ($(this).parent().parent().find(".GNCommFooterEditMenu").is(':visible')) {
                                $(this).parent().parent().find(".GNCommFooterEditMenu").css("display", "none");
                            } else {
                                $(this).parent().parent().find(".GNCommFooterEditMenu").css("display", "block");
                            }
                        });
                        function GNCommHideEditBox(elem) {
                            elem2 = elem.closest(".fyre-comment-wrapper");
                            elem2.find(".GNCommMessageDisplayRight").css("display", "block");
                            elem2.find(".GNCommMention").css("display", "inline-block");
                            elem2.find(".fyre-comment-body").css("display", "block");
                            elem2.find(".fyre-comment-username").css("display", "block");
                            elem2.find(".GNCommFooter").css("display", "flex");
                            elem2.find(".GNCommEditBox").css("display", "none");
                            elem2.find(".GNCommFooterEditMenu").css("display", "none");

                            //elem.parent().parent().parent().parent().find(".GNCommMessageDisplayRight").css("display", "block");
                            //elem.parent().parent().parent().parent().find(".GNCommMention").css("display", "inline-block");
                            //elem.parent().parent().parent().parent().find(".fyre-comment-body").css("display", "block");
                            //elem.parent().parent().parent().parent().find(".fyre-comment-username").css("display", "block");
                            //elem.parent().parent().parent().parent().find(".GNCommFooter").css("display", "flex");
                            //elem.parent().parent().parent().parent().find(".GNCommEditBox").css("display", "none");
                            //elem.parent().parent().parent().parent().find(".GNCommFooterEditMenu").css("display", "none");
                        }
                        $(".GNCommFooterEditMenuEdit").unbind().click(function (event) {
                            //console.log("Edit: " + $(this).parent().parent().parent().attr("id"));
                            // show edit box
                            if ($(this).parent().parent().parent().parent().find(".GNCommEditBox").is(':visible')) {
                                GNCommHideEditBox($(this));
                            } else {
                                $(this).parent().parent().parent().parent().find(".GNCommMessageDisplayRight").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".GNCommMention").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".fyre-comment-body").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".fyre-comment-username").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".GNCommFooter").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".GNCommEditBox").css("display", "block");
                                $(this).parent().parent().parent().parent().find(".GNCommFooterEditMenu").css("display", "none");
                            }
                        });
                        $(document).on('keyup', '.GNCommEditBoxTextArea', function (event) {
                            var key = event.which;
                            if (key == 13) {
                                if ($(this).is(':visible')) {
                                    //console.log("Save: " + $(this).parent().parent().parent().attr("id"));
                                    var GNCommEditedInP = "<p>" + $(this).parent().parent().parent().find(".GNCommEditBoxTA").val() + "</p>";
                                    GNCommEditPost($(this).parent().parent().parent().attr("data-message-id"), GNCommEditedInP);
                                    $(this).parent().parent().parent().attr("data-message-html", GNComm_htmlEncode(GNCommEditedInP));
                                    GNCommHideEditBox($(this));
                                    event.stopPropagation();
                                }
                            }
                        });
                        $(".GNCommEditBoxSave").unbind().click(function (event) {
                            //console.log("Save: " + $(this).parent().parent().parent().attr("id"));
                            var GNCommEditedInP = "<p>" + $(this).parent().parent().parent().find(".GNCommEditBoxTA").val() + "</p>";
                            GNCommEditPost($(this).parent().parent().parent().attr("data-message-id"), GNCommEditedInP);
                            $(this).parent().parent().parent().attr("data-message-html", GNComm_htmlEncode(GNCommEditedInP));
                            GNCommHideEditBox($(this));
                        });
                        $(".GNCommEditBoxCancel").unbind().click(function (event) {
                            GNCommHideEditBox($(this));
                        });
                        //GNCommEditBoxSave
                        //GNCommEditBoxCancel//hide edit
                        $(".GNCommFooterEditMenuDelete").unbind().click(function (event) {
                            //console.log("Delete: " + $(this).parent().parent().parent().attr("id"));
                            // show confirm delete box
                            $(".GNCommDeleteOverlay").css("display", "block");
                            $(".GNCommFooterEditMenu").css("display", "none");
                            $("#GNCommDeleteOverlayButton").attr("data-content-id", $(this).parent().parent().parent().parent().parent().attr("data-message-id"));
                        });
                        $("#GNCommDeleteOverlayButton").unbind().click(function (event) {
                            // delete post
                            GNCommDelete($(this).attr("data-content-id"));
                            $(".GNCommDeleteOverlay").css("display", "none");
                        });
                        $("#GNCommDeleteOverlayClose").unbind().click(function (event) {
                            $(".GNCommDeleteOverlay").css("display", "none");
                        });
                    } else {
                        // Legacy Locked Comments
                        $("#GNCommFooterBaseLocked").clone(false).attr("id", "GNCommFooter" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $("#GNCommMessageDisplayBase").clone(false).attr("id", "GNCommMessageDisplay" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                    }


                    // Flag for both styles
                    $(".GNCommFooterFlag").unbind().click(function (event) {
                        if (isGNILoggedIn()) {
                            // show flag box
                            $(".GNCommFlagOverlay").css("display", "block");
                            $("#GNCommFlagOverlayButton").attr("data-content-id", $(this).parent().parent().parent().attr("data-message-id"));
                        } else {
                            if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                                var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + $(this).closest(".fyre-comment-article").attr("data-message-id") + "']");
                                GNCommFoundItem.find(".fyre-comment-footer").first().before($("#GNCommPleaseVerify"));
                                $("#GNCommPleaseVerify").css("display", "block");
                            } else {
                                var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + $(this).closest(".fyre-comment-article").attr("data-message-id") + "']");
                                GNCommFoundItem.find(".fyre-comment-footer").first().before($("#GNCommSignUpOrLogIn"));
                                $("#GNCommSignUpOrLogIn").css("display", "block");
                            }
                        }
                    });
                    $("#GNCommFlagOverlayButton").unbind().click(function (event) {
                        // flag post
                        GNCommFlag($(this).attr("data-content-id"), $(this).attr("data-flag-type"));
                        //console.log("Flag: " + $(this).attr("data-content-id") + ":" + $(this).attr("data-flag-type"));
                        $(".GNCommFlagOverlayStep1").css("display", "none");
                        $(".GNCommFlagOverlayStep2").css("display", "block");
                    });
                    $("#GNCommFlagOverlayButtonClose").unbind().click(function (event) {
                        $(".GNCommFlagOverlay").css("display", "none");
                        GNCommUncheckFlags();
                        //$("#GNCommFlagOverlayButton").css("opacity", ".2");
                        //$("#GNCommFlagOverlayButton").css("pointer-events", "none");
                        $(".GNCommFlagOverlayStep1").css("display", "block");
                        $(".GNCommFlagOverlayStep2").css("display", "none");
                    });
                    $("#GNCommFlagOverlayClose").unbind().click(function (event) {
                        $(".GNCommFlagOverlay").css("display", "none");
                        GNCommUncheckFlags();
                        //$("#GNCommFlagOverlayButton").css("opacity", ".2");
                        //$("#GNCommFlagOverlayButton").css("pointer-events", "none");
                        $(".GNCommFlagOverlayStep1").css("display", "block");
                        $(".GNCommFlagOverlayStep2").css("display", "none");
                    });
                    function GNCommUncheckFlags() {
                        $("#GNCommFlag1").attr('checked', false);
                        $("#GNCommFlag2").attr('checked', false);
                        $("#GNCommFlag3").attr('checked', false);
                        $("#GNCommFlag1").prop('checked', false);
                        $("#GNCommFlag2").prop('checked', false);
                        $("#GNCommFlag3").prop('checked', false);
                    }
                    function GNCommCheckFlag(boxNum) {
                        switch (boxNum) {
                            case 1:
                                $("#GNCommFlag1").attr('checked', true);
                                $("#GNCommFlag1").prop('checked', true);
                                $("#GNCommFlagOverlayButton").attr("data-flag-type", "off-topic");
                                break;
                            case 2:
                                $("#GNCommFlag2").attr('checked', true);
                                $("#GNCommFlag2").prop('checked', true);
                                $("#GNCommFlagOverlayButton").attr("data-flag-type", "offensive");
                                break;
                            case 3:
                                $("#GNCommFlag3").attr('checked', true);
                                $("#GNCommFlag3").prop('checked', true);
                                $("#GNCommFlagOverlayButton").attr("data-flag-type", "spam");
                                break;
                        }

                        // show report button
                        //$("#GNCommFlagOverlayButton").css("opacity", "1");
                        //$("#GNCommFlagOverlayButton").css("pointer-events", "all");
                    }
                    $("#GNCommFlag1").unbind().click(function (event) {
                        GNCommUncheckFlags();
                        GNCommCheckFlag(1);
                    });
                    $("#GNCommFlag2").unbind().click(function (event) {
                        GNCommUncheckFlags();
                        GNCommCheckFlag(2);
                    });
                    $("#GNCommFlag3").unbind().click(function (event) {
                        GNCommUncheckFlags();
                        GNCommCheckFlag(3);
                    });
                    $(".GNCommFlagOverlayBodyText").unbind().click(function (event) {
                        GNCommUncheckFlags();
                        switch ($(this).parent().find("input").attr("id")) {
                            case "GNCommFlag1":
                                GNCommCheckFlag(1);
                                break;
                            case "GNCommFlag2":
                                GNCommCheckFlag(2);
                                break;
                            case "GNCommFlag3":
                                GNCommCheckFlag(3);
                                break;
                        }
                    });

                }
            }
        });
    }
    function addThirdLevelMentions() {
        $(".fyre-comment-wrapper").each(function () {
            if (!$(this).hasClass("hasMention")) {
                //console.log("GNComm:addThirdLevelMentions");
                GNCommGetItemData($(this).parent().attr("data-message-id"));
                $(this).addClass("hasMention");
            }
        });
    }
    function writeLFMessageBodyHTML(item, body) {
        $('article[data-message-id=' + item + ']').each(function () {
            var encodedBody = GNComm_htmlEncode(body);
            $(this).attr("data-message-html", encodedBody);
            var GNCommEditBody = body.replace("<p>", "").replace("</p>", "");
            $(this).find(".GNCommEditBoxTA").val(GNCommEditBody);
            //var bodyElem = $.parseHTML(body);

            //if (bodyElem.length > 0) {
            //    $(this).attr("data-message-html", GNComm_htmlEncode(bodyElem[0].innerText));
            //    $(this).find(".GNCommEditBoxTA").val(GNComm_htmlEncode(bodyElem[0].innerText));
            //} else {
            //    console.log("body: " + body);
            //}
        });
    }
    function writeThirdLevelMentions(item, parent) {
        var mentionName = "";
        // find fyre-comment-article with data-message-id = parent
        $('article[data-message-id=' + parent + ']').each(function () {
            // find fyre-comment-username
            mentionName = $(this).find(".fyre-comment-username").html();
            // strip :
            if (mentionName != undefined) {
                mentionName = mentionName.replace(":", "");
                // find fyre-comment-article with data-message-id = item
                $('article[data-message-id=' + item + ']').each(function () {
                    // add <span class="GNCommMention">e e</span> after fyre-comment-username
                    $("<span class='GNCommMention'>&nbsp;to " + mentionName + "</span>").insertAfter($(this).find(".fyre-comment-username"));
                    $(this).find(".GNCommMessageDisplayTMention").html("&nbsp;to " + mentionName);
                    $(this).find(".GNCommMessageDisplayTMention").css("display", "inline");
                    // add bodyHTML as data attr
                });
            }
        });
    }
    function moveDate() {
        $("time.fyre-comment-date").each(function () {
            if (!$(this).hasClass("dateMoved")) {
                //console.log("GNComm:moveDate");
                $(this).addClass("dateMoved");
                var tdate = $(this).text();
                tdate = tdate.replace(' ago', '');
                if (tdate.search('day') == -1) {
                    var comDate = new Date(tdate);
                    var diff = Math.abs(new Date() - comDate);
                    var daysCom = Math.floor(diff / days);
                    var monthsCom = Math.floor(diff / month);
                    if (daysCom < 30) {
                        tdate = daysCom.toString() + " days";
                    } else if (monthsCom == 1) {
                        tdate = "a month";
                    } else {
                        tday = monthsCom.toString() + " months";
                    }
                }
                $(this).text(tdate);
                //$(this).parent().nextAll("footer").children("a").append("<span class='fyre-comment-date'>" + tdate + "</span>");
                $("<span class='fyre-comment-date'>" + tdate + "</span>").insertAfter($(this).parent().parent().find('.fyre-comment-reply'));
                $(this).parent().parent().find(".GNCommDisplayTime").html(tdate);
                $(this).css("display", "none");
            }
        });

    }
    function makePost() {
        //var ta = document.getElementsByClassName("fyre-editor-field");
        //$(".fyre-editor-field").unbind("keyup", fyre.conv.Xk);
        $(".fyre-editor-field").each(function () {

            var id = $(this).attr('id');


            document.getElementById(id).addEventListener('keypress', function (event) {
                //event.stopPropagation();
                //return false;
            }, true);
            document.getElementById(id).addEventListener('keydown', function (event) {
                //event.stopPropagation();
                //return false;
            }, true);

            document.getElementById(id).addEventListener('keyup', function (event) {
                var key = event.which;
                if (key == 13) {
                    if (!isGNILoggedIn()) {
                        if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                            //console.log("logged in but not verified");
                            //$("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
                            $("#GNCommPleaseVerify").css("display", "block");
                        } else {
                            //MenuS45_OpenSignIn();
                            $("#GNCommSignUpOrLogIn").css("display", "block");
                        }
                    }
                    //$(".goog-inline-block .fyre-button-right-inner-box").click();
                    // goog-inline-block fyre-button-right fyre-post-button fyre-post-button-new
                    //$("div#:nd.goog-inline-block.fyre-button-right.fyre-post-button.fyre-post-button-new").keypress(event);
                    $("#\\:nd").keypress(event);
                    $("#\\:nd").click();
                    //$(".goog-toolbar .goog-toolbar-horizontal").mouseup();
                    return false;
                }
                //$(this).css("height", "50px");
                //event.stopPropagation();
                //autoGrowTextArea($(this));
                //return false;
            }, true);

        });
    }
    function showEditDelete() {
        //fyre-delete-link
        $(".fyre-comment-wrapper").each(function () {
            if ($(this).find(".fyre-delete-link").length > 0) {
                if ($(this).find(".GNCommFooterEdit").attr("data-fyre-username") != GNCommdisplayName) {
                    //console.log("GNComm:showEditDelete");
                    $(this).find(".GNCommFooterEdit").css("display", "inline-block");
                    $(this).find(".GNCommFooterEdit").attr("data-fyre-username", GNCommdisplayName);
                    if ($(this).find(".fyre-comment-edit-interval").length == 0) {
                        //disable edit
                        $(this).find(".GNCommFooterEditMenuEdit").css("opacity", ".2");
                        $(this).find(".GNCommFooterEditMenuEdit").css("pointer-events", "none");
                        $(this).find(".GNCommFooterEditMenuEdit").css("cursor", "default");
                        $(this).find(".GNCommFooterEditMenuEdit").css("display", "none");
                        $(this).find(".GNCommFooterEditMenu").css("height", "40px");
                        $(this).find(".GNCommFooterEditMenu").css("margin-top", "-65px");
                        $(this).find(".GNCommFooterEditMenuArrow").css("margin-top", "26px");
                        $(this).find(".GNCommFooterEditMenuWhiteBox").css("margin-top", "-4px");
                    }
                }
            } else {
                $(this).find(".GNCommFooterEdit").css("display", "none");
            }
        });
    }
    function getLikeCount() {
        $(".fyre-comment-wrapper").each(function () {
            if ($(this).find(".heartNum").html() != $(this).find(".fyre-comment-like-count").html() && $(this).find(".heartNum").attr("data-manual-set") != "true") {
                //console.log("GNComm:getLikeCount");
                $(this).find(".heartNum").html($(this).find(".fyre-comment-like-count").html());
                if ($(this).find(".fyre-comment-like-btn:first").text() == "Like") {
                    $(this).find(".heartDiv").removeClass("on");
                } else {
                    $(this).find(".heartDiv").addClass("on");
                }
            }
        });
    }
    function cleanPosts() {
        //console.log("GNComm:Post:CleanPosts:Time:" + GNCommGetTimeCheck());
        addGNLFFooter();
        moveDate();
        getLikeCount();
        showEditDelete();
        addThirdLevelMentions();
        GNCommSetFooter();
        GNCommMoveAvatar();
        GNCommMoveNames();
        GNCommMoveBody();
        GNCommShowLegacy();
        GNCommAnimateWaiting();
        GNCommCountDisplayed();
    }
    function GNCommAnimateWaiting() {
        if ($(".GNCommWaitingDots").is(':visible')) {
            //console.log("GNComm:GNCommAnimateWaiting");
            if ($(".GNCommWaitingDots").html() == ".") {
                $(".GNCommWaitingDots").html("..");
            } else if ($(".GNCommWaitingDots").html() == "..") {
                $(".GNCommWaitingDots").html("...");
            } else if ($(".GNCommWaitingDots").html() == "...") {
                $(".GNCommWaitingDots").html(".");
            }
        }
    }
    function GNCommCountDisplayed() {
        //$(".scoshare").html(addcomment(GNCommActiveCommentsNumber));
        if ($(".GNCommForm").attr("data-counted") != "done" && $(".fyre-stream-more").is(':visible')) {
            //console.log("GNCommCountDisplayed");
            $(".GNCommForm").attr("data-counted", "done");
            GNCommDisplayedCommentsNumber = 0;
            $(".fyre-comment-wrapper").each(function () {
                if ($(this).is(':visible')) {
                    //console.log("GNComm:GNCommCountDisplayed");
                    GNCommDisplayedCommentsNumber += 1;
                }
            });
            $(".fyre-stream-more .fyre-buttonT").text("Open Comments (" + (GNCommActiveCommentsNumber - GNCommDisplayedCommentsNumber) + ")");
            //console.log("GNCommCountDisplayed:" + GNCommActiveCommentsNumber + ":" + GNCommDisplayedCommentsNumber + ":" + (GNCommActiveCommentsNumber - GNCommDisplayedCommentsNumber));
            if ((GNCommActiveCommentsNumber - GNCommDisplayedCommentsNumber) < 1) {
                $(".fyre-buttonT").css("display", "none");
            } else {
                $(".fyre-buttonT").css("display", "block");
            }
        }
    }
    function GNCommShowLegacy() {
        if ($(".fyre-stream-more").is(':visible')) {
            if (GNCommShowLegacyState != "off") {
                //console.log("GNComm:GNCommShowLegacy");
                $(".commentsLocked").css("display", "none");
                GNCommShowLegacyState = "off";
            }
        } else {
            if (GNCommShowLegacyState != "on") {
                //console.log("GNComm:GNCommShowLegacy");
                $(".commentsLocked").css("display", "block");
                GNCommShowLegacyState = "on";
            }
        }
    }
    function GNCommMoveNames() {
        $(".fyre-comment-wrapper").each(function () {
            if ($(this).find(".GNCommMessageDisplayTName").length && $(this).find(".fyre-comment-username").length) {
                if ($(this).find(".GNCommMessageDisplayTName").html() != $(this).find(".fyre-comment-username").text()) {
                    //console.log("GNComm:GNCommMoveNames");
                    $(this).find(".GNCommMessageDisplayTName").html($(this).find(".fyre-comment-username").text());
                }
            }
        });
    }
    function GNCommMoveBody() {
        $(".fyre-comment-wrapper").each(function () {
            if ($(this).find(".GNCommMessageDisplayTBody").length) {
                encodedHTML = $(this).parent().attr("data-message-html");
                if ($(this).find(".GNCommMessageDisplayTBody").attr("data-message-html") != encodedHTML && $(this).is(':visible')) {

                    try {
                        //console.log("GNComm:GNCommMoveBody");
                        //console.log("MB:" + $(this).find(".GNCommMessageDisplayTBody").attr("data-message-html") + ":" + encodedHTML);
                        decodedHTML = decodeURI(encodedHTML);
                        parsedHTML = $.parseHTML(decodedHTML);
                        parsedHTML2 = $.parseHTML(parsedHTML[0].textContent);
                        $(this).find(".GNCommMessageDisplayTBody").html(parsedHTML2);
                        $(this).find(".GNCommMessageDisplayTBody").attr("data-message-html", encodedHTML);
                        if (encodedHTML == "&lt;p&gt;** Comment is Spam **&lt;/p&gt;" || encodedHTML == "&lt;p&gt;** Comment Deleted **&lt;/p&gt;") {
                            $(this).css("display", "none");
                        } else {
                            $(this).css("display", "block");
                        }
                        $(this).find(".GNCommMessageDisplay").css("display", "block");
                        $(this).find(".GNCommFooter").css("display", "flex");
                        $("#GNCommWaitingtop").css("display", "none");
                        $(".fyre-comment-article").find(".GNCommWaiting").css("display", "none");
                        //console.log("GNComm:Post:DISPLAY:Time:" + GNCommGetTimeCheck());
                    } catch (e) {
                        $(this).find(".GNCommMessageDisplayTBody").html("<p>error displaying this message text</p>");
                        $(this).find(".GNCommMessageDisplayTBody").attr("data-message-html", encodedHTML);
                        if (encodedHTML == "&lt;p&gt;** Comment is Spam **&lt;/p&gt;" || encodedHTML == "&lt;p&gt;** Comment Deleted **&lt;/p&gt;") {
                            $(this).css("display", "none");
                        } else {
                            $(this).css("display", "block");
                        }
                        $(this).find(".GNCommMessageDisplay").css("display", "block");
                        $(this).find(".GNCommFooter").css("display", "flex");
                        $("#GNCommWaitingtop").css("display", "none");
                        $(".fyre-comment-article").find(".GNCommWaiting").css("display", "none");
                        console.log("GNComm:Post:ERROR:Time:" + GNCommGetTimeCheck());
                    }
                }
            }
        });
    }
    function GNCommMoveAvatar() {
        $(".fyre-comment-wrapper").each(function () {
            //if (!$(this).hasClass("hasAvatar")) {
            //    $(this).addClass("hasAvatar");
            //}
            if ($(this).find(".GNCommMessageDisplayAvatarImg").attr("src") != $(this).find(".fyre-user-avatar").attr("src")) {
                //console.log("GNComm:GNCommMoveAvatar");
                $(this).find(".GNCommMessageDisplayAvatarImg").attr("src", $(this).find(".fyre-user-avatar").attr("src"));
                $(this).find(".GNCommMessageDisplayAvatarImg").attr("alt", $(this).find(".fyre-user-avatar").attr("alt"));
            }
        });
    }
    function alignReplies() {
        $(".fyre-comment-container").each(function () {
            if ($(this).parent().parent().parent().hasClass('fyre-stream-content')) {
                $(this).css("margin-left", "37px");
            } else {
                $(this).css("margin-left", "0px");
            }
        });
    }
    function GNCommSetFooter() {
        // check if there are any comments
        if ($(".fyre-comment-wrapper")[0]) {
            // Do something if class exists
            if (GNCommSetFooterState != "off") {
                //console.log("GNComm:GNCommSetFooter");
                $(".GNCommBeTheFirst").css("display", "none");
                //$(".commentsLocked").css("display", "block");
                GNCommSetFooterState = "off";
            }
        } else {
            // Do something if class does not exist
            if (GNCommSetFooterState != "on") {
                //console.log("GNComm:GNCommSetFooter");
                $(".GNCommBeTheFirst").css("display", "block");
                //$(".commentsLocked").css("display", "none");
                GNCommSetFooterState = "on";
            }
        }
    }
    var numcommentsLF = 42;
    var heartSVG = '<div class="heartDiv"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" height="12" width="12" viewBox="0 -28.234 600 600" role="img"><path d="M300.003,543.532L53.555,297.104c-68.681-65.205-71.726-174.126-6.69-243.066C79.262,19.696,124.929,0,172.154,0 c44.1,0,86.062,16.674,118.156,46.948c2.233,2.096,4.459,4.307,6.716,6.68l2.978,2.976l2.967-2.966 C335.35,19.543,380.847,0,427.886,0c44.097,0,86.06,16.672,118.158,46.944c69.068,65.152,72.25,174.359,7.1,243.445 c-2.191,2.316-4.426,4.555-6.681,6.701L300.003,543.532z"></path></svg></div>';
    jQuery.fn.reverse = [].reverse;
    // https://answers.livefyre.com/developers/reference/app-customizations/javascript-events/#showMore
    function lfInitialRenderComplete(data) {
        //alignReplies();
        $(".fyre-editor").first().css("display", "none");
        $(".fyre-stream-more").css("background", "transparent");
        $(".fyre-stream-more-container").addClass("fyre-buttonM");
        $(".fyre-stream-more .fyre-text").addClass("fyre-buttonT");
        $(".fyre-stream-more .fyre-text").removeClass("fyre-text");
        //$(".fyre-stream-more .fyre-buttonT").text(numcommentsLF);
        GNCommCountDisplayed();
        $(".GNCommDeleteOverlay").insertBefore(".AH_Holder");
        $(".GNCommFlagOverlay").insertBefore(".AH_Holder");
        $(".fyre-comment-stream").append($(".commentsLocked"));
        

        $(document).on('click', '.fyre-buttonT', function (event) {
            // this never gets called
            setTimeout(function () {
                cleanPosts();
            }, 300);
        });

        $(document).on('click', '.GNCommPleaseVerifyT2', function (event) {
            resendVerifyLink();
            $(".GNCommPleaseVerifyT2").css("opacity", ".2");
            $(".GNCommPleaseVerifyT2").delay(1500).animate({ 'opacity': 1 }, 1000);
        });

        $(document).on('click', '.GNCommSignUpOrLogInSU', function (event) {
            MenuS45_OpenSignUp();
            omnihelpers.signupPath("Comments");
        });
        $(document).on('click', '.GNCommSignUpOrLogInLI', function (event) {
            MenuS45_OpenSignIn();
            omnihelpers.signupPath("Comments");
        });
        

        $(document).on('click', '.fyre-stream-content', function (event) {
            if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                //console.log("logged in but not verified");
                //$("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
                $("#GNCommPleaseVerify").css("display", "block");
            } else {
                if (currentUserActive != "true") {
                    //MenuS45_OpenSignIn();
                    $("#GNCommSignUpOrLogIn").css("display", "block");
                }
            }
        });
        $(document).on('click', '.GNCommNotificationBoxClose', function (event) {
            GNCommHideNotifications();
        });
        $(document).on('click', '.GNComm_SignIn_BodyLink', function (event) {
            hideAuthHolders();
        });

        $(document).on('click', '.GNComm_LegacyRO_BoxClose', function (event) {
            $(this).parent().css("display", "none");
            GNCommOverLocked = false;
            setTimeout(function () {
                if (GNCommOverLocked != true) {
                    $(".GNComm_LegacyRO_Box").css("display", "none");
                }
            }, 500);
        });

        $(document).on('click', '.GNCommFooterLocked', function (event) {
            $(".GNComm_LegacyRO_Box").css("display", "none");
            $(this).parent().find(".GNComm_LegacyRO_Box").css("display", "block");
        });
        $(document).on('mouseenter', '.GNCommFooterLocked', function (event) {
            GNCommOverLocked = true;
            $(".GNComm_LegacyRO_Box").css("display", "none");
            $(this).parent().find(".GNComm_LegacyRO_Box").css("display", "block");
        });
        $(document).on('mouseleave', '.GNCommFooterLocked', function (event) {
            setTimeout(function () {
                if (GNCommOverLocked != true) {
                    $(".GNComm_LegacyRO_Box").css("display", "none");
                }
            }, 500);
            GNCommOverLocked = false;
        });
        $(document).on('mouseenter', '.GNComm_LegacyRO_Box', function (event) {
            GNCommOverLocked = true;
        });
        $(document).on('mouseleave', '.GNComm_LegacyRO_Box', function (event) {
            $(".GNComm_LegacyRO_Box").css("display", "none");
            GNCommOverLocked = false;
        });

        $(document).on('click', '.GNComm_LegacyRO_BoxT2', function (event) {
            window.location.href = '/Contact-Bill-Gates';
        });

        setTimeout(function () {

            $('#livefyre-tablet .fyre-stream-content').css('display', 'flex');
            $('#livefyre-tablet .fyre-stream-content').css('flex-direction', 'column-reverse');
            $('#livefyre-tablet .fyre-stream-content').parent().css('overflow-y', 'auto');

            if (false) { // !elementSupportsAttribute('div', 'placeholder')) {
                // Fallback for browsers that don't support HTML5 placeholder attribute
                $(".fyre-editor-container .fyre-editor-field")
                    .text("Add a nice comment…")
                    .data("originalText", $(".fyre-editor-container .fyre-editor-field").text())
                    .css("color", "#d3d3d3")
                    .focus(function () {
                        var $el = $(this);
                        if (this.value == $el.data("originalText")) {
                            this.value = "";
                        }
                    })
                    .blur(function () {
                        if (this.value == "") {
                            this.value = $(this).data("originalText");
                        }
                    });
            }

            cleanPosts();

        }, 100);
        setInterval(cleanPosts, 1000);
    }
</script>
</div>
</div>
                </div>
                <br>
                <br>
                <br>
            
                <div>
                    <div class="TGN_site_Articlecollumn">
<div class="TGN_site_Article_top">
<script>
    var ww = $(window).width();
    var wh = $(window).height();
    $(document).ready(function () {
        setTimeout(getCommentCount2, 100);
        setTimeout(getCommentCount2, 1000);
        setTimeout(getCommentCount2, 3000);
        $("#article_top_metricsItem_bookmark").click(function () {
            TGN_closeDropMenus();
            TGN_toggleArticleBookmark($(this).attr("data-articleid"));
        });
        $("#article_top_metricsItemComment").click(function () {
            setTimeout(function () { delayScrollToCommentSection("", "") }, 0);
        });
        TGN_ColorBookmarks();
        $(".slideheader_articleDHtitle").html($(".article_top_head").html());
    });
    $(window).on('load', function () {
        TGN_article_LoadImages();
    });
    $(window).resize(function () {
        TGN_article_LoadImages();
    });
    var throttled = TGN_throttle(TGN_article_LoadImages, 1000);
    $(".TGN_site").scroll(throttled);
    function TGN_article_LoadImages() {
        //console.log("TGN_article_LoadImages");
        $(".TGN_site_Article").find(".article_top_articlehero").find("img").each(function (i, obj) {
            if ($(this).attr("data-url") != "set") {
                TGN_site_isOnScreen($(this), $(this), "img");
            }
        });
    }
    var commentTry = 0;
    function getCommentCount2() {
        var i = GNCommActiveCommentsNumber;//parseInt($(".GNCommMessageDisplayTBody:visible").length);
        if (i == 0) {
            $("#article_top_metricsItemComment").html("" + (0 + i));
            $("#article_top_metricsItemComment").css("display", "none");
        } else {
            $("#article_top_metricsItemComment").html("" + (0 + i));
            $("#article_top_metricsItemComment").css("display", "inline-block");
        }
    }
</script>
<div class="article_top_subhead">Welcome to Mosquito City</div>
<div class="article_top_head">It’s always buzzing in Mosquito City</div>
<div class="article_top_description">A city where researchers study how to repel, attract, and kill the world’s deadliest animal. </div>
<div class="article_top_byline">By <span class="article_top_bylinebold">Bill Gates</span></div><span class="article_top_chim"> | </span>
<div class="article_top_dateline">August 17, 2020 <span class="article_top_metric_readtime"><i class="icon-dot"></i> 3 minute read</span></div>
<div class="article_top_articlehero"><img class="article_top_DMT_Image" data-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_article_1200x564_01.ashx" data-src-mobile="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_article_1200x564_01.ashx" data-src-tablet="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_article_1200x564_01.ashx" data-url="set" src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Mosquito-City/mosquito-week_2020_day-2_article_1200x564_01.ashx"/></div>
<div class="TGN_site_Innercollumn">
<div class="article_top_metrics">
<div class="article_top_metricsItem article_top_metricsItemCircle"><a href="https://www.facebook.com/sharer/sharer.php?u=https://www.gatesnotes.com/Health/Mosquito-City?WT.mc_id=00_00_00_share_fb&amp;title=It’s always buzzing in Mosquito City&amp;quote=A city where researchers study how to repel, attract, and kill the world’s deadliest animal. 
" target="_blank"><i class="icon-facebook"></i></a></div>
<div class="article_top_metricsItem article_top_metricsItemCircle"><a href="https://twitter.com/intent/tweet?text=It%e2%80%99s+always+buzzing+in+Mosquito+City&amp;url=https://gatesnot.es/31GlgAN?WT.mc_id=00_00_00_share_tw&amp;via=billgates" target="_blank"><i class="icon-twitter"></i></a></div>
<div class="article_top_metricsItem article_top_metricsItemCircle"><a href="https://www.linkedin.com/shareArticle?mini=true&amp;source=GatesNotes&amp;url=https://www.gatesnotes.com/Health/Mosquito-City?WT.mc_id=00_00_00_share_li&amp;title=It’s always buzzing in Mosquito City" target="_blank"><i class="icon-linkedin"></i></a></div>
<div class="article_top_metricsItem article_top_metricsItemCircle"><a href="mailto:?subject=From%20GatesNotes%2Ecom%3A%20It%E2%80%99s%20always%20buzzing%20in%20Mosquito%20City&amp;body=Here%20is%20a%20post%20from%20Bill%20Gates%27s%20blog%20that%20might%20interest%20you%3A%0D%0A%0D%0A%E2%80%94%20It%E2%80%99s%20always%20buzzing%20in%20Mosquito%20City%20%E2%80%94%0D%0AA%20city%20where%20researchers%20study%20how%20to%20repel%2C%20attract%2C%20and%20kill%20the%20world%E2%80%99s%20deadliest%20animal.%20%0D%0A%0D%0Ahttps%3A%2F%2Fwww.gatesnotes.com%2FHealth%2FMosquito-City?WT.mc_id=00_00_00_share_em" target="_blank"><i class="icon-mail"></i></a></div>
<div class="article_top_metricsItem GNI_UserOnly" data-articleid="88ff0784-6d7a-4511-99b7-14372391bd20" id="article_top_metricsItem_bookmark" style="display: none;"><svg class="article_top_metricsItemCSVG" height="25px" stroke="none" viewbox="0 0 16 25" width="16px"><g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1"><g fill="none" stroke="#666"><path d="M0.5,0.5 L0.5,24.5 L8.1716264,19.5137775 L15.5,24.4404006 L15.5,0.5 L0.5,0.5 Z" fill="none" style="fill: none;"></path></g></g></svg></div>
<div class="article_top_metricsItem article_top_metricsItemComment" id="article_top_metricsItemComment" style="display: none;">0</div>
</div>
<div class="article_top_line"></div>
</div>
</div>
<div class="TGN_site_Article_body" id="TGN_site_Article_body">
<div class="TGN_Article_ReadTimeSection">
<style>
    @media all and (min-width: 1021px) {
        /*Desktop only*/
    }

    @media all and (min-width: 681px) {
        /*Desktop and Tablet*/
    }

    @media all and (min-width: 681px) and (max-width: 1020px) {
        /*Tablet only*/
    }

    @media all and (max-width: 1110px) {
    }

    @media all and (max-width: 1020px) {
        /*Mobile and Tablet*/
    }

    @media all and (max-width: 850px) {
    }

    @media all and (max-width: 680px) {
        /*Mobile only*/
    }
</style>
<style>



    .commentstitle {
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-weight: 300;
        font-size: 24px;
        line-height: 30px;
    }

    .commentsentry {
        height: 54px;
        border: 1px solid rgba(0,0,0,0.12);
        display: flex;
        align-items: center;
        justify-content: flex-start;
        margin-bottom: 48px;
        margin-top: 18px;
    }

    .commentsentryplus {
        color: rgba(0,0,0,0.12);
        font-size: 40px;
        margin-left: 16px;
        margin-right: 16px;
    }

    .commentsentrytext {
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 16px;
        line-height: 19px;
        color: #cccccc;
    }

    .commentsPI {
        background: gray;
        width: 30px;
        height: 30px;
        border-radius: 3000px;
    }

    .commentsLINE {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        margin-top: 0px;
        margin-bottom: 10px;
    }

    .commentsNAME {
        margin-left: 16px;
        margin-right: 13px;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-weight: 300;
        font-size: 18px;
        line-height: 23px;
    }

    .commentsTIME {
        color: #CCCCCC;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 16px;
        line-height: 20px;
    }

    .commentsSPACE {
        min-width: 45px !important;
        background: white;
        height: 0px;
    }

    .commentsCOMMENT {
        color: #303030;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 16px;
        line-height: 20px;
    }

    .commentsREPLY {
        color: #757575;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 12px;
        line-height: 14px;
        margin-right: 14px;
        margin-left: 16px;
    }

    .commentsREPORT {
        color: #CCCCCC;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
        font-size: 12px;
        line-height: 14px;
        margin-right: 14px;
        margin-left: 16px;
    }

    .commentsH {
        color: #e15b6c;
    }

    .commentsHoff {
        color: #cccccc;
    }

    .commentsSUB {
        margin-top: 0px;
    }

    .commentsVLINE {
        width: 2px;
        background: rgba(0,0,0,0.12);
        margin-right: 15px;
        min-height: 100%;
        height: 100%;
    }

    .commentsMAIN {
        margin-bottom: 30px;
        margin-top: 30px;
    }

    .ReadTheseModule .TGN_site_ArticleItem {
        width: 32%;
    }

    .TGN_site_Hline {
        /*display:none;*/
    }

    /*MEDIA*/

    @media all and (max-width: 960px) {


        .ReadTheseModule .TGN_site_Titledsectionsbottom {
            margin-top: 17px;
            width: 130%;
        }

        .ReadTheseModule .TGN_site_Titledsections {
            overflow: hidden;
        }

        .ReadTheseModule .articletitle {
            font-size: 18px;
            line-height: 23px;
            margin-top: 10px;
            margin-bottom: 6px;
        }

        .ReadTheseModule .articledescription {
            font-size: 16px;
            line-height: 18px;
        }

        .commentsNAME {
            font-size: 16px;
            line-height: 20px;
        }

        .commentsCOMMENT {
            font-size: 16px;
            line-height: 19px;
        }
    }


    @media all and (max-width: 680px) {
        .ReadTheseModule .TGN_site_Titledsectionsbottom {
            margin-top: 17px;
            width: 200%;
        }
    }
</style>
<script>
    var ww = $(window).width();
    var wh = $(window).height();
    $(document).ready(function () {
        SizeContentToScreen();
        //$(".TGN_site_Bodycopy").append($(".articleContent"));
    });
    $(window).resize(function () {
        SizeContentToScreen();
    });
    window.onscroll = function () { SizeContentToScreen() };
    function SizeContentToScreen() {
        ww = $(window).width();
        wh = $(window).height();
        var scrollTopContentArea = $(".TGN_site").scrollTop();
        var scrollTopReadTheseModule = $(".TGN_RelatedContent_Holder").offset();
        if (scrollTopContentArea + (wh * .75) > scrollTopReadTheseModule.top) {
            $(".HeaderShareLinks").css("display", "block");
        } else {
            $(".HeaderShareLinks").css("display", "none");
        }
        $(".commentsVLINE").each(function (i, obj) {
            $(this).css("height", $(this).parent().height() + "px");
        });
    }
</script>
<div class="TGN_site_Innercollumn">
<div class="TGN_site_Bodycopy" id="TGN_site_Bodycopy">
</div>
</div>
<p>When’s the best time to kill mosquitoes? </p>
<p>While they’re making love—at sunset. </p>
<p>No kidding. </p>
<p>This is just one of many fascinating discoveries being made at a place called Mosquito City. Located in the swamplands of central Tanzania, the “city” is home to the world’s largest captive colony of mosquitoes used for researching ways to combat malaria and other mosquito-borne diseases. Day and night scientists work to better understand mosquito behavior (like when and where they enjoy having sex) as well as cutting-edge approaches to trap, repel, and most importantly, kill them.</p>
<p>I first learned about Mosquito City during a trip to Africa several years ago when I met scientists from <a href="https://ihi.or.tz/" rel="noopener noreferrer" target="_blank">Ifakara Health Institute</a>, a Tanzanian health research organization which runs the site. While I haven’t had the opportunity to visit, Fredros Okumu, Ifakara’s chief scientist, offered a behind-the-scenes look at some of the research underway there in this video. If you’re wondering how they get enough blood to feed all the mosquitoes, watch for the moment when Fredros puts his arm in a cage containing more than 500 very hungry mosquitoes for a feed! (For larger mosquito colonies, too big for one human to feed, a cow is on the mosquitoes’ dinner menu.)</p>
<!-- [EMBEDED VIDEO ITEM] -->
<style>
    .gnYoutube_VR_Outer {
        width: 100%;
        margin-left: 0%;
        padding: 0%;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-weight: 300;
        font-size: 16px;
        line-height: 18px;
    }

    .gnYoutube_VR_SpanT1 {
        font-weight: 600;
    }

    .gnYoutube_VR_Span {
        margin-top: 4px;
        margin-bottom: 8px;
        max-width: 760px;
    }
</style>
<div class="gnYoutube_VR_Outer" data-vr="False">
<div class="gnYoutubeHolder videoEmbed" id="gnYoutubeHolder0">
<iframe data-vr="False" data-yt="EnKhCy3pdME" frameborder="0" height="450" id="whateverIDEnKhCy3pdME" src="https://www.youtube.com/embed/EnKhCy3pdME?rel=0&amp;modestbranding=1&amp;playsinline=1&amp;color=white&amp;showinfo=0&amp;enablejsapi=1&amp;origin=https://www.gatesnotes.com&amp;enablejsapi=1&amp;origin=https://www.gatesnotes.com" width="800"></iframe>
</div>
</div>
<script>

    $(window).on('load', function () {
        onYouTubeIframeAPIReady();
    })
</script>
<p>Mosquito City is located in a region of Tanzania that’s hot, humid, and swampy. In other words—perfect conditions for its primary residents. Malaria has been so widespread in this part of the country—once infecting 80 percent of the population—that one meaning of the name of the local town, Ifakara, is, “the place people go to die.” </p>
<p>Fortunately, malaria deaths are on the decline in recent years. One reason is the use of insecticide-treated bed nets, which remain one of the most effective means to control the disease. (New bed net distribution efforts like the one that <a href="/Health/Bed-nets-for-Benin" target="_blank">just launched in Benin</a> are helping to ensure every person at risk of malaria is protected by one.) </p>
<p>Still, much more needs to be done to fight the disease, especially as mosquitoes become resistant to some of the pesticides used to control them. That’s why scientists at Mosquito City are working to better understand mosquito behaviors and find ways to outsmart them.</p>
<p>“It's kind of a love- hate relationship. If you can't beat them, you join them for now, but then you can kill them from the inside. And that's what we try to do here at the Mosquito City,” Fredros says. </p>
<p>Fredros and his team are studying one of the deadliest mosquito species, <em>Anoph</em><em>e</em><em>les funestus</em>. In southeastern Tanzania, it is responsible for nearly 9 out of every 10 cases of malaria even though other species of mosquito are far more common. And yet, it is one of the least understood species of mosquitoes because it is difficult to raise in a lab environment. Our foundation is supporting the Ifakara Health Institute’s research into its behavior so they can mount a targeted campaign against them.</p>
<p>One promising approach may be killing them while they are mating. Ifakara scientists learned that mosquitoes, including <em>Anoph</em><em>e</em><em>les funestus</em>, have favorite locations—like rice fields, trash heaps, and banana trees—to mate. The male mosquitoes appear at their favorite mating spots at sunset to begin a ritualistic flight dance, drawing in the females. Because these mating events occur at predictable times and locations, researchers are experimenting with regularly targeting these swarms with pesticides, dramatically reducing the mosquito populations and malaria transmission. </p>
<p>As the researchers dig deeper into the unique characteristics of different mosquito species, it’s become more important to be able to quickly identify them. Once they understand which species is posing the greatest threat, they can choose the best methods to eliminate them. But identifying mosquito species and other indicators, like age, can be a laborious process. At Mosquito City, scientists are working on some alternative identification approaches that would accelerate their research. One is to use their buzzing sound to identify them. Another option uses infrared spectroscopy. Mosquitoes have a unique electromagnetic signal. By crushing the abdomens of mosquitoes and analyzing them under a spectrometer, researchers can identify the species and age of the mosquito. </p>
<p>Many of the innovations coming out of Mosquito City are designed to meet the immediate needs of the local community, who work in small farming villages and spend most of their day outdoors. Researchers have developed a variety of mosquito traps, some mimicking the odor of sweaty feet, a smell that mosquitoes find irresistible. They’ve created a range of mosquito repellents too, including furniture treated with repellent that allows people to sit outside in the evening and stay protected. They’ve even developed a line of sandals which will keep mosquitoes at bay from the sweatiest feet, protecting their owner from bites. </p>
<p>What will the team at Mosquito City think of next? I can’t wait to find out.<span style="border: none;"> </span></p>
<script type="text/javascript">
    TGN_Page_Style = "article";
    var listOfObjects = [];
    var mainIIG = 0;
    var IsAnAL2016 = false;
    var HasDownloadMenu = false;
    $(document).ready(function () {
        //console.log("ArticleJS_Ready");
        $(".bottom").css("display", "block");
        IsAnAL2016 = $(".al2016Article").is(":visible");
        HasDownloadMenu = $('#AL2016DownloadMenuData').is(":visible");
        adjustPrevNext();
        getCommentCount();
        var referrer = document.referrer;
        //console.log(referrer);
        isAnArticlePage = true;
        formatInlineElems();
        // move progbar
        $(".TGNBannersHolder").prepend($(".TGNArticleProgBar"));

    });
        $(window).on('load', function () {
            TGN_article_SetReadTime();
        });
    function TGN_article_SetReadTime() {
        $(".TGN_Article_ReadTimeSection").each(function (i, obj) {
            var text = "";
            if ($(this).hasClass("TGN_LS_SubArticle")) {
                var element = obj;
                text = element.innerText || element.textContent;
                var article_top_metric_WordCount = WordCount(text);
                var article_top_metric_readtime = Math.ceil(article_top_metric_WordCount/265)
                $(this).find(".article_top_metric_readtime").html("<i class='icon-dot'></i> " + article_top_metric_readtime + " minute read");
            } else {
                var element = obj;
                text = element.innerText || element.textContent;
                var article_top_metric_WordCount = WordCount(text);
                var article_top_metric_readtime = Math.ceil(article_top_metric_WordCount/265)
                $(this).parent().parent().find(".article_top_metric_readtime").html("<i class='icon-dot'></i> " + article_top_metric_readtime + " minute read");
            }
        });
        }
        function WordCount(str) {
            return str.split(" ").length;
        }
    $(window).resize(function () {
        adjustPrevNext();
        adjustPQ();
        if ($('.InlineImageGalleryBase').length) {
            adjustIIG();
        }
    });
    window.onorientationchange = function () {

        var orientation = window.orientation;

        // Look at the value of window.orientation:

        if (orientation === 0) {

            // iPad is in Portrait mode.

        }

        else if (orientation === 90) {

            // iPad is in Landscape mode. The screen is turned to the left.

        }


        else if (orientation === -90) {

            // iPad is in Landscape mode. The screen is turned to the right.

        }
        if ($('.InlineImageGalleryBase').length) {
            adjustIIG();
        }

    }
    function iignext() {
        var ww = $(window).width();
        mainIIG += 1;
        if (mainIIG > listOfObjects.length - 1) { mainIIG = 0; }
        $('.InlineImageGalleryMain').html(listOfObjects[mainIIG].outerHTML);
        nIIG = mainIIG + 1;
        if (nIIG > listOfObjects.length - 1) { nIIG = 0; }
        $('.InlineImageGalleryNextImage').html(listOfObjects[nIIG].outerHTML);
        pIIG = mainIIG - 1;
        if (pIIG < 0) { pIIG = listOfObjects.length - 1; }
        $('.InlineImageGalleryPrevImage').html(listOfObjects[pIIG].outerHTML);
        //$('.InlineImageGalleryText').html("<span class='iigPrevArrow'>&lt;&lt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+(mainIIG+1)+"&nbsp;&nbsp;of&nbsp;&nbsp;"+listOfObjects.length+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='iigNextArrow'>&gt;&gt;</span><br><br><b>"+listOfObjects[0].dataset.caption1+"</b><br>"+listOfObjects[mainIIG].attributes.data-description.value+"<br>");

        var capt01 = listOfObjects[mainIIG].getAttribute('data-caption1');//listOfObjects[mainIIG].dataset.caption1
        var capt02 = listOfObjects[mainIIG].getAttribute('data-caption2');
        if (capt01 == null) { capt01 = ""; }
        if (capt02 == null) { capt02 = ""; }
        if (ww < 800) {
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
        } else {
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
        }

        $('.iigNextArrow').click(function () {
            iignext();
        })
        $('.iigPrevArrow').click(function () {
            iigprev();
        })
        adjustIIG();
    }
    function iigprev() {
        var ww = $(window).width();
        mainIIG -= 1;
        if (mainIIG < 0) { mainIIG = listOfObjects.length - 1; }
        $('.InlineImageGalleryMain').html(listOfObjects[mainIIG].outerHTML);
        nIIG = mainIIG + 1;
        if (nIIG > listOfObjects.length - 1) { nIIG = 0; }
        $('.InlineImageGalleryNextImage').html(listOfObjects[nIIG].outerHTML);
        pIIG = mainIIG - 1;
        if (pIIG < 0) { pIIG = listOfObjects.length - 1; }
        $('.InlineImageGalleryPrevImage').html(listOfObjects[pIIG].outerHTML);

        var capt01 = listOfObjects[mainIIG].getAttribute('data-caption1');//listOfObjects[mainIIG].dataset.caption1
        var capt02 = listOfObjects[mainIIG].getAttribute('data-caption2');
        if (capt01 == null) { capt01 = ""; }
        if (capt02 == null) { capt02 = ""; }
        if (ww < 800) {
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
        } else {
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
        }

        $('.iigNextArrow').click(function () {
            iignext();
        })
        $('.iigPrevArrow').click(function () {
            iigprev();
        })
        adjustIIG();
    }
    function adjustPQ() {
        var pqW = $('.suspendedR').width();
        var pqH = $('.suspendedR').height();
        $('.pqrq').css("margin-left", pqW - 60);
        $('.pqrq').css("margin-top", pqH - 110);
    }
    function adjustIIG() {
        var ww = $(window).width();
        var iigW = $('.InlineImageGalleryBase').width();
        //console.log(ww);
        //if (iigW<512){iigW=512;}
        var iigMW = iigW;//-4
        var iigMH = iigMW * 0.666666667;
        var iigOL = $('.InlineImageGalleryBase').offset().left;
        var iigACOL = $('.articleContent').offset().left;
        $('.InlineImageGalleryPre').css("left", iigOL - iigACOL);
        //$('.InlineImageGalleryBase').css("width",iigW);
        $('.InlineImageGalleryMain').css("width", iigMW);
        $('.InlineImageGalleryMain').css("height", "auto");
        $('.InlineImageGalleryPrev').css("width", (iigMW + 10) / 2);
        $('.InlineImageGalleryPrev').css("top", (-iigMH / 2 - 20));
        $('.InlineImageGalleryNext').css("width", (iigMW + 10) / 2);
        $('.InlineImageGalleryNext').css("left", (iigMW + 10) - 57);
        $('.InlineImageGalleryNext').css("top", ((-iigMH / 2 - 20) - 70));
        $('.InlineImageGalleryPrevImage').css("left", ((iigMW + 10) / 2) - 152);
        $('.InlineImageGalleryBase').css("height", iigMH);
        $('.InlineImageGalleryText').css("width", "auto");
        //if(ww<980){
        //    //$('.InlineImageGalleryText').css("left",iigMW-(((iigMW-35))-0));
        //}else{
        //    //$('.InlineImageGalleryText').css("left",iigMW-(((iigMW-35))-0));
        //    //$('.InlineImageGalleryText').css("width",((iigMW+10)/2)-152);
        //    //$('.InlineImageGalleryText').css("left",iigMW-(((iigMW+10)/2)-152));
        //}
        if (ww < 800) {
            //$('.IIGheadline').text("PHOTO GALLERY");
            $('.IIGheadline').css("top", 5);
            //$('.IIGcountIcon').css("left",iigMW/2-60-41);
            //$('.IIGheadline').css("left",iigMW/2-41);
            $('.IIGheadline').css("width", iigMW - 25);
            $('.InlineImageGalleryText').css("height", $('.IIGheadline').height() + 15);
            $('.InlineImageGalleryBase').css("height", $('.IIGheadline').height() + iigMH + 20);
        } else {
            if (mainIIG < 0) { mainIIG = listOfObjects.length - 1; }
            $('.InlineImageGalleryMain').html(listOfObjects[mainIIG].outerHTML);
            nIIG = mainIIG + 1;
            if (nIIG > listOfObjects.length - 1) { nIIG = 0; }
            $('.InlineImageGalleryNextImage').html(listOfObjects[nIIG].outerHTML);
            pIIG = mainIIG - 1;
            if (pIIG < 0) { pIIG = listOfObjects.length - 1; }
            $('.InlineImageGalleryPrevImage').html(listOfObjects[pIIG].outerHTML);
            var capt01 = listOfObjects[mainIIG].getAttribute('data-caption1');//listOfObjects[mainIIG].dataset.caption1
            var capt02 = listOfObjects[mainIIG].getAttribute('data-caption2');
            if (capt01 == null) { capt01 = ""; }
            if (capt02 == null) { capt02 = ""; }
            $('.InlineImageGalleryText').html("<div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>" + (mainIIG + 1) + "&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span>");
            $('.IIGheadline').css("width", iigMW - 200);
            var headH = $('.IIGheadline').height();
            if (headH == 15) {
                $('.IIGheadline').css("top", 17);
            } else if (headH == 30) {
                $('.IIGheadline').css("top", 9);
            } else if (headH == 45) {
                $('.IIGheadline').css("top", 2);
            } else {
                $('.IIGheadline').css("top", 17);
            }
            $('.InlineImageGalleryText').css("height", 50);

            //console.log("h: "+$('.IIGheadline').height()+" w: "+$('.IIGheadline').width());
        }
    }
    // ADD SUPPORT FOR INLINE INTERACTIVE FILES
    function formatInlineElems() {
        // related content //small-12 medium-12 large-12 columns
        var listOfRelated = [];
        $('.promounit').each(function (i, obj) {
            listOfRelated.push(obj);
        });
        //console.log(listOfRelated);
        // CTA
        $('.bgcta').each(function (i, obj) {
            //console.log($(this).children().eq(1).prop('src'));
            $(this).after("<div class='suspendedCTA' id='bgcta" + i + "'><a href='" + $(this).attr("data-link") + "'><div class='suspendedBCTA' id='bgctab" + i + "'>" + $(this).children().eq(0).clone().wrap('<p>').parent().html() + "</div></a></div>");
            var imgOn = $(this).children().eq(1).prop('src');
            var imgOff = $(this).children().eq(0).prop('src');
            $("#bgctab" + i).mouseenter(function () {
                $(this).find('img').attr("src", "" + imgOn);
            }).mouseleave(function () {
                $(this).find('img').attr("src", "" + imgOff);
            });
            $(this).remove();
            $("#bgctab" + i).children(0).attr("width", "100%");
        });
        // marginalia right
        $('.bgsbnoter').each(function (i, obj) {
            var ww = $(window).width();
            if (ww > 980) {
                $(this).after("<div class='suspendedNOTER' id='gbli" + i + "'><div class='suspendedNOTERB' id='bgsbnoter" + i + "'>" + $(this).html() + "</div></div>");
                $(this).remove();
                $("#bgsbnoter" + i).children(0).attr("width", "100%");
                $("#bgsbnoter" + i).css("position", "relative");
                $("#bgsbnoter" + i).css("top", $(this).attr("offsetY"));
                $("#bgsbnoter" + i).css("left", $(this).attr("offsetX"));
            } else {
                $(this).remove();
            }
        });
        // marginalia left
        $('.bgsbnotel').each(function (i, obj) {
            var ww = $(window).width();
            if (ww > 980) {
                $(this).after("<div class='suspendedNOTEL' id='gbli" + i + "'><div class='suspendedNOTELB' id='bgsbnotel" + i + "'>" + $(this).html() + "</div></div>");
                $(this).remove();
                $("#bgsbnotel" + i).children(0).attr("width", "100%");
                $("#bgsbnotel" + i).css("position", "relative");
                $("#bgsbnotel" + i).css("top", $(this).attr("offsetY"));
                $("#bgsbnotel" + i).css("left", $(this).attr("offsetX"));
            } else {
                $(this).remove();
            }
        });
        // left image
        $('.bgli').each(function (i, obj) {
            //$(this).after( "<div class='suspended' id='gbli"+i+"'><div class='suspendedB' id='gblib"+i+"'>"+listOfRelated[0].outerHTML+"</div></div>" ); // related content
            $(this).after("<div class='suspended' id='gbli" + i + "'><div class='suspendedB' id='gblib" + i + "'>" + $(this).html() + "</div></div>");
            $(this).remove();
            $("#gblib" + i).children(0).attr("width", "100%");
        });
        // block quote
        $('.bgbq').each(function (i, obj) {
            var PQAtext = $(this).find(".bgbqa").html();
            $(this).find(".bgbqa").remove();
            var PQtext = $(this).html();
            //var s = PQtext.replace(/\u201C/g, "&nbsp;<span class='pqqq'>&ldquo;</span>");
            //var s2 = s.replace(/\u201D/g, "<span class='pqqq'>&rdquo;</span>");
            $(this).after("<div class='ShareableQuote_Holder'><div class='ShareableQuote_Text' data-sqinstance='" + i + "' data-sqtwittersharetext='' data-sqfacebooksharedescription='' data-sqfacebooksharelink='' data-sqfacebookshareimage=''><div class='ShareableQuote_Line'></div>" + PQtext + "</div><div class='ShareableQuote_Attrib'>" + PQAtext + "</div></div>");
            $(this).remove();
            //$(".articleContent p").css("z-index", "1");
            //$(".articleContent p").css("position", "relative");
        });
        // underline
        $('.TGNil_underline').each(function (i, obj) {
            $(this).css("border-bottom", "0px solid " + "#f5d840");//+$(this).attr("mycolor"));
            $(this).css("box-shadow", "inset 0 -5px 0 " + "#f5d840");//+$(this).attr("mycolor"));
            $(this).css("color", "inherit");
            $(this).css("-webkit-transition", "background .15s cubic-bezier(.33,.66,.66,1)");
            $(this).css("transition", "background .15s cubic-bezier(.33,.66,.66,1)");
        });
        // highlight
        $('.TGNil_highlight').each(function (i, obj) {
            $(this).css("border-bottom", "2px solid " + $(this).attr("mycolor"));
            $(this).css("box-shadow", "inset 0 -23px 0 " + $(this).attr("mycolor"));
            $(this).css("color", "inherit");
            $(this).css("-webkit-transition", "background .15s cubic-bezier(.33,.66,.66,1)");
            $(this).css("transition", "background .15s cubic-bezier(.33,.66,.66,1)");
        });
        // inline image gallery
        $('.bgiig').css("display", "block");//remove after testing
        $('.bgiig').each(function (i, obj) {
            $(this).children().each(function () {
                $(this).attr('style', 'height:auto!important;width:100%!important;');
                listOfObjects.push(this);
            });
            var capt01 = listOfObjects[0].getAttribute('data-caption1');//listOfObjects[0].dataset.caption1
            var capt02 = listOfObjects[0].getAttribute('data-caption2');
            if (capt01 == null) { capt01 = ""; }
            if (capt02 == null) { capt02 = ""; }
            //thumb.getAttribute('data-bigwidth')
            $(this).after("<div class='InlineImageGalleryPre'><div class='InlineImageGalleryPreThumb'><i class='galleryicon icon-gallery_2'></i></div><div class='InlineImageGalleryPreText'>PHOTO GALLERY</div></div><div class='InlineImageGalleryBase'><div class='InlineImageGalleryMain'>" + listOfObjects[0].outerHTML + "</div><div class='InlineImageGalleryPrev'></div><div class='InlineImageGalleryNext'></div><div class='InlineImageGalleryText'><div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>1&nbsp;&nbsp;of&nbsp;&nbsp;" + listOfObjects.length + "</div><span class='IIGheadline'>" + capt01 + " <span class='IIGheadline2'>" + capt02 + "</span></span></div></div>");
            //$(this).after( "<div class='InlineImageGalleryPre'><div class='InlineImageGalleryPreThumb'><i class='galleryicon icon-gallery_2'></i></div><div class='InlineImageGalleryPreText'>PHOTO GALLERY</div></div><div class='InlineImageGalleryBase'><div class='InlineImageGalleryMain'>"+listOfObjects[0].outerHTML+"</div><div class='InlineImageGalleryPrev'></div><div class='InlineImageGalleryNext'></div><div class='InlineImageGalleryText'><div class='IIGcountIcon'><i class='galleryicon icon-gallery_2'></i></div><div class='IIGcount'>1&nbsp;&nbsp;of&nbsp;&nbsp;"+listOfObjects.length+"</div><span class='IIGheadline'>"+listOfObjects[0].dataset.caption1+" <span class='IIGheadline2'>"+listOfObjects[mainIIG].dataset.caption2+"</span></span></div></div>" );
            $(this).remove();
            //console.log(listOfObjects);
            //$('.articleContent').css("color","#F00");
        });
        var IIGlength = listOfObjects.length;
        //console.log(IIGlength);
        $('.InlineImageGalleryNext').click(function () {
            iignext();
        })
        $('.InlineImageGalleryPrev').click(function () {
            iigprev();
        })
        $('.iigNextArrow').click(function () {
            iignext();
        })
        $('.iigPrevArrow').click(function () {
            iigprev();
        })
        //
        if ($('.InlineImageGalleryBase').length) {
            adjustIIG();
        }
        //
        if ($('.suspendedR').length) {
            adjustPQ();
        }
        //$('.suspended').each(function (i, obj) {
        //    var thisW = $(this).width();
        //    var thisH = $(this).height();
        //    if(thisW>thisH){
        //        $(this).css("width",450);
        //    }
        //});

    }
    function getCommentCount() {
        var see = $(".disqusLink").text();
        if (see == "") {
            setTimeout(getCommentCount, 500);
        }
        else {
            var i = parseInt(see);
            $(".commentCount").each(function (ii, v) {
                $(v).text(i.toString());
            });

        }
    }
    var scrollwidthDU = function () {

        var inner = document.createElement('p');
        inner.style.width = "100%";
        inner.style.height = "200px";

        var outer = document.createElement('div');
        outer.style.position = "absolute";
        outer.style.top = "0px";
        outer.style.left = "0px";
        outer.style.visibility = "hidden";
        outer.style.width = "200px";
        outer.style.height = "150px";
        outer.style.overflow = "hidden";
        outer.appendChild(inner);

        document.body.appendChild(outer);
        var w1 = inner.offsetWidth;
        outer.style.overflow = 'scroll';
        var w2 = inner.offsetWidth;
        if (w1 == w2) w2 = outer.clientWidth;

        document.body.removeChild(outer);

        return (w1 - w2);

    }();
    function adjustPrevNext() {

        var hn = $(".nextText").height();
        var hp = $(".prevText").height();
        var h = Math.max(hn + 24, hp + 24);
        //console.log("prev " + hp + " next " + hn);
        $("#content_0_nextLink").css("height", h + "px");
        $("#content_0_prevLink").css("height", h + "px");
        //$(".nextText").css("padding-top", (((h-hn) / 2) + 8) + "px");
        //$(".prevText").css("padding-top", (((h-hp) / 2) + 8) + "px");

        $(".nextArrow").css("padding-top", (((h - 33) / 2)) + "px");
        $(".prevArrow").css("padding-top", (((h - 33) / 2)) + "px");
    }
    function doOmnitureEvent(event) {
        try {
            s.linkTrackVars = "events,eVar9";
            s.linkTrackEvents = "event11,event12,event13,event15";
            s.events = event;
            s.tl(true, 'o', 'article');
        } catch (e) {
            //console.log(e.message);
            //console.log(e.name);
        }
    }

    $(document).ready(function () {

        // Omniture Stuff
        var tagsLocation = $(".TGN_site_Footer").offset().top; // was tagsLocation
        var scrolledToTags = false;
        var scrolledToComments = false;
        var tgnbody = $(".TGN_site");
        $(".fbShareThis").click(function () {
            s.eVar9 = "facebook share";
            doOmnitureEvent("event11");
        });
        $(".twitterShareThis").click(function () {
            s.eVar9 = "twitter share";
            doOmnitureEvent("event12");
        });
        $(".TGN_site").scroll(function () {

            if (scrolledToTags === false) {
                if (tgnbody.height() + tgnbody.scrollTop() > tagsLocation) {
                    scrolledToTags = true;
                    doOmnitureEvent("event13");
                }
            }
            if (scrolledToComments === false) {
                if (tgnbody.scrollTop() > tagsLocation) {
                    scrolledToComments = true;
                    doOmnitureEvent("event15");
                }
            }
        });
    });

    $(document).ready(function () {
    });
</script></div>
</div>
<div class="TGN_site_Article_readnext">
<style>

#TGN_RelatedContent_ArticlesBox {
    display: flex;
    width: 100%;
    justify-content: space-between;
    align-items: flex-start;
}
.TGN_RelatedContent_Slide {
    width: 32%;
    display: none;
}
.TGN_RelatedContent_Slide:hover .TGN_RelatedContent_FeatureArticleRighttitle {
    text-decoration:underline;
}
.TGN_RelatedContent_Slide:nth-child(-n+3){
    display:block;
}
    .TGN_RelatedContent_Holder {
        margin-top: 40px;
        margin-bottom: 40px;
        padding: 0px;
    }

    .TGN_RelatedContent_Title {
        color: black;
        margin-left: 0px;
        margin-bottom: 8px;
        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-size: 32px;
        font-weight: 600;
        line-height: 28px;
        height: 38px;
        letter-spacing: 0.06px;
        display: flex;
    }

    .TGN_RelatedContent_Holder .TGN_site_Titledsectionstopright {
        display: none;
    }

    .TGN_RelatedContent_Holder .TGN_site_Moreitems {
        cursor: pointer;
        display: none;
    }

    .TGN_RelatedContent_Scroller {
        overflow-y: hidden;
        overflow-x: hidden;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .TGN_RelatedContent_RightArrow {
        display: none;
        text-align: center;
        font-size: 32px;
        cursor: pointer;
        color: black;
    }

    .TGN_RelatedContent_FeatureArticle {
        display: inline-block;
    }
.TGN_RelatedContent_FeatureArticleLink {
    display: flex;
    align-items: flex-start;
    align-content: flex-start;
    text-decoration: none;
    justify-content: flex-start;
    flex-flow: column;
}
.TGN_RelatedContent_FeatureArticleTop {
    width: 100%;
    display: block;
}
.TGN_RelatedContent_FeatureArticleRighttitle {
    color: #000000;
    font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
    font-weight: 700;
    font-size: 18px;
    line-height: 20px;
    margin-top: 10px;
    margin-bottom: 7px;
}
.TGN_RelatedContent_FeatureArticleRightblurb {
    margin-bottom: 2px;
    color: #404040;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-size: 14px;
    line-height: 18px;
    overflow-wrap: break-word;
}
    .TGN_RelatedContent_FeatureArticleRightbydate {
        color: black;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-size: 18px;
        line-height: 30px;
        font-weight: 400;
        display: none;
    }

    .TGN_RelatedContent_FeatureArticleRightdate {
        display: none;
    }

    #TGN_RelatedContent_FeatureArticleLeft {
        width: 47.9%;
    }

    #TGN_RelatedContent_FeatureArticleRight {
        margin-left: 3%;
        width: 47.9%;
    }
.TGN_RelatedContent_FeatureArticleImg {
    width: 100%;
    display: block;
}
.TGN_RelatedContent_FeatureArticleImg img {
    width: 100%;
}
    @media all and (min-width: 1021px) {
        /*Desktop only*/
    }

    @media all and (min-width: 681px) {
        /*Desktop and Tablet*/
    }

    @media all and (min-width: 681px) and (max-width: 1020px) {
        /*Tablet only*/
    }

    @media all and (max-width: 1110px) {
    }

    @media all and (max-width: 1020px) {
        .TGN_RelatedContent_Title {
            height: 30px;
        }
    }

    @media all and (max-width: 980px) {
        .TGN_RelatedContent_RightArrow {
        }

        .TGN_RelatedContent_Holder {
            margin-left: 30px;
            margin-right: 30px;
        }
    }

    @media all and (max-width: 780px) {
        .TGN_RelatedContent_RightArrow {
        }

        .TGN_RelatedContent_Holder {
            margin-left: 0px;
            margin-right: 0px;
        }
    }

    @media all and (max-width: 680px) {
        .TGN_RelatedContent_Title {
            margin-bottom: 10px;
        }

        .TGN_RelatedContent_FeatureArticleLink {
            align-items: flex-start;
        }

        #TGN_RelatedContent_FeatureArticleLeft {
            width: 33%;
            background: #808080;
        }

        #TGN_RelatedContent_FeatureArticleRight {
            margin-left: 3%;
            width: 64%;
        }

        .TGN_RelatedContent_FeatureArticleRighttitle {
            font-size: 18px;
            line-height: 21px;
            margin-top: 2px;
            margin-bottom: 2px;
        }

        .TGN_RelatedContent_FeatureArticleRightblurb {
            font-size: 14px;
            line-height: 17px;
        }

        .TGN_RelatedContent_FeatureArticleImg {
            display: block;
            width: 100%;
        }

        .TGN_RelatedContent_Holder .TGN_site_Titledsectionstopright {
            /*display:flex;*/
        }

        .TGN_RelatedContent_RightArrow {
            display: none;
        }
        
.TGN_RelatedContent_Slide {
    width: 49%;
    display: none;
}
.TGN_RelatedContent_Slide:nth-child(3){
    display:none;
}
.TGN_RelatedContent_Slide:nth-child(-n+2){
    display:block;
}
    }
    @media all and (max-width: 480px) {
#TGN_RelatedContent_ArticlesBox {
    flex-flow: column;
}
.TGN_RelatedContent_Slide {
    width: 100%;
    display: block;
        margin-bottom: 20px;
}
.TGN_RelatedContent_Slide:nth-child(-n+4){
    display:block;
}
    }
</style>
<div class="TGN_RelatedContent_Holder">
<div class="TGN_RelatedContent_Title">
<div class="TGN_site_Titledsectionstopleft">
<div class="TGN_site_Titledsectionstitle">Read this next</div>
</div>
<div class="TGN_site_Titledsectionstopright">
<div class="TGN_site_Moreitems">NEXT</div>
<div class="TGN_site_Moreitemsarrow"><span class="TGN_RelatedContent_MobileRightArrow"><i class="icon-left-point-arrow"></i></span></div>
</div>
</div>
<div class="TGN_RelatedContent_Scroller">
<div id="TGN_RelatedContent_ArticlesBox">
<div class="TGN_RelatedContent_Slide" data-articleid="a554d38f-baaa-4e81-89a3-941a2d88c35f">
<a class="TGN_RelatedContent_FeatureArticleLink" href="/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria">
<div class="TGN_RelatedContent_FeatureArticleTop">
<div class="TGN_RelatedContent_FeatureArticleImg"><img data-blogroll-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_blogroll_800x494_01.ashx" data-cover="" data-cover-url="" data-searchthumbovercover="" data-square-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_thumbnail_320px_01.ashx" data-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_thumbnail_320px_01.ashx" data-thumbovercover="" data-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_blogroll_800x494_01.ashx" src="https://media.gatesnotes.com/-/media/Images/Articles/Health/As-COVID-19-spreads-do-not-lose-track-of-malaria/mosquito-week_2020_day-1_blogroll_800x494_01.ashx"/></div>
</div>
<div class="TGN_RelatedContent_FeatureArticleBottom">
<div class="TGN_RelatedContent_FeatureArticleRighttitle">As COVID-19 spreads, don’t lose track of malaria</div>
<div class="TGN_RelatedContent_FeatureArticleRightblurb" style="white-space: pre-line">The pandemic is a reminder of why we need to eradicate this mosquito-borne disease.</div>
</div>
</a>
</div>
<div class="TGN_RelatedContent_Slide" data-articleid="eb76a509-a82d-41b3-8e29-7f1d97b7f71a">
<a class="TGN_RelatedContent_FeatureArticleLink" href="/Health/Bed-nets-for-Benin">
<div class="TGN_RelatedContent_FeatureArticleTop">
<div class="TGN_RelatedContent_FeatureArticleImg"><img data-blogroll-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_2020_bed-nets_blogroll_800x494_01.ashx" data-cover="" data-cover-url="" data-searchthumbovercover="" data-square-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_2020_bed-nets_thumbnail_320px_01.ashx" data-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_2020_bed-nets_thumbnail_320px_01.ashx" data-thumbovercover="" data-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_2020_bed-nets_blogroll_800x494_01.ashx" src="https://media.gatesnotes.com/-/media/Images/Articles/Health/Bed-nets-for-Benin/mosquito-week_2020_bed-nets_blogroll_800x494_01.ashx"/></div>
</div>
<div class="TGN_RelatedContent_FeatureArticleBottom">
<div class="TGN_RelatedContent_FeatureArticleRighttitle">Full coverage: Bed nets for Benin</div>
<div class="TGN_RelatedContent_FeatureArticleRightblurb" style="white-space: pre-line">Its bed net distribution system will help save lives from malaria and other diseases too.</div>
</div>
</a>
</div>
<div class="TGN_RelatedContent_Slide" data-articleid="46abf3a3-4a59-43eb-bd93-41575a623531">
<a class="TGN_RelatedContent_FeatureArticleLink" href="/Health/These-maps-could-point-the-way-to-eradicating-malaria">
<div class="TGN_RelatedContent_FeatureArticleTop">
<div class="TGN_RelatedContent_FeatureArticleImg"><img data-blogroll-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_800px_v2.ashx" data-cover="" data-cover-url="" data-searchthumbovercover="" data-square-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_320px_v2.ashx" data-src="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_320px_v2.ashx" data-thumbovercover="" data-url="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_800px_v2.ashx" src="https://media.gatesnotes.com/-/media/Images/Articles/Health/These-maps-could-point-the-way-to-eradicating-malaria/mosquito-week_2019_800px_v2.ashx"/></div>
</div>
<div class="TGN_RelatedContent_FeatureArticleBottom">
<div class="TGN_RelatedContent_FeatureArticleRighttitle">These maps could point the way to stopping malaria</div>
<div class="TGN_RelatedContent_FeatureArticleRightblurb" style="white-space: pre-line">We’re using them to maximize scarce resources.</div>
</div>
</a>
</div>
</div>
<div class="TGN_RelatedContent_RightArrow">
<i class="icon-left-point-arrow"></i>
</div>
</div>
</div>
<script id="TGN_RelatedContentItem" type="text/x-handlebars-templates">
    {{#each ArticleList}}
    <div class="TGN_RelatedContent_Slide" data-articleID="{{ArticleID}}">
        <a class="TGN_RelatedContent_FeatureArticleLink" href="{{ArticleUrl}}">
            <div class="TGN_RelatedContent_FeatureArticleTop">
                <div class="TGN_RelatedContent_FeatureArticleImg"><img src="{{ImageUrl}}" data-src="{{SearchThumbUrl}}" data-blogroll-src="{{ImageUrl}}" data-cover="{{SearchBookCoverUrl}}" data-thumbovercover="{{SearchThumbOverCover}}" data-url="{{ImageUrl}}" data-square-url="{{SearchThumbUrl}}" data-SearchThumbOverCover="{{SearchThumbOverCover}}" data-cover-url="{{SearchBookCoverUrl}}"></div>
            </div>
            <div class="TGN_RelatedContent_FeatureArticleBottom">
                <div class="TGN_RelatedContent_FeatureArticleRighttitle">{{{SearchHeadline}}}</div>
                <div class="TGN_RelatedContent_FeatureArticleRightblurb" style="white-space: pre-line">{{{SearchBlurb}}}</div>
            </div>
        </a>
    </div>
    {{/each}}
</script>
<script type="text/javascript">
    $(document).ready(function () {
        //console.log("TGNRelatedContent_JS");
        GetThreeRelatedContentItems();
    });
    function GetThreeRelatedContentItems() {
        $.ajax({
            url: "/api/TGNWebAPI/GetThreeRelatedContentItems",
            dataType: "json",
            data: {
                pageID: TGNPageID.toUpperCase()
            },
            type: "GET",
            success: function (data) {
                data = JSON.parse(data);
                var source = $("#TGN_RelatedContentItem").html();
                var template = Handlebars.compile(source);
                var html = template(data);
                var resultsReturnBox = $("#TGN_RelatedContent_ArticlesBox");
                resultsReturnBox.html(html);
            },
            error: function (request, status, error) {
                console.log("ERROR:" + request.responseText + " e:" + error);
                //
            }
        });
    }
    var throttled = TGN_throttle(TGNRC_ShowVisibleThumbnails, 1000);
    $(".TGN_site").scroll(throttled);

    $(window).resize(function () {
        setTimeout(function () {
            TGNRC_ShowVisibleThumbnails();
        }, 150);
    });
    function TGNRC_ShowVisibleThumbnails() {
        //console.log("TGNRC_ShowVisibleThumbnails");
        $(".TGN_RelatedContent_FeatureArticleImg").each(function (i, obj) {
            if ($(this).is(':visible') && TGNRCisOnScreen($(this))) {
                if ($(this).attr("data-url") != "set") {
                    $(this).attr("src", $(this).attr("data-stnurl"));
                    $(this).attr("data-url", "set");
                }
            }
        });
    }
    function TGNRCisOnScreen(element) {
        var doc = document.documentElement;
        var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);
        var top = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);
        var scrollPosition = top;
        var elementPos = element.offset();
        var boxPos = $("#TGN_RelatedContent_ArticlesBox").offset();
        var curLeft = elementPos.left - boxPos.left;
        var boxScrollLeft = $(".TGN_RelatedContent_Scroller").scrollLeft();
        var screenHeight = $(window).height();
        if ((((elementPos.top - scrollPosition) + (element.height() / 1.5)) < screenHeight) && ((curLeft - boxScrollLeft) < $("#TGN_RelatedContent_ArticlesBox").width())) {
            return true;
        } else {
            return false;
        }
    }
</script>
</div>
<div class="TGN_site_Article_cta">
</div>
<div class="TGN_site_Article_comments">
<script src="//cdn.livefyre.com/Livefyre.js"></script>
<style>
    .comment-roadblock {
        display: block;
        background-color: #3379be;
        color: white;
        line-height: 60px;
        text-align: center;
        width: 240px;
        height: 60px;
        margin-right: auto;
        margin-left: auto;
        cursor: pointer;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
        font-style: normal;
        margin-bottom: 20px;
    }
.commentHeading {
    /*font-style: normal;
    margin-bottom: 24px;
    display: block;
    width: 100%;
    text-align: left;
    color: #000000;
    font-family: 'Roboto Condensed', 'Asap Condensed', 'neue-haas-unica', sans-serif;
    font-size: 28px;
    letter-spacing: -0.07px;
    line-height: 34px;
    font-weight: 600;
    text-transform: uppercase;
    border-bottom: 1px solid black;*/
    max-width: 78px !important;
    display: block;
    margin-bottom: 12px;
}

    .commentContactUs {
        border-bottom: 1px solid #ccc;
    }

    .commentsLockedText {
        text-align: center;
        color: rgb(112,112,112);
        font-size: 10px;
    }

    .commentsLocked {
        width: 100%;
            clear: both;
            display:none;
            margin-bottom: 90px;
                position: relative;
    top: 0px;
    }

    .commentsLockedHR {
        display: block;
        height: 1px;
        border: 0;
        border-top: 1px solid #ccc;
        margin: 16px 0;
        padding: 0;
    }

        @media all and (max-width: 680px) {
            .commentHeading {
    max-width: 59px !important;
}
        }
</style>
<script>
    var liveFyreLive = new Date("2017/2/12");
    var month = 31 * 1000 * 60 * 60 * 24;
    var days = 1000 * 60 * 60 * 24;
    var monthsLive = 1;
    var CommentState = false;
    var userauthurl = "";
    var userAuthToken = "";
    var userNameFyre = "";
    var UserCommentToken = "UserCommentToken";
    var fyreeditor;
    var LFNetwork = "gatesnotes";//-int";
    var LFSite = "385155";
    var networkConfig = {
        network: 'gatesnotes.fyre.co'//-int.fyre.co'
    };
    var GNCommDisplayedCommentsNumber = 0;
    var GNCommActiveCommentsNumber = 0;
    var convConfig = {
        siteId: LFSite,//'TGNUAT:385155'prod'TGNWWW:385143'
        articleId: '88FF0784-6D7A-4511-99B7-14372391BD20',  // need to put in url
        el: 'livefyre',
        collectionMeta: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcnRpY2xlSWQiOiI4OEZGMDc4NC02RDdBLTQ1MTEtOTlCNy0xNDM3MjM5MUJEMjAiLCJ0YWdzIjoiQXJ0aWNsZSIsInRpdGxlIjoiSXRcdTAwZTJcdTAwODBcdTAwOTlzIGFsd2F5cyBidXp6aW5nIGluIE1vc3F1aXRvIENpdHkiLCJ0eXBlIjoibGl2ZWNvbW1lbnRzIiwidXJsIjoiaHR0cHM6Ly93d3cuZ2F0ZXNub3Rlcy5jb20vSGVhbHRoL01vc3F1aXRvLUNpdHkiLCJpc3MiOiJ1cm46bGl2ZWZ5cmU6Z2F0ZXNub3Rlcy5meXJlLmNvOnNpdGU9Mzg1MTQzIn0.oEnrQbaWgWxVdkPTrAgiK3eBVo1XU-CEv66C7KrwqV8',
        checksum: 'cf80b00de894c3760744ee11492fa723',
        initialNumVisible: 5,
        animations: false,
        editorCss: '{background: ‘#ccc’, color: ‘red’, font: ’30px “Helvetica Neue”, Helvetica, Arial, Geneva, sans-serif’}',
    };

    var convConfigTab = {
        siteId: LFSite,//'TGNUAT:385155'prod'TGNWWW:385143'
        articleId: '88FF0784-6D7A-4511-99B7-14372391BD20',  // need to put in url
        el: 'livefyre-tablet',
        collectionMeta: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcnRpY2xlSWQiOiI4OEZGMDc4NC02RDdBLTQ1MTEtOTlCNy0xNDM3MjM5MUJEMjAiLCJ0YWdzIjoiQXJ0aWNsZSIsInRpdGxlIjoiSXRcdTAwZTJcdTAwODBcdTAwOTlzIGFsd2F5cyBidXp6aW5nIGluIE1vc3F1aXRvIENpdHkiLCJ0eXBlIjoibGl2ZWNvbW1lbnRzIiwidXJsIjoiaHR0cHM6Ly93d3cuZ2F0ZXNub3Rlcy5jb20vSGVhbHRoL01vc3F1aXRvLUNpdHkiLCJpc3MiOiJ1cm46bGl2ZWZ5cmU6Z2F0ZXNub3Rlcy5meXJlLmNvOnNpdGU9Mzg1MTQzIn0.oEnrQbaWgWxVdkPTrAgiK3eBVo1XU-CEv66C7KrwqV8',
        checksum: 'cf80b00de894c3760744ee11492fa723',
        animations: false,
        editorCss: '{background: ‘#ccc’, color: ‘red’, font: ’30px “Helvetica Neue”, Helvetica, Arial, Geneva, sans-serif’}',

    };


    //function isGNILoggedIn() {
    //    if (currentUserActive == "true") {
    //        if (currentUserData.IsApproved != "false" && currentUserData.IsApproved != undefined && currentUserData.IsApproved != "") {
    //            return true;
    //        } else {
    //            return false;
    //        }
    //    } else {
    //        return false;
    //    }
    //}
    function setGNILoggedIn() {
        //$(".fyre-editor").css("display", "block");
        //$(".GNCommProfileImage").attr("style", $("#mobart_Art_USER_HolderPI").attr("style") + ";margin-top: 0px;margin-right: 10px;").addClass($("#mobart_Art_USER_HolderPI").attr("class"));
        $(".fyre-comment-wrapper").css("pointer-events", "all");
        $(".GNCommFooterFlag").css("display", "inline-block");
    }
    function setGNILoggedOut() {
        if (CommentState != false) {
            //$(".GNCommProfileImage").attr("style", "").removeClass($("#mobart_Art_USER_HolderPI").attr("class"));
            $(".fyre-comment-wrapper").css("pointer-events", "none");
            $(".GNCommFooterFlag").css("display", "none");
            CommentState = false;
            commentLogout();
        }
    }
    function commentLoggedIn() {
        setGNILoggedIn();
    }
    function commentLoggedOut() {
        //setGNILoggedOut();
    }
    function setGNICommentUI() {
        if (isGNILoggedIn()) {
            setGNILoggedIn();
        } else {
            setGNILoggedOut();
        }
    }
    function getCommentToken() {
        //console.log("UserCommentToken: " + localStorage.getItem('UserCommentToken'));
        if (localStorage.getItem('UserCommentToken') == null || localStorage.getItem('UserCommentToken') == "null" || localStorage.getItem('UserCommentToken') == "") {
            // if no local storage version get from endpoint
            Livefyre.auth.logout(commentLoggedOut);
            $.ajax({
                url: Auth4Config_AuthServiceURL + "CommentToken",
                dataType: "json",
                data: {
                    network: escape(LFNetwork),
                    site: escape(LFSite)
                },
                headers: { 'authorization': 'Bearer ' + localStorage.getItem(tokenKey) },
                type: "GET",
                success: function (data) {
                    userAuthToken = data.Token;
                    localStorage.setItem('UserCommentToken', data.Token);
                    userName = data.UserName;
                    userNameFyre = data.UserName;
                    Livefyre.auth.login(commentLoggedIn);
                    //alert("Comment Token Good " + data.UserName);
                },
                error: function (xhr, error, thrown) {
                    //alert("Bad " + xhr.statusText);
                },

            });
        } else {
            // get local storage
            userAuthToken = localStorage.getItem('UserCommentToken');//+"zzzz";//
            userName = localStorage.getItem('UserName');
            userNameFyre = localStorage.getItem('UserName');
            GNCommUnfollowCollection();
            //Livefyre.auth.login(commentLoggedIn);
        }
        return false;
    }
    function GNCommSyncMe() {
        $.ajax({
            url: Auth4Config_AuthServiceURL + "SyncMe",
            dataType: "json",
            headers: { 'authorization': 'Bearer ' + localStorage.getItem(tokenKey) },
            type: "GET",
            success: function (data) {
                console.log("SyncMeSuccess");
            },
            error: function (xhr, error, thrown) {
                //alert("Bad " + xhr.statusText);
                console.log("SyncMeError");
            },

        });
        return false;
    }
    function commentLogin() {
        getCommentToken();
    }
    function commentLogout() {
        //alert("Comment Logging out");
        //Livefyre.auth.logout(commentLoggedOut);
        //localStorage.setItem(userCommentToken, "");
        //localStorage.setItem(tokenKey, "");
    }


    $(document).ready(function () {
        $.ajaxSetup({ cache: false });
        var diff = Math.abs(new Date() - liveFyreLive);
        daysLive = Math.floor(diff / days);
        monthsLive = Math.floor(diff / month);

        //if (daysLive < 30) {
        //    $("#commentLockedDuration").text(daysLive.toString() + " days");
        //} else if (monthsLive > 1) {
        //    $("#commentLockedDuration").text(monthsLive.toString() + " months");
        //} else {
        //    $("#commentLockedDuration").text("a month");
        //}
        var myURL = document.domain;

        if (myURL == "www.gatesnotes.com") {// || myURL == "local.gatesnotes.com"
            LFNetwork = "gatesnotes";
            LFSite = "385143";//prod site id
            convConfig = {
                siteId: LFSite,//'TGNUAT:385155'prod'TGNWWW:385143'
                articleId: '88FF0784-6D7A-4511-99B7-14372391BD20',  // need to put in url
                el: 'livefyre',
                collectionMeta: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcnRpY2xlSWQiOiI4OEZGMDc4NC02RDdBLTQ1MTEtOTlCNy0xNDM3MjM5MUJEMjAiLCJ0YWdzIjoiQXJ0aWNsZSIsInRpdGxlIjoiSXRcdTAwZTJcdTAwODBcdTAwOTlzIGFsd2F5cyBidXp6aW5nIGluIE1vc3F1aXRvIENpdHkiLCJ0eXBlIjoibGl2ZWNvbW1lbnRzIiwidXJsIjoiaHR0cHM6Ly93d3cuZ2F0ZXNub3Rlcy5jb20vSGVhbHRoL01vc3F1aXRvLUNpdHkiLCJpc3MiOiJ1cm46bGl2ZWZ5cmU6Z2F0ZXNub3Rlcy5meXJlLmNvOnNpdGU9Mzg1MTQzIn0.oEnrQbaWgWxVdkPTrAgiK3eBVo1XU-CEv66C7KrwqV8',
                checksum: 'cf80b00de894c3760744ee11492fa723',
                initialNumVisible: 5,
                animations: false,
                editorCss: '{background: ‘#ccc’, color: ‘red’, font: ’30px “Helvetica Neue”, Helvetica, Arial, Geneva, sans-serif’}',
            };

            convConfigTab = {
                siteId: LFSite,//'TGNUAT:385155'prod'TGNWWW:385143'
                articleId: '88FF0784-6D7A-4511-99B7-14372391BD20',  // need to put in url
                el: 'livefyre-tablet',
                collectionMeta: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcnRpY2xlSWQiOiI4OEZGMDc4NC02RDdBLTQ1MTEtOTlCNy0xNDM3MjM5MUJEMjAiLCJ0YWdzIjoiQXJ0aWNsZSIsInRpdGxlIjoiSXRcdTAwZTJcdTAwODBcdTAwOTlzIGFsd2F5cyBidXp6aW5nIGluIE1vc3F1aXRvIENpdHkiLCJ0eXBlIjoibGl2ZWNvbW1lbnRzIiwidXJsIjoiaHR0cHM6Ly93d3cuZ2F0ZXNub3Rlcy5jb20vSGVhbHRoL01vc3F1aXRvLUNpdHkiLCJpc3MiOiJ1cm46bGl2ZWZ5cmU6Z2F0ZXNub3Rlcy5meXJlLmNvOnNpdGU9Mzg1MTQzIn0.oEnrQbaWgWxVdkPTrAgiK3eBVo1XU-CEv66C7KrwqV8',
                checksum: 'cf80b00de894c3760744ee11492fa723',
                animations: false,
                editorCss: '{background: ‘#ccc’, color: ‘red’, font: ’30px “Helvetica Neue”, Helvetica, Arial, Geneva, sans-serif’}',

            };
        }

       var uName = localStorage.getItem('UserName');
        if ((uName == null) || (uName == "")) {
            uName = "NoName";
        }
        var uNameNoSP = uName.replace(" ", "");
        if (localStorage.getItem(tokenKey) == "") {
            localStorage.setItem(UserCommentToken, "");
        } else {
            //getCommentToken();
        }
        // poll for log-in-out
        setInterval(checkGNIState, 500);
    });
    function checkGNIState() {
        //console.log(CommentState +":"+ isGNILoggedIn())
        if (CommentState != isGNILoggedIn()) {
            if (isGNILoggedIn()) {
                commentLogin();
                CommentState = true;
                $("#GNCommPleaseVerify").css("display", "none");
                $("#GNCommSignUpOrLogIn").css("display", "none");
            }
        }
    }

    Livefyre.require(['fyre.conv#3', 'auth'], function (Conv, auth) {
        //new Conv(networkConfig, [convConfig, convConfigTab], function (commentsWidget) {
        new Conv(networkConfig, [convConfig], function (commentsWidget) {
            commentsWidget.on('commentPosted', function (data) {
                cleanPosts();
                //console.log("GNComm:EVENT:commentPosted");
                localStorage.setItem("userCommentTemp", "");
            });
            commentsWidget.on('initialRenderComplete', function (data) {
                lfInitialRenderComplete(data);
                //console.log("GNComm:EVENT:initialRenderComplete" + GNCommGetTimeCheck());
            });
            commentsWidget.on('userLoggedIn', function (data) {
                //if (CommentState == true) {
                //    setGNICommentUI();
                //    console.log("GNComm:EVENT:userLoggedIn");
                //    GNCommUserEmail = data.id;
                //    GNCommUserId = GNCommUserEmail.replace("@gatesnotes.fyre.co", "");
                //    GNCommAvater = data.avatar;
                //    GNCommdisplayName = data.displayName;
                //    GNCommisModerator = data.isModerator;
                //    //$(".goog-inline-block .fyre-button-right-inner-box").text("+");
                //} else {
                //    commentLogout();
                //}
                setGNICommentUI();
                //console.log("GNComm:EVENT:userLoggedIn");
                GNCommUserEmail = data.id;
                GNCommUserId = GNCommUserEmail.replace("@gatesnotes.fyre.co", "");
                localStorage.setItem("GNCommUserId", GNCommUserEmail);
                localStorage.setItem("GNCommUserIdNum", GNCommUserId);
                GNCommAvater = data.avatar;
                GNCommdisplayName = data.displayName;
                GNCommisModerator = data.isModerator;
                //$(".goog-inline-block .fyre-button-right-inner-box").text("+");
            });
            commentsWidget.on('userLoggedOut', function (data) {
                setGNICommentUI();
                //console.log("GNComm:EVENT:userLoggedOut");
                localStorage.setItem("userCommentTemp", "");
            });
            commentsWidget.on('commentCountUpdated', function (data) {
                //numcommentsLF = "Open Comments (" + data.toString() + ")";
                //$(".fyre-stream-more .fyre-buttonT").text(numcommentsLF);
                // Adjust for legacy number
                GNCommActiveCommentsNumber = data;
                setTimeout(function () {
                    GNCommCountDisplayed();
                    cleanPosts();
                }, 100);
                //console.log("GNComm:EVENT:commentCountUpdated");
                localStorage.setItem("userCommentTemp", "");
            });
            commentsWidget.on('showMore', function (data) {
                event.stopPropagation();
                setTimeout(function () {
                    $(".GNCommForm").attr("data-counted", "reset");
                    cleanPosts();
                }, 300);
                //console.log("GNComm:EVENT:showMore");
            });
        });
        auth.delegate({
            login: function (callback) {
                //alert("Comment Login");
                //console.log("GNComm:EVENT:login");
                callback(null, { livefyre: userAuthToken });

            },
            logout: function (callback) {
                //alert("Comment Logout");
                //console.log("GNComm:EVENT:Logout");
                callback(null);
            },
        });
    });

</script>
<style>
.TGN_site_Article_comments {
    display: flex;
    flex-flow: column;
    margin-bottom: 20px;
}
    .GNCommForm {
        box-sizing: border-box;
        color: rgb(45,45,45);
        display: block;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        line-height: 24px;
        margin-bottom: 10px;
        margin-left: 0px;
        margin-right: 0px;
        margin-top: 0px;
        text-size-adjust: 100%;
        -webkit-font-smoothing: antialiased;
    }
    .GNCommPostWrapper {
        background-attachment: scroll;
        background-clip: border-box;
        background-color: rgb(255, 255, 255);
        background-image: none;
        background-origin: padding-box;
        background-position-x: 0%;
        background-position-y: 0%;
        background-size: auto;
        border-bottom-color: rgb(232, 232, 232);
        border-bottom-style: solid;
        border-bottom-width: 1px;
        border-image-outset: 0px;
        border-image-repeat: stretch;
        border-image-slice: 100%;
        border-image-source: none;
        border-image-width: 1;
        border-left-color: rgb(232, 232, 232);
        border-left-style: solid;
        border-left-width: 1px;
        border-right-color: rgb(232, 232, 232);
        border-right-style: solid;
        border-right-width: 1px;
        border-top-color: rgb(232, 232, 232);
        border-top-style: solid;
        border-top-width: 1px;
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        line-height: 24px;
        padding-bottom: 10px;
        padding-left: 10px;
        padding-right: 5px;
        padding-top: 10px;
        text-size-adjust: 100%;
        transition-delay: 0s;
        transition-duration: 0.4s;
        transition-property: border-color;
        transition-timing-function: ease-in-out;
        -webkit-font-smoothing: antialiased;
        display: flex;
    justify-content: flex-start;
    align-items: center;
    align-content: center;
    }

    textarea[placeholder]:empty:before {
        content: attr(placeholder);
        color: #d3d3d3;
        font-size: 11px;
        font-family: Lusitana, serif;
    }

    textarea[placeholder]:empty:focus:before {
        content: "";
    }
    .GNCommText {
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        flex-basis: 0%;
        flex-grow: 1;
        flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
        font-weight: 200;
        line-height: 24px;
        text-size-adjust: 100%;
        -webkit-box-flex: 1;
        -webkit-font-smoothing: antialiased;
    }
        .GNCommText > textarea {
            background-attachment: scroll;
            background-clip: border-box;
            background-color: rgba(0, 0, 0, 0);
            background-image: none;
            background-origin: padding-box;
            background-position-x: 0%;
            background-position-y: 0%;
            background-size: auto;
            border-bottom-color: #b0b0b0;
            border-bottom-style: none;
            border-bottom-width: 0px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: #b0b0b0;
            border-left-style: none;
            border-left-width: 0px;
            border-right-color: #b0b0b0;
            border-right-style: none;
            border-right-width: 0px;
            border-top-color: #b0b0b0;
            border-top-style: none;
            border-top-width: 0px;
            box-sizing: border-box;
            color: black !important;
            cursor: auto;
            display: block;
            flex-basis: 0%;
            flex-direction: column;
            flex-grow: 1;
            flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
            font-stretch: normal;
            font-style: normal;
            font-variant-caps: normal;
            font-variant-ligatures: normal;
            font-variant-numeric: normal;
            height: 25px;
            letter-spacing: normal;
            line-height: normal;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 5px;
            min-height: 25px;
            overflow-x: hidden;
            overflow-y: hidden;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 0px;
            resize: none;
            text-align: start;
            text-indent: 0px;
            text-rendering: auto;
            text-shadow: none;
            text-size-adjust: 100%;
            text-transform: none;
            user-select: text;
            white-space: pre-wrap;
            word-spacing: 0px;
            word-wrap: break-word;
            writing-mode: horizontal-tb;
            -webkit-appearance: none;
            -webkit-box-flex: 1;
            -webkit-font-smoothing: antialiased;
            -webkit-border-image: none;
            -webkit-rtl-ordering: logical;
        border: none;
    overflow: auto;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;

        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
        font-weight: 600;
    font-size: 16px;
    line-height: 19px;
        }
.GNCommPost {
    box-sizing: border-box;
    color: #b0b0b0;
    cursor: pointer;
    display: block;
    font-family: Lusitana, serif;
    font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
    font-size: 20px;
    font-weight: 200;
    height: 20px;
    line-height: 20px;
    margin-left: 0px;
    text-size-adjust: 100%;
    vertical-align: middle;
    width: 30px;
    -webkit-font-smoothing: antialiased;
}
        .GNCommPost > svg {
            box-sizing: border-box;
            color: rgba(0,0,0,0.12);
            cursor: pointer;
            display: inline;
            font-family: Lusitana, serif;
            font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
            font-size: 40px;
            font-weight: 200;
            height: 30px;
            line-height: 24px;
            margin-left: 0px;
            text-size-adjust: 100%;
            vertical-align: middle;
            width: 30px;
            -webkit-font-smoothing: antialiased;
        }

        
    .GNCommReply {
        box-sizing: border-box;
        color: rgb(45,45,45);
        display: block;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        line-height: 24px;
        margin-bottom: 10px;
        margin-left: 0px;
        margin-right: 0px;
        margin-top: 12px;
        text-size-adjust: 100%;
        -webkit-font-smoothing: antialiased;
    }
    .GNCommReplyPostWrapper {
        background-attachment: scroll;
        background-clip: border-box;
        background-color: rgb(255, 255, 255);
        background-image: none;
        background-origin: padding-box;
        background-position-x: 0%;
        background-position-y: 0%;
        background-size: auto;
        border-bottom-color: rgb(232, 232, 232);
        border-bottom-style: solid;
        border-bottom-width: 1px;
        border-image-outset: 0px;
        border-image-repeat: stretch;
        border-image-slice: 100%;
        border-image-source: none;
        border-image-width: 1;
        border-left-color: rgb(232, 232, 232);
        border-left-style: solid;
        border-left-width: 1px;
        border-right-color: rgb(232, 232, 232);
        border-right-style: solid;
        border-right-width: 1px;
        border-top-color: rgb(232, 232, 232);
        border-top-style: solid;
        border-top-width: 1px;
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        line-height: 24px;
        padding-bottom: 10px;
        padding-left: 20px;
        padding-right: 5px;
        padding-top: 10px;
        text-size-adjust: 100%;
        transition-delay: 0s;
        transition-duration: 0.4s;
        transition-property: border-color;
        transition-timing-function: ease-in-out;
        -webkit-font-smoothing: antialiased;
    }
    .GNCommReplyText {
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        flex-basis: 0%;
        flex-grow: 1;
        flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
        font-weight: 200;
        line-height: 24px;
        text-size-adjust: 100%;
        -webkit-box-flex: 1;
        -webkit-font-smoothing: antialiased;
    }
        .GNCommReplyText > textarea {
            background-attachment: scroll;
            background-clip: border-box;
            background-color: rgba(0, 0, 0, 0);
            background-image: none;
            background-origin: padding-box;
            background-position-x: 0%;
            background-position-y: 0%;
            background-size: auto;
            border-bottom-color: #b0b0b0;
            border-bottom-style: none;
            border-bottom-width: 0px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: #b0b0b0;
            border-left-style: none;
            border-left-width: 0px;
            border-right-color: #b0b0b0;
            border-right-style: none;
            border-right-width: 0px;
            border-top-color: #b0b0b0;
            border-top-style: none;
            border-top-width: 0px;
            box-sizing: border-box;
            color: black !important;
            cursor: auto;
            display: block;
            flex-basis: 0%;
            flex-direction: column;
            flex-grow: 1;
            flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
            font-stretch: normal;
            font-style: normal;
            font-variant-caps: normal;
            font-variant-ligatures: normal;
            font-variant-numeric: normal;
            height: 25px;
            letter-spacing: normal;
            line-height: normal;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 5px;
            min-height: 25px;
            overflow-x: hidden;
            overflow-y: hidden;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 0px;
            resize: none;
            text-align: start;
            text-indent: 0px;
            text-rendering: auto;
            text-shadow: none;
            text-size-adjust: 100%;
            text-transform: none;
            user-select: text;
            white-space: pre-wrap;
            word-spacing: 0px;
            word-wrap: break-word;
            writing-mode: horizontal-tb;
            -webkit-appearance: none;
            -webkit-box-flex: 1;
            -webkit-font-smoothing: antialiased;
            -webkit-border-image: none;
            -webkit-rtl-ordering: logical;
        border: none;
    overflow: auto;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;

        font-family: source-serif-pro, 'Source Serif Pro', 'LyonDisplay-Medium', serif;
            font-weight: 600;
    font-size: 16px;
    line-height: 19px;
        }
    .GNCommReplyPost {
        box-sizing: border-box;
        color: #b0b0b0;
        cursor: pointer;
        display: block;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        height: 30px;
        line-height: 24px;
        margin-left: 10px;
        text-size-adjust: 100%;
        vertical-align: middle;
        width: 30px;
        -webkit-font-smoothing: antialiased;
    }
        .GNCommReplyPost > svg {
            box-sizing: border-box;
            color: #b0b0b0;
            cursor: pointer;
            display: inline;
            font-family: Lusitana, serif;
            font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
            font-size: 16px;
            font-weight: 200;
            height: 30px;
            line-height: 24px;
            margin-left: 0px;
            text-size-adjust: 100%;
            vertical-align: middle;
            width: 30px;
            -webkit-font-smoothing: antialiased;
        }



    .cls-1 {
        box-sizing: border-box;
        color: #b0b0b0;
        cursor: pointer;
        display: inline;
        fill: none;
        font-family: Lusitana, serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 16px;
        font-weight: 200;
        height: auto;
        line-height: 24px;
        stroke: rgb(204, 204, 204);
        stroke-miterlimit: 10;
        stroke-width: 2px;
        text-size-adjust: 100%;
        transform-origin: 0px 0px;
        transition-delay: 0s;
        transition-duration: 0.4s;
        transition-property: all;
        transition-timing-function: ease;
        width: auto;
        -webkit-font-smoothing: antialiased;
    }
</style>
<script type="text/javascript">

    function autoGrowTextArea2(textField) {
        var cHeight = textField.prop('clientHeight');
        var sHeight = textField.prop('scrollHeight');
        if (cHeight < sHeight) {
            textField.height(sHeight);
            if (textField.prop('clientHeight') < textField.prop('scrollHeight')) {
                var newHeight = textField.prop('scrollHeight') * 2 - textField.prop('clientHeight');
                textField.height(newHeight);
            }
        }
    }
    var GNCommUserEmail = "";
    var GNCommUserId = "";
    var GNCommAvater = "";
    var GNCommdisplayName = "";
    var GNCommisModerator = false;
    var collectionId = 249374977; //"75891292";//"183174663";
    var fyreEmail = GNCommUserId + "@livefyre.com";
    var commentText = "hooo";
    
    function GNCommPostFill(t) {

    }
    function GNCommGetItemData(id) {
        //var url = "https://gatesnotes.bootstrap.fyre.co/api/v3.0/content/thread/?collection_id=" + collectionId + "&content_id=" + id + "&depth_only=true";
        //var dd = "";
        //$.get(url, dd, function (data) {
        //    var see = data;
        //    return see;
        //}
        //);

        //console.log("GNComm:Post:GetItemData:Time:" + GNCommGetTimeCheck());
        $.ajax({
            url: "https://gatesnotes.bootstrap.fyre.co/api/v3.0/content/thread/?collection_id=" + collectionId + "&content_id=" + id + "&depth_only=true&nocache="+new Date().toString(),
            type: 'GET',
            async: true,
            cache: false,
            timeout: 30000,
            error: function(){
                //return "";
            },
            success: function(data){
                //console.log("GNComm:Post:GetItemDataSuccess:Time:" + GNCommGetTimeCheck());
                var LFitemData = data;
                if (LFitemData.data.content.length > 2) {
                    //console.log("id: "+id + " data: "+ LFitemData.data.content.length);
                    writeThirdLevelMentions(LFitemData.data.content[LFitemData.data.content.length-1].content.id,LFitemData.data.content[LFitemData.data.content.length-1].content.parentId);
                }
                if (LFitemData && LFitemData.data.content[LFitemData.data.content.length-1].content.bodyHtml) {
                    writeLFMessageBodyHTML(LFitemData.data.content[LFitemData.data.content.length-1].content.id,LFitemData.data.content[LFitemData.data.content.length-1].content.bodyHtml);
                }
            }
        });
    }
    function GNCommGetUser() {
        var url = "https://gatesnotes.quill.fyre.co/profiles/?id="+ GNCommUserId +"&lftoken=" + userAuthToken;
        var dd = "";
        $.post(url, dd, function (data) {
            var see = data;
        });

    }
    function GNCommUnfollowCollection(tag_name) {
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/collection/"+collectionId+"/unfollow/?lftoken=" + userAuthToken;
        var dd = "";
        $.post(url, dd, function (data) {
            var see = data;
            //token is valid
            Livefyre.auth.logout(commentLoggedOut);
            Livefyre.auth.login(commentLoggedIn);
        })
        .fail(function(response) {
            console.log("GNCommUnfollowCollection:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            //token no longer valid
            localStorage.setItem('UserCommentToken', '');
            getCommentToken();
            //if (response.responseJSON.error_type == "AuthenticationError") {
            //}
        });

    }
    function GNCommHideNotifications() {
        $("#GNCommOOPS").css("display", "none");
        $("#GNCommHTML").css("display", "none");
        $("#GNCommDuplicate").css("display", "none");
        $("#GNCommPleaseVerify").css("display", "none");
        $("#GNCommSignUpOrLogIn").css("display", "none");
        $("#GNCommWaitingtop").css("display", "none");
        $(".GNCommWaiting").css("display", "none");
        $(".GNCommWaiting").css("color","#b0b0b0");
        $(".GNCommWaitingDots").css("display","inline-block");
        $(".GNCommWaitingMessage").html("posting");
        $(".GNCommFooterEditMenu").css("display", "none");
        $(".GNCommReply").css("display", "none");
        $(".GNCommReplyTA").css("height", "25px");
        $(".GNCommReplyTA").val("");
    }
    function GNCommEditPost(id,text) {
        GNCommHideNotifications();
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/" + id + "/edit/?lftoken=" + userAuthToken;
        var dd = "body=" + text + "&collection_id=" + collectionId;
        //console.log("GNComm:Edit:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("HTML:"+data.data.messages[0].content.bodyHtml);
            //console.log("GNComm:Edit:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
        })
        .fail(function(response) {
            console.log("GNComm:Edit:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
            if (response.responseJSON.error_type == "DuplicateCommentError") {
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommDuplicate"));
                $("#GNCommDuplicate").css("display", "block");
            } else if (response.responseJSON.error_type == "MalformedCommentError") {
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommHTML"));
                $("#GNCommHTML").css("display", "block");
            } else {
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommOOPS"));
                $("#GNCommOOPS").css("display", "block");
            }
        });
    }
    function GNCommFlag(id, tag) {
        GNCommHideNotifications();
        //URL:https://gatesnotes.quill.fyre.co/api/v3.0/message/696728786/flag/spam/?lftoken=
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/" + id + "/flag/" + tag + "/?lftoken=" + userAuthToken;
        var dd = "message_id=" + id + "&collection_id=" + collectionId + "&flag=" + tag + "&notes=flagFromUI&email";
        //console.log("GNComm:Flag:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("GNComm:Flag:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
        })
        .fail(function(response) {
            console.log("GNComm:Flag:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            $("#GNCommOOPS").css("display", "block");
        });
    }
    function GNCommDelete(id) {
        GNCommHideNotifications();
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/"+id+"/delete/?collection_id=" + collectionId + "&lftoken=" + userAuthToken + "&site_id=" + LFSite;
        var dd = "";
        //console.log("GNComm:DELETE:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("GNComm:DELETE:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
        })
        .fail(function(response) {
            console.log("GNComm:DELETE:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            $("#GNCommOOPS").css("display", "block");
        });
    }
    function GNCommLike(id) {
        GNCommHideNotifications();
        var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/"+id+"/like/?collection_id=" + collectionId + "&lftoken=" + userAuthToken;
        var dd = "";
        //console.log("GNComm:Like:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("GNComm:Like:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
            TGNCom_SetEvent(id,"Like",GNCommFoundItem.attr("data-author-id"));
        })
        .fail(function(response) {
            console.log("GNComm:Like:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
        });
    }

    function TGNCom_SetEvent(commentID,type,parentUserID) {
        var d = new Date();
        var iso_time = d.toISOString(); //"2014-05-06T18:49:16.029Z"
        $.ajax({
            url: Auth4Config_AuthServiceURL + "TGNCom_SetEvent",
            headers: { 'authorization': 'Bearer ' + localStorage.getItem(tokenKey) },
            dataType: "json",
            data: {
                articleURL: window.location.pathname + "",
                articleTitle: encodeURIComponent(document.querySelectorAll('meta[property=\'og:title\']')[0].content) + "",
                collectionID: collectionId,
                commentID: commentID,
                parentUserID: parentUserID.replace("@gatesnotes.fyre.co", ""),
                timeFrame: iso_time,
                siteId: LFSite,
                type: type
            },
            type: "POST",
            success: function (data) {
                console.log("SET EVENT:" + data);
            },
            error: function (request, status, error) {
                console.log("ERROR:" + request.responseText);
            }
        });
        return false;
    }



    function GNCommDisLike(id) {
        GNCommHideNotifications();
        var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/message/"+id+"/unlike/?collection_id=" + collectionId + "&lftoken=" + userAuthToken;
        var dd = "";
        //console.log("GNComm:DisLike:Post:Time:" + GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("GNComm:DisLike:Data:Time:" + GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
            TGNCom_SetEvent(id,"RemoveLike",GNCommFoundItem.attr("data-author-id"));
        })
        .fail(function(response) {
            console.log("GNComm:DisLike:Fail:Time:" + GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
        });
    }
    function GNCommGetTimeCheck() {
        var d = new Date();
        var m = d.getMinutes();
        var s = d.getSeconds();
        var mi = d.getMilliseconds();
        return ""+m+":"+s+":"+mi;
    }
    function GNCommPost() {
        //console.log("GNComm:Post:START:Time:"+GNCommGetTimeCheck());
        if (!isGNILoggedIn()) {
            // store the message in case it needs to be saved and then sent when the user's logged in
            if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                //console.log("logged in but not verified");
                $("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
                $("#GNCommPleaseVerify").css("display", "block");
            } else {
                //MenuS45_OpenSignIn();
                $("#GNCommWaitingtop").after($("#GNCommSignUpOrLogIn"));
                $("#GNCommSignUpOrLogIn").css("display", "block");
            }
        } else if ($('#GNCommTA').val().length > 0) {
            $("#GNCommWaitingtop").css("display","block");
            GNCommPostNew($('#GNCommTA').val());
            $('#GNCommTA').val("");
            $('#GNCommTA').css("height","25px");
        }
        localStorage.setItem("userCommentTemp", $('#GNCommTA').val());
    }
    function GNCommPostNew(t) {
        //t = t.replace("%", "%25");
        //t = t.replace(";", "%3B");
        t=encodeURIComponent(t);
        GNCommHideNotifications();
        $("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
        $("#GNCommWaitingtop").after($("#GNCommDuplicate"));
        $("#GNCommWaitingtop").after($("#GNCommHTML"));
        $("#GNCommWaitingtop").after($("#GNCommOOPS"));
        $("#GNCommWaitingtop").after($("#GNCommSignUpOrLogIn"));
        // GET https://bgc3.bootstrap.fyre.co/bs3/network / siteid / articleid / bootstrap.html
        // https://bgc3.quill.fyre.co/api/v3.0/collection/183174663/post/?
        // https://bgc3.quill.fyre.co/api/v3.0/collection/183174663/post/?lftoken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkb21haW4iOiJCR0MzLmZ5cmUuY28iLCJleHBpcmVzIjoxNDkwNzQxODA5LjAyNzUwMSwidXNlcl9pZCI6IjE4MjlmNGI4LWIwMzktNDNmYy1hNzEwLWZlZGIzYTdjNGRmZiJ9.mY_tfdFuUIkLAJRPSC1rWXZCAeaR4LnSIysUj36c7HQ
        commentText = t;
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/collection/" + collectionId + "/post/?lftoken=" + userAuthToken;
        var dd = "body=" + t + "&_bi=" + GNCommUserId;
        //console.log("GNComm:Post:POST:Time:"+GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("HTML:"+data.data.messages[0].content.bodyHtml);
            //console.log("GNComm:Post:DATA:Time:"+GNCommGetTimeCheck());
            setTimeout(function () {
                cleanPosts();
            }, 100);
        })
        .fail(function(response) {
            console.log("GNComm:Post:FAIL:Time:"+GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            if (response.responseJSON.error_type == "DuplicateCommentError") {
                $("#GNCommDuplicate").css("display", "block");
            } else if (response.responseJSON.error_type == "MalformedCommentError") {
                $("#GNCommHTML").css("display", "block");
            } else {
                $("#GNCommOOPS").css("display", "block");
            }
        });

    }
    function GNCommReplyPost(value,id) {
        //console.log("GNComm:Reply:START:Time:"+GNCommGetTimeCheck());
        var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
        if (!isGNILoggedIn()) {
            // store the message in case it needs to be saved and then sent when the user's logged in
            if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                //console.log("logged in but not verified");
                //$("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
                $("#GNCommPleaseVerify").css("display", "block");
                GNCommFoundItem.find(".GNCommWaiting").css("display", "none");
            } else {
                //MenuS45_OpenSignIn();
                $("#GNCommSignUpOrLogIn").css("display", "block");
                GNCommFoundItem.find(".GNCommWaiting").css("display", "none");
            }
        } else if (value.length > 0) {
            GNCommReplyPostNew(value,id,GNCommFoundItem.attr("data-author-id"));//693154486
            $(".GNCommReply").css("display","none");
            $(".GNCommReplyTA").val("");
            GNCommFoundItem.find(".GNCommReplyTA").css("height", "25px");
        } else {
            GNCommFoundItem.find(".GNCommWaiting").css("display", "none");
        }
    }
    function GNCommReplyPostNew(t,id,authID) {
        //t = t.replace("%", "%25");
        //t = t.replace(";", "%3B");
        t=encodeURIComponent(t);
        GNCommHideNotifications();
        commentText = t;
        var url = "https://gatesnotes.quill.fyre.co/api/v3.0/collection/" + collectionId + "/post/?lftoken=" + userAuthToken;
        var dd = "body=" + t + "&parent_id=" + id + "&_bi=" + GNCommUserId;
        //console.log("GNComm:Reply:POST:Time:"+GNCommGetTimeCheck());
        $.post(url, dd, function (data) {
            var see = data;
            //console.log("HTML:"+data.data.messages[0].content.bodyHtml);
            //console.log("GNComm:Reply:DATA:Time:"+GNCommGetTimeCheck());
            TGNCom_SetEvent(id,"Reply",authID);
        })
        .fail(function(response) {
            console.log("GNComm:Reply:FAIL:Time:"+GNCommGetTimeCheck());
            console.log('Error: ' + response.responseText);
            var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + id + "']");
            //GNCommFoundItem.find(".GNCommWaiting").css("color","#890d0d");
            GNCommFoundItem.find(".GNCommWaitingDots").css("display","none");
            if (response.responseJSON.error_type == "DuplicateCommentError") {
                //$("#GNCommDuplicate").css("display", "block");
                //GNCommFoundItem.find(".GNCommWaitingMessage").html("Sorry, duplicate comments are not allowed.");
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommDuplicate"));
                $("#GNCommDuplicate").css("display", "block");
            } else if (response.responseJSON.error_type == "MalformedCommentError") {
                //$("#GNCommHTML").css("display", "block");
                //GNCommFoundItem.find(".GNCommWaitingMessage").html("Sorry, that HTML is not allowed.");
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommHTML"));
                $("#GNCommHTML").css("display", "block");
            } else {
                //$("#GNCommOOPS").css("display", "block");
                //GNCommFoundItem.find(".GNCommWaitingMessage").html("Sorry, something went wrong.");
                GNCommFoundItem.find(".GNCommReply").after($("#GNCommOOPS"));
                $("#GNCommOOPS").css("display", "block");
            }

        });
        setTimeout(function () {
            cleanPosts();
        }, 100);

    }


    $(document).ready(function () {
        $('#GNCommTA').bind('keyup', function (event) {
            var key = event.which;
            if (key == 13) {
                GNCommPost();
            }
            else {
                autoGrowTextArea2($(this));
            }
        });
        $('#GNCommPost').bind('click', function (event) {
            GNCommPost();
        });
        //$('#GNCommTA').val(localStorage.getItem('userCommentTemp'));
    });
</script>
<div class="newComments">
<!-- div class="comment-roadblock">Sign In</div -->
<div class="commentHeading TGN_site_Titledsectionstitle TGN_site_Titledsectionstopleft">Comments</div>
<div class="GNCommForm">
<div class="GNCommPostWrapper">
<span class="GNCommPost" id="GNCommPost"><i class="icon-plus"></i></span>
<div class="GNCommText">
<textarea id="GNCommTA" placeholder="Add a comment…" rows="1" style="overflow: hidden; word-wrap: break-word; height: 25px;"></textarea>
</div>
</div>
<div class="GNCommWaiting" id="GNCommWaitingtop"><span class="GNCommWaitingMessage">posting</span> <span class="GNCommWaitingDots">...</span></div>
<div class="GNCommNotificationBox" id="GNCommPleaseVerify"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_Exclaim.svg" style=""/></span><span class="GNCommPleaseVerifyT1">Please verify your email in order to make comments. </span><span class="GNCommPleaseVerifyT2">Click here to resend verification email</span></div>
<div class="GNCommNotificationBox" id="GNCommDuplicate"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_NotAllowed.svg" style=""/></span><span class="GNCommPleaseVerifyT1">Sorry, duplicate comments are not allowed. </span><span class="GNCommNotificationBoxClose"><i class="icon-close-x"></i></span></div>
<div class="GNCommNotificationBox" id="GNCommHTML"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_NotAllowed.svg" style=""/></span><span class="GNCommPleaseVerifyT1">Sorry, that HTML is not allowed. </span><span class="GNCommNotificationBoxClose"><i class="icon-close-x"></i></span></div>
<div class="GNCommNotificationBox" id="GNCommOOPS"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_NotAllowed.svg" style=""/></span><span class="GNCommPleaseVerifyT1">Sorry, something went wrong. </span><span class="GNCommNotificationBoxClose"><i class="icon-close-x"></i></span></div>
<div class="GNCommNotificationBox" id="GNCommSignUpOrLogIn"><span class="GNCommPleaseVerifyIcon"><img class="GNCommNotificationIcon" src="/img/GNComm_Exclaim.svg" style=""/></span><span class="GNCommPleaseVerifyT1">In order to comment you must be a Gates Notes Insider. Please </span><span class="GNCommSignUpOrLogInSU">sign up</span><span class="GNCommPleaseVerifyT1"> or </span><span class="GNCommSignUpOrLogInLI">log in</span><span class="GNCommPleaseVerifyT1"> to continue. </span></div>
</div>
<div id="livefyre"><div class="fyre-widget-loading-spinner"></div></div>
<div class="commentsLocked">
</div>
</div>
<div class="GNCommBeTheFirst">Be the first to leave a comment.</div>
<div class="GNCommReply" id="GNCommReplyBase">
<div class="GNCommReplyPostWrapper">
<div class="GNCommReplyText">
<textarea class="GNCommReplyTA" placeholder="Add a comment…" rows="1" style="overflow: hidden; word-wrap: break-word; height: 25px;"></textarea>
</div>
<span class="GNCommReplyPost">
<svg viewbox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><line class="cls-1" x1="10.5" x2="25.5" y1="18" y2="18"></line><line class="cls-1" x1="18" x2="18" y1="10.5" y2="25.5"></line></svg>
</span>
</div>
</div>
<div class="GNCommFooter" id="GNCommFooterBase" style="display:none;">
<div class="GNCommFooterLike">
<div class="heartDiv"><i class="icon-like-heart-selected"></i></div>
<span class="heartNum"></span>
</div>
<div class="GNCommFooterReply">
<span class="GNCommFooterReplyText">Reply</span>
</div>
<div class="GNCommFooterEdit">
<span class="GNCommFooterEditText">Edit</span>
<div class="GNCommFooterEditMenu">
<div class="GNCommFooterEditMenuArrow"></div>
<div class="GNCommFooterEditMenuEdit">Edit</div>
<div class="GNCommFooterEditMenuDelete">Delete</div>
<div class="GNCommFooterEditMenuWhiteBox"></div>
</div>
</div>
<div class="GNCommFooterFlag">
<span class="GNCommFooterFlagText">Report</span>
</div>
<div class="GNCommWaiting"><span class="GNCommWaitingMessage">posting</span> <span class="GNCommWaitingDots">...</span></div>
</div>
<div class="GNCommFooter" id="GNCommFooterBaseLocked">
<div class="GNCommFooterLocked">
<span class="GNCommFooterLockedIconSpan"><img class="GNCommFooterLockedIcon" src="/img/GNComm_Lock.svg" style=""/></span>
<span class="GNCommFooterLockedText">Comment Locked</span>
<div class="GNComm_LegacyRO_Box">
<div class="GNComm_LegacyRO_Arrow"></div>
<div class="GNComm_LegacyRO_BoxClose"><i class="icon-close-x"></i></div>
<span class="GNComm_LegacyRO_BoxT1">Comments more than 2 months old are locked. For more information, </span>
<span class="GNComm_LegacyRO_BoxT2">contact us.</span>
</div>
</div>
<div class="GNCommFooterFlag">
<span class="GNCommFooterFlagText">Report</span>
</div>
</div>
<div class="GNCommDeleteOverlay">
<div class="GNCommDeleteOverlayWhiteBox">
<div id="GNCommDeleteOverlayClose"><i class="icon-close-x"></i></div>
<div class="GNCommDeleteOverlayTitle">Delete Comment?</div>
<div class="GNCommDeleteOverlayBody">Deleting this comment will remove replies to this comment by you and others as well. This action cannot be undone.</div>
<div class="TGN_PassiveButton" data-content-id="" id="GNCommDeleteOverlayButton">Delete Comment</div>
</div>
</div>
<div class="GNCommFlagOverlay">
<div class="GNCommFlagOverlayWhiteBox">
<div id="GNCommFlagOverlayClose"><i class="icon-close-x"></i></div>
<div class="GNCommFlagOverlayStep1">
<div class="GNCommFlagOverlayTitle">Why do you want to report this comment?</div>
<div class="GNCommFlagOverlayBody">
<div class="GNCommFlagOverlayBodyRow">
<div class="Auth_Comm_checkbox">
<input id="GNCommFlag1" type="checkbox" value="1"/>
</div>
<div class="GNCommFlagOverlayBodyText">It's annoying or not interesting</div>
</div>
<div class="GNCommFlagOverlayBodyRow">
<div class="Auth_Comm_checkbox">
<input id="GNCommFlag2" type="checkbox" value="1"/>
</div>
<div class="GNCommFlagOverlayBodyText">It's abusive and/or vulgar</div>
</div>
<div class="GNCommFlagOverlayBodyRow">
<div class="Auth_Comm_checkbox">
<input id="GNCommFlag3" type="checkbox" value="1"/>
</div>
<div class="GNCommFlagOverlayBodyText">It's spam</div>
</div>
</div>
<div class="TGN_PassiveButton" data-content-id="" data-flag-type="" id="GNCommFlagOverlayButton">Report Comment</div>
</div>
<div class="GNCommFlagOverlayStep2">
<div class="GNCommFlagOverlayTitle">Your report has been submitted.</div>
<div class="TGN_PassiveButton" id="GNCommFlagOverlayButtonClose">Close</div>
</div>
</div>
</div>
<div class="GNCommEditBox" id="GNCommEditBoxBase">
<div class="GNCommEditBoxTextArea">
<textarea class="GNCommEditBoxTA" placeholder="" rows="1" style="overflow: hidden;"></textarea>
</div>
<div class="GNCommEditBoxSave">
        Save
    </div>
<div class="GNCommEditBoxCancel">
        Cancel
    </div>
</div>
<div class="GNCommMessageDisplay" id="GNCommMessageDisplayBase">
<div class="GNCommMessageDisplayLeft">
<div class="GNCommMessageDisplayAvatar">
<img alt="" class="GNCommMessageDisplayAvatarImg" src=""/>
</div>
</div>
<div class="GNCommMessageDisplayRight">
<div class="GNCommMessageDisplayText">
<span class="GNCommMessageDisplayTName"></span>
<span class="GNCommMessageDisplayTMention"></span>
<span class="GNCommDisplayTime"></span>
<span class="GNCommMessageDisplayTBody"></span>
</div>
<div class="GNCommMessageDisplayFooter">
</div>
</div>
</div>
<style>
    #mobart_Art_LISU_Divider {
    display: inline-block;
    margin: 0px;
    color: #949494;
}
    .TGNMag_Art_SI_Holder {
    display: inline-block;
    margin-right: 7px;
    margin-left: 7px;
}
.GNCommMessageDisplayTBody {
    display: block;
    margin-top: -10px;
    font-size: 16px;
    line-height: 20px;
}
.GNCommNotificationIcon {
    max-width: 24px;
    padding: 0px !important;
    margin: 0px !important;
    position: relative;
    top: 5px;
}
    .fyre .fyre-stream-more {
        text-align: center !important;
    }
    .fyre-comment-deleted {
        
    }
.GNCommNotificationBox {
    display: none;
    padding: 0px;
    margin-top: 10px;
    font-size: 16px;
    line-height: 24px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    color: black;
}
    .GNCommPleaseVerifyIcon {
    padding-left: 0px;
    padding-right: 12px;
    font-size: 12px;
}
    .GNCommPleaseVerifyT2 {
    color: #4472C4 !important;
    cursor: pointer;
}
    .GNCommSignUpOrLogInSU {
    color: #4472C4 !important;
    cursor: pointer;
    }
    .GNCommSignUpOrLogInLI {
    color: #4472C4 !important;
    cursor: pointer;
    }
    .GNCommNotificationBoxClose {
    float: right;
    padding-right: 10px;
    color: #999999;
    font-size: 10px;
    cursor: pointer;
}
    .GNCommWaiting {
    margin: 10px;
        margin-top: 0px;
        font-size: 10px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    color: #b0b0b0;
    display:none;
}
.GNComm_LegacyRO_Box {
    background: #f2f1f3;
    min-height: 40px;
    display: block;
    position: absolute;
    left: 37px;
    z-index: 9;
    padding: 12px;
    padding-right: 34px;
    border-radius: 0px;
    max-width: 460px;
        margin-top: 50px;
        display:none;
}
.GNComm_LegacyRO_BoxClose {
    position: absolute;
    right: 6px;
    top: 6px;
    cursor: pointer;
    display:none;
}
.GNComm_LegacyRO_BoxT1 {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-size: 14px;
    line-height: 18px;
    font-weight: 400;
    font-style: normal;
    color: #000000 !important;
    text-transform: none;
}
.GNComm_LegacyRO_BoxT2 {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-size: 14px;
    line-height: 18px;
    font-weight: 400;
    font-style: normal;
    color: #4472C4 !important;
    cursor: pointer;
    text-transform: none;
}

.GNComm_LegacyRO_Arrow {
    background: #f2f1f3;
    height: 16px;
    width: 16px;
    position: absolute;
    margin-left: 12px;
        margin-top: -18px;
    -webkit-transform: rotate(45deg);
    -moz-transform: rotate(45deg);
    -o-transform: rotate(45deg);
    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=5);
}
.GNCommFooterLocked:hover {
    color:#000000;
}
        .fyre-comment-article
        {
                width: 100%;
                margin-top:32px;
        }
.fyre .fyre-comment-replies-indent .fyre-comment-article {
    margin-top: 22px;
    border-left: 1px solid #a4a4a4;
    padding-left: 15px;
}
.fyre a {
    background: none;
    border: none;
    color: #0049fb;
    text-decoration: none;
}
.fyre a:hover {
    background-color: #0049fb;
    color: white;
    text-decoration: none;
}
    .GNCommFooterLocked {
    display: flex;
    align-items: center;
    justify-content: flex-start;
}
.GNCommFooterLockedIcon {
    display: inline-block;
    height: 20px;
    opacity: .3;
    position: relative;
    top: -2px;
}
.GNCommFooterLockedIconSpan {
    margin-left:-6px;
    font-size: 18px;
    margin-right: 0px;
}
.GNCommFooterLockedText {
    margin-right: 20px;
}
    .GNCommFooterFlagIcon {
    display: block;
    height: 12px;
    opacity: .3;
    position: relative;
    top: 2px;
}
    .GNCommFooterFlagIcon:hover {
    opacity: 1;
}
    ::-webkit-input-placeholder { /* WebKit, Blink, Edge */
    color:    #D9D9D9;
}
:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
   color:    #D9D9D9;
   opacity:  1;
}
::-moz-placeholder { /* Mozilla Firefox 19+ */
   color:    #D9D9D9;
   opacity:  1;
}
:-ms-input-placeholder { /* Internet Explorer 10-11 */
   color:    #D9D9D9;
}
::-ms-input-placeholder { /* Microsoft Edge */
   color:    #D9D9D9;
}
    .GNComm_SignIn_Title {
    font-size: 26px;
        line-height: 32px;
    margin-bottom: 36px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    font-style: normal;
}
    .GNComm_SignIn_BodyArea {
    display: block;
    margin: auto;
    max-width: 400px;
    margin-top: 20px;
    margin-bottom: 20px;
}
    .GNComm_SignIn_Body {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    font-size: 14px;
    letter-spacing: 0;
    line-height: 19px;
}
    .GNComm_SignIn_BodyLink {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    font-size: 14px;
    letter-spacing: 0;
    line-height: 19px;
    color: #3379be;
    cursor:pointer;
}
    .GNComm_SignIn_Arrows1 {
    font-size: 25px;
    display: block;
}
    .GNComm_SignIn_Arrows2 {
    font-size: 23px;
    display: block;
    margin-top: -14px;
}
    .fyre-notifier-container {
    display: none !important;
    }
    .fyre-comment-user {
    display: none !important;
}
    .fyre-comment-head {
    display: none !important;
}
    .fyre-comment-body {
    display: none !important;
}
    .fyre-stream-refresh {
    display: none !important;
    }
    .fyre .fyre-stream-content-not-found {
    font-size: 14px !important;
}
    .fyre-thread-breakout-stream {
    padding-left: 10px;
    padding-bottom: 30px;
}
    .GNCommMessageDisplay {
    color: black !important;
    font-size: 18px !important;
        font-family: Lusitana,serif;
    font-weight: normal !important;
    font-style: normal !important;
    line-height: 21px;
        display: flex;
    align-items: center;
    justify-content: flex-start;
    margin-top: 0px;
}
    .GNCommMessageDisplayLeft {
    height: 100%;
    min-width: 30px;
    min-height: 30px;
    max-width: 30px;
    margin-right: 10px;
    display: block;
}
    img.GNCommMessageDisplayAvatarImg {
    background: gray;
    width: 30px;
    height: 30px;
    border-radius: 3000px;
}
    .GNCommMessageDisplayRight {
    height: 100%;
    min-height: 20px;
    min-width: 200px;
    display: block;
    position: relative;
    top: -30px;
    left: 48px;
    width: 91%;
}
    .GNCommMessageDisplayTName {
    color: black;
    margin-right: 3px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-size: 16px;
    line-height: 20px;
    font-weight: 500;
}
    .GNCommMessageDisplayTCol {
    font-size: 14px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    color:#2A2A2A;
}
    .GNCommMessageDisplayTMention {
    color: #2A2A2A !important;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 300;
    font-size: 16px;
    display:none;
    margin-left:-3px;
}
    .GNCommFooterFlagText {

    }
    .GNCommMessageDisplayTMCol {
    color: #3379be !important;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 400;
    font-size: 12px;
    display:none;
    }
    .GNCommEditBox {
    margin-top: -33px;
}
    .GNCommEditBoxTextArea {
    border: 1px #d5d5d5 solid;
    border-radius: 0px;
    margin-left: 43px;
    margin-top: 4px;
    margin-bottom: 4px;
    padding: 10px;
    min-height: 54px;
    
        box-sizing: border-box;
        color: #b0b0b0;
        display: flex;
        flex-basis: 0%;
        flex-grow: 1;
        flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
        font-weight: 200;
        line-height: 24px;
        text-size-adjust: 100%;
        -webkit-box-flex: 1;
        -webkit-font-smoothing: antialiased;
}
        .GNCommEditBoxTextArea > textarea {
            background-attachment: scroll;
            background-clip: border-box;
            background-color: rgba(0, 0, 0, 0);
            background-image: none;
            background-origin: padding-box;
            background-position-x: 0%;
            background-position-y: 0%;
            background-size: auto;
            border-bottom-color: #b0b0b0;
            border-bottom-style: none;
            border-bottom-width: 0px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: #b0b0b0;
            border-left-style: none;
            border-left-width: 0px;
            border-right-color: #b0b0b0;
            border-right-style: none;
            border-right-width: 0px;
            border-top-color: #b0b0b0;
            border-top-style: none;
            border-top-width: 0px;
            box-sizing: border-box;
            color: #2a2a2a !important;
            cursor: auto;
            display: block;
            flex-basis: 0%;
            flex-direction: column;
            flex-grow: 1;
            flex-shrink: 1;
            font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
        font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
        font-size: 14px;
            font-stretch: normal;
            font-style: normal;
            font-variant-caps: normal;
            font-variant-ligatures: normal;
            font-variant-numeric: normal;
            font-weight: 400;
            height: 25px;
            letter-spacing: normal;
            line-height: normal;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 5px;
            min-height: 25px;
            overflow-x: hidden;
            overflow-y: hidden;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 0px;
            resize: none;
            text-align: start;
            text-indent: 0px;
            text-rendering: auto;
            text-shadow: none;
            text-size-adjust: 100%;
            text-transform: none;
            user-select: text;
            white-space: pre-wrap;
            word-spacing: 0px;
            word-wrap: break-word;
            writing-mode: horizontal-tb;
            -webkit-appearance: none;
            -webkit-box-flex: 1;
            -webkit-font-smoothing: antialiased;
            -webkit-border-image: none;
            -webkit-rtl-ordering: logical;
        border: none;
    overflow: auto;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;
        }
    .GNCommMessageDisplayTBody p {
    display: inherit;
}
    .GNCommEditBoxTA {
    display: inline-block;
    border: 0px black solid;
    line-height: normal;
    resize: none;
    font-family: Lusitana, serif;
    font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
    font-size: 16px;
    font-stretch: normal;
    font-style: normal;
    font-variant-caps: normal;
    font-variant-ligatures: normal;
    font-variant-numeric: normal;
    font-weight: 400;
    letter-spacing: normal;
    width: 100%;
    color: #b0b0b0;
    overflow: hidden !important;
    word-wrap: normal;
    height: 25px;
    min-height: 25px;
    border: none;
    overflow: auto;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;
    margin-top: 0px;
}
    .GNCommEditBoxSave {
    display: inline-block;
    position: relative;
    left: 46px;
    cursor: pointer;
}
    .GNCommEditBoxCancel {
    display: inline-block;
    position: relative;
    left: 50px;
    cursor: pointer;
}
.GNCommBeTheFirst {
    text-align: center;
    margin: 10px;
    color: #b0b0b0;
    font-size: 14px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
    font-style: normal;
    display: none;
    margin-top: -50px;
    margin-bottom: 80px;
}
    span.GNCommMention {
    display: inline-block;
    float: left;
    color: #3379be !important;
    float: left !important;
    margin-top: 3px !important;
    margin-right: 5px !important;
    font-size: 12px !important;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
    font-style: normal !important;
    line-height: 18px;
}
.GNCommDeleteOverlay {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,.4);
    z-index: 40;
        display: none;
}
.GNCommDeleteOverlayWhiteBox {
    display: block;
    background: white;
    margin: 20%;
        text-align: center;
}
#GNCommDeleteOverlayClose {
    display: flex;
    float: right;
    cursor: pointer;
    width: 40px;
    height: 40px;
    align-items: center;
    justify-content: center;
}
.GNCommDeleteOverlayTitle {
    display: block;
    font-size: 26px;
    margin-bottom: 36px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    clear: both;
    margin-top: 40px;
}
.GNCommDeleteOverlayBody {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    color: #666;
    display: block;
    margin-left: auto;
    width: 60%;
    margin-bottom: 36px;
    margin-right: auto;
}
#GNCommDeleteOverlayButton {
}
#GNCommDeleteOverlayButton:hover {
}
.Auth_Comm_checkbox {
    display: block;
    margin-right: 10px;
    text-align: center;
}
.GNCommFlagOverlay {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,.4);
    z-index: 40;
        display: none;
}
.GNCommFlagOverlayWhiteBox {
    display: block;
    background: white;
    margin: 20%;
        text-align: center;
}
#GNCommFlagOverlayClose {
    display: flex;
    float: right;
    cursor: pointer;
    width: 40px;
    height: 40px;
    align-items: center;
    justify-content: center;
}
.GNCommFlagOverlayTitle {
    display: block;
    font-size: 26px;
    margin-bottom: 36px;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
    font-style: normal;
    clear: both;
    margin-top: 40px;
    max-width: 80%;
    margin-left: auto;
    margin-right: auto;
}
.GNCommFlagOverlayBody {
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-style: normal;
    color: #666;
    display: table;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 16px;
    text-align: left;
}
.GNCommFlagOverlayBodyText {
    display: inline-block;
    height: 20px;
    position: relative;
    top: -1px;
    font-weight: 400;
    color: black;
}
#GNCommFlagOverlayButton {
}
#GNCommFlagOverlayButton:hover {
}
#GNCommFlagOverlayButtonClose {
}
#GNCommFlagOverlayButtonClose:hover {
}
.GNCommFlagOverlayStep1 {

}
.GNCommFlagOverlayStep2 {
    display:none;
}
.GNCommFlagOverlayBodyRow {
    display: flex;
    height: 34px;
}
    .GNCommFooterEditMenu {
    position: absolute;
    height: 60px;
    width: 50px;
    background: white;
    border: 1px solid #d3d3d3;
    text-align: center;
    padding: 4px;
    line-height: 23px;
    margin-left: -14px;
    display:none;
        margin-top: -100px;
            cursor: default;
}
    .GNCommFooterEditMenuEdit {
    cursor: pointer;
}
    .GNCommFooterEditMenuDelete {
    cursor: pointer;
}
.GNCommFooterEditMenuWhiteBox {
    position: absolute;
    background: white;
    height: 15px;
    width: 100%;
    margin-left: -4px;
    margin-top: 3px;
}
.GNCommFooterEditMenuArrow {
    background: white;
    height: 16px;
    width: 16px;
    position: absolute;
    margin-left: 12px;
        margin-top: 55px;
    border: 1px solid #d3d3d3;
    -webkit-transform: rotate(45deg);
    -moz-transform: rotate(45deg);
    -o-transform: rotate(45deg);
    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=5);
}
    #GNCommReplyBase {
    display: none;
}
    #GNCommEditBoxBase {
    display: none;
}
    #GNCommMessageDisplayBase {
        display: none;
    }
    #GNCommFooterBase {
    display: none;
}
    #GNCommFooterBaseLocked {
    display: none;
}
    .fyre .fyre-comment-footer {
        display: none !important;
    }
    time.fyre-comment-date {
    display: none !important;
}
    .fyre-comment-wrapper {
    margin-top: 25px;
    display: block;
}
.GNCommFooter {
    cursor: pointer;
    margin-left: 49px;
    margin-top: -18px;
    margin-bottom: 4px;
    color: #838383;
    font-family: 'Roboto Condensed', 'Asap Condensed', 'neue-haas-unica', sans-serif;
    text-transform: uppercase;
    font-size: 12px;
    line-height: 12px;
    margin-right: 14px;
    letter-spacing: .2px;
    align-items: center;
    justify-content: flex-start;
}
    .GNCommFooterLike {
    display: inline-block;
        margin-right: 20px;
}
    .GNCommFooterLike:hover
    {
        color: #000000;
    }
    .GNCommFooterReply {
    display: inline-block;
        margin-right: 20px;
}
    .GNCommFooterReply:hover
    {
        color: #000000;
    }
    .GNCommFooterEdit {
    display: inline-block;
        margin-right: 20px;
}
    .GNCommFooterEditText:hover
    {
        color: #000000;
    }
    .GNCommFooterEditMenuEdit:hover
    {
        color: #000000;
    }
    .GNCommFooterEditMenuDelete:hover
    {
        color: #000000;
    }
.GNCommDisplayTime {
    display: inline-block;
    cursor: context-menu;
    font-weight: 300;
    font-style: normal;
    margin-left: 5px;
    color: #949494;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
font-size: 13px;
    line-height: 20px;
}
    .GNCommDisplayTime:hover
    {
    }
    .GNCommFooterFlag {
    display: inline-block;
}
    .GNCommFooterFlag:hover
    {
        color: #000000;
    }
span.heartNum {
    line-height: 18px;
    margin-left: 4px;
}



    .fyre-modal-alert-black {
            display: none !important;
    }
    .fyre .fyre-comment-actions span {
            display: none !important;
}
    .fyre.fyre-width-small .fyre-comment-container .fyre-comment-replies-indent .fyre-user-avatar
    {
        -webkit-border-radius: 50% !important;
        -moz-border-radius: 50% !important;
        -ms-border-radius: 50% !important;
        -o-border-radius: 50% !important;
        border-radius: 50% !important;
    }
    .fyre .fyre-comment-actions {
    float: none;
    display: inline-block;
    font-size: 11px;
    margin-top: 0px;
    text-align: left;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-size: 10.5px;
    line-height: 14px;
    color: #d3d3d3;
}
    .fyre .fyre-comment-like-count {
    font-size: 11px;
    text-decoration: none;
    line-height: 30px;
    margin-left: 2px;
}
/*.GNCommReplyPost {
    position: absolute;
    right: 6px;
    width: 30px;
    cursor: pointer;
        margin-top: -30px;
}
.GNCommReply {
    border: 1px #d5d5d5 solid;
    border-radius: 0px;
    margin-left: 43px;
    margin-top: 4px;
    margin-bottom: 4px;
    padding: 10px;
    height: 54px;
}
.GNCommReplyText {
    display: inline-block;
    margin-top: -10px;
    position: absolute;
    width: 70%;
    height: 30px;
}
.GNCommReplyTA {
    display: inline-block;
    line-height: 40px;
    resize: none;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-feature-settings: 'kern' 1, 'liga' 1, 'pnum' 1;
    font-size: 14px;
    font-stretch: normal;
    font-style: normal;
    font-variant-caps: normal;
    font-variant-ligatures: normal;
    font-variant-numeric: normal;
    font-weight: 400;
    letter-spacing: normal;
    width: 100%;
            color: #2a2a2a !important;
        overflow: hidden !important;
    word-wrap: normal;
    height: 50px !important;
    min-height: 50px !important;
        border: none;
    outline: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;

    
            background-attachment: scroll;
            background-clip: border-box;
            background-color: rgba(0, 0, 0, 0);
            background-image: none;
            background-origin: padding-box;
            background-position-x: 0%;
            background-position-y: 0%;
            background-size: auto;
            border-bottom-color: #b0b0b0;
            border-bottom-style: none;
            border-bottom-width: 0px;
            border-image-outset: 0px;
            border-image-repeat: stretch;
            border-image-slice: 100%;
            border-image-source: none;
            border-image-width: 1;
            border-left-color: #b0b0b0;
            border-left-style: none;
            border-left-width: 0px;
            border-right-color: #b0b0b0;
            border-right-style: none;
            border-right-width: 0px;
            border-top-color: #b0b0b0;
            border-top-style: none;
            border-top-width: 0px;
            box-sizing: border-box;
            cursor: auto;
            display: block;
            flex-basis: 0%;
            flex-direction: column;
            flex-grow: 1;
            flex-shrink: 1;
            margin-bottom: 0px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 5px;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            padding-top: 0px;
            text-align: start;
            text-indent: 0px;
            text-rendering: auto;
            text-shadow: none;
            text-size-adjust: 100%;
            text-transform: none;
            user-select: text;
            white-space: pre-wrap;
            word-spacing: 0px;
            writing-mode: horizontal-tb;
            -webkit-appearance: none;
            -webkit-box-flex: 1;
            -webkit-font-smoothing: antialiased;
            -webkit-border-image: none;
            -webkit-rtl-ordering: logical;
}*/


    /*.fyre-mention-button {
    display: none !important;
}

    .fyre-share-button {
    display: none !important;
}

    .goog-toolbar-separator {
    display: none !important;
    }*/

    .fyre-live-container
    {
        display: none;
    }

    .fyre-stream-stats
    {
        display: none;
    }

    .fyre-stream-header
    {
        display: none;
    }

    .fyre-auth
    {
        display: none;
    }

    .fyre-comment-actions
    {
    }

    .fyre-hovercard-body
    {
        display: none;
    }

    .fyre-hovercard-arrow
    {
        display: none;
    }

    b.commentName
    {
        display: none;
    }

    section.fyre-comment-body
    {
    }

    span.fyre-comment-like-imgs
    {
        display: none;
    }

    .fyre-comment-divider
    {
        display: none;
    }

    .fyre .fyre-comment-replies-indent
    {
        margin-left: 46px;
    }

    .fyre-editor-toolbar
    {
        display: none;
    }

    a.fyre-mention.fyre-mention-livefyre
    {
        color: #868686 !important;
        float: left !important;
        margin-top: 0px !important;
        font-size: 12px !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        line-height: 18px;
        margin-left: 2px;
    }

    .fyre-editor .fyre-editor-container .fyre-editor-editable > p *
    {
        color: #868686 !important;
        float: left !important;
        margin-top: 0px !important;
        font-size: 12px !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        line-height: 18px !important;
        margin-left: 2px;
    }

    .fyre-editor .fyre-editor-container .fyre-editor-editable > p
    {
        color: #2a2a2a !important;
        float: left !important;
        margin-top: 0px !important;
        font-size: 12px !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        line-height: 18px !important;
        margin-left: 2px;
    }

    .fyre-comment-edit {
        display: none !important;
    }

    .fyre .fyre-comment-reply
    {
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
        font-size: 10.5px;
        line-height: 14px;
        color: #d3d3d3;
            position: inherit;
    top: 0px;
    padding: 0px;
    }

    .fyre .fyre-comment-actions a.fyre-delete-link
    {
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
        font-size: 10.5px;
        line-height: 14px;
        color: #d3d3d3;
    }

    .fyre-editor-field[placeholder]:empty:before
    {
        content: attr(placeholder);
        color: #d3d3d3;
        font-size: 11px;
    }

    .placeholderComment[placeholder]:empty:before
    {
        content: attr(placeholder);
        color: #d3d3d3;
        font-size: 11px;
    }

    .placeholderComment[placeholder]:empty:focus:before
    {
        content: "";
    }

    .fyre-editor
    {
        margin-top: 0px !important;
    }
    /*
    .fyre-editor-field {
        overflow: hidden !important;
        word-wrap: break-word !important;
        flex: 1 !important;
    }
    */
    .fyre-editor-editable
    {
        /*
        overflow: hidden !important;
        word-wrap: break-word !important;
        flex: 1 !important;
        */
        font-size: 13px !important;
        font-family: Lusitana, serif !important;
        border-radius: 5px !important;
        /* height: 50px; */
        line-height: 18px !important;
        font-style: normal;
        font-weight: normal;
        padding-right: 35px !important;
    }

    .fyre-editor-container
    {
        /* height: 50px; */
        margin-bottom: 23px;
        display:none !important;
    }

    .fyre-editor .fyre-editor-container .fyre-editor-editable
    {
        background: #fff;
        border: 1px solid #e8e8e8;
        padding: 10px 5px 10px 9px;
        /* display: flex; */
        transition: border-color 400ms ease-in-out;
        line-height: 16px;
        box-shadow: none;
        height: 50px !important;
        /* height: auto; */
    }

    .fyre-post-button-new
    {
        background: #fff !important;
        border: none !important;
        margin-top: -90px !important;
        font-size: 30px !important;
        color: rgb(112, 112, 112) !important;
    }

    .fyre-post-button-reply
    {
        background: #fff !important;
        border: none !important;
        margin-top: -40px !important;
        font-size: 20px !important;
        color: rgb(112, 112, 112) !important;
            position: absolute;
    right: 0px;
    top: 53px;
    }

    .fyre-comment-date
    {
        margin-left: 0px !important;
    }



    .fyre .fyre-comment-head, .fyre .fyre-comment-body
    {
        margin-left: 40px;
    }

    .fyre .fyre-listener-avatars img
    {
        border-radius: 50%;
    }

    .fyre .fyre-comment-user img.fyre-user-avatar
    {
        border-radius: 50%;
        height: 30px;
        width: 30px;
    }

    .fyre .fyre-avatar img
    {
        border-radius: 50%;
    }

    .heartSVG
    {
        box-sizing: border-box;
        color: #d3d3d3 !important;
        cursor: pointer;
        display: block;
        font-size: 11px !important;
        font-weight: 300 !important;
        line-height: 18px !important;
        height: 18px !important;
        width: auto !important;
    }

    .likedComment
    {
        fill: #2d2d2d;
    }

    .heartDiv
    {
        float: left;
        color: #838383;
    font-size: 16px;
    }
    .heartDiv:hover
    {
        color: #e15b6c;
    }
    .heartDiv.on
    {
        color: #e15b6c;
    }

    .fyre-editor-bottom-container
    {
        margin-right: auto;
        margin-left: auto;
        max-width: 960px;
    }

    .fyre-buttonM
    {
        margin-top: 21px !important;
        padding-top: 2px !important;
        background-color: black !important;
        border-color: white !important;
        color: white !important;
        height: 40px !important;
        line-height: 37px !important;
        border-radius: 0px;
        margin-left: 5px !important;
        margin-right: 5px !important;
        cursor: pointer !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        font-size: 14px !important;
    }

    .fyre-buttonT
    {
        padding-top: 0px !important;
        color: white !important;
        border-radius: 0px;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 600;
        font-style: normal !important;
        font-size: 13px !important;
        line-height: 42px;
        padding-bottom: 2px !important;
        transition: background-color 150ms ease;
        background-color: #2d2d2d;
        padding-left: 24px;
        padding-right: 24px;
    }
    .fyre-buttonT:hover
    {
        background-color: black !important;
    }

    .livefyre-tablet
    {
        max-width: 960px;
        margin-right: auto;
        margin-left: auto;
        padding-left: 20px;
        padding-right: 20px;
    }

    .livefyre-tablet-close
    {
        position: absolute;
        width: 20px;
        height: 20px;
        top: 20px;
        font-size: 16px;
        right: 25px;
        color: black;
        cursor: pointer;
    }

    .fyre-comment-user
    {
        position: relative !important;
            pointer-events: none;
    }

    .fyre-comment-head
    {
        margin-top: -37px !important;
    }

    .fyre-comment-footer
    {
        margin-top: -6px !important;
        margin-bottom: 0px !important;
        padding-top: 0px !important;
        padding-bottom: 0px !important;
        text-align: left !important;
        margin-left: 41px !important;
        margin-bottom: 23px !important;
    }

    .commentName
    {
        font-size: 11px;
    }

    .fyre-comment-username
    {
        color: #868686 !important;
        float: left !important;
        margin-top: 3px !important;
        margin-right: 5px !important;
        font-size: 12px !important;
        font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif !important;
    font-weight: 300;
        font-style: normal !important;
        line-height: 18px;
    }

    .fyre .fyre-moderator, .fyre .fyre-comment-author-tag
    {
        background-color: black;
    }

    .fyra a
    {
    }

    .fyre-comment-reply
    {
    }

    .fyre-comment-action-button
    {
    }

    .fyre .fyre-comment a
    {
    }
    .fyre .fyre-comment-stream {
    padding-left: 0px;
}
    .fyre .fyre-comment-actions a.fyre-share-link {
    display: none;
}
    .fyre .fyre-comment-actions {
        opacity:1;
    }

    .fyre-comment-body .fyre-comment
    {
        margin-top: 3px !important;
    }

    .fyre .fyre-comment p
    {
        font-size: 13px !important;
        font-family: Lusitana, serif !important;
        font-style: normal;
        font-weight: normal;
        line-height: 18px;
        color: #a2a2a2;
    }

    .fyre-button-right-inner-box
    {
        color: #d3d3d3 !important;
    }

    .spaceDotSpan {
    position: inherit;
    display: inline-block;
    font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-size: 10.5px;
    line-height: 14px;
    color: #d3d3d3;
    padding: 0px 8px 0px 8px;
}

    .goog-inline-block .fyre-button-right-outer-box
    {
        padding-right: 10px !important;
        margin-right: 5px !important;
    }

    @media only screen
    {
        fyre-comment-reply
        {
            border: 0 !important;
        }
        /*
        .fyre .fyre-comment-action-button {
            text-align: center;
            height: 17px;
            line-height: 17px;
            min-width: 16px;
            padding: 5px 0px 5px 0px;
            background-color: none;
            background-image: none !important;
            filter: none !important;
            border: none !important;
            font-size: 11px;
            font-weight: normal;
            color: #d3d3d3 !important;
        }

        .fyre .fyre-comment-action-button:hover {
            border: none !important;
            background-color: none !important;
            background-image: none !important;
            filter: none !important;
        }
           */
        .fyre .fyre-comment-like
        {
            color: #d3d3d3 !important;
            display: inline-block;
                position: inherit;
    top: 0px;
        padding: 0 0px 0 0;
        }

        .fyre .fyre-comment-date
        {
                font-family: 'HelveticaNeueW01-45Ligh','neue-haas-unica', sans-serif;
    font-weight: 200;
    font-size: 10.5px;
    line-height: 14px;
    position: inherit;
    top: 0px;
    padding: 0px;
            color: #d3d3d3 !important;
        }
        /*
        .fyre .fyre-editor-toolbar .goog-toolbar > div.fyre-button-right.fyre-post-button .fyre-button-right-inner-box {
            text-align: right !important;
        }

        .placeholderComment[placeholder]:empty:before {
            content: attr(placeholder);
            color: #d3d3d3;
            font-size: 11px;
        }

        .placeholderComment[placeholder]:empty:focus:before {
            content: "";
        }
            */

    }

    @media all and (max-width: 980px)
    {
        .GNCommFlagOverlayBody {
}
.GNComm_LegacyRO_BoxClose {
    display:block;
}
.GNComm_LegacyRO_Box {
    min-height: 40px;
    padding: 18px;
    border-radius: 0px;
    max-width: 420px;
        margin-top: 70px;
}
.GNComm_LegacyRO_BoxT1 {
    font-size: 14px;
}
.GNComm_LegacyRO_BoxT2 {
    font-size: 14px;
}

.GNComm_LegacyRO_Arrow {
        margin-top: -25px;
}
    }

    @media all and (max-width: 680px)
    {
 .GNCommFlagOverlayWhiteBox {
    margin: 18px;
}       
 .GNCommDeleteOverlayWhiteBox {
    margin: 18px;
}       
    .GNCommMessageDisplayRight {
    width: 80%;
}
        .GNCommFlagOverlay {

}
        .GNCommFlagOverlayBody {
}
        #GNCommFlagOverlayButton {
}
        #GNCommFlagOverlayButtonClose {
}
    }

    @media all and (max-width: 480px)
    {
        .GNCommFlagOverlayWhiteBox {
}
        .GNCommReplyText {
    width: 70%;
}
        .fyre .fyre-comment-footer
        {
            float: left;
            clear: both;
        }

        .fyre-comment-article
        {
            float: left;
        }
        .fyre-comment-article {
    margin-top: 19px;
}
        .fyre .fyre-comment-replies-indent .fyre-comment-article {
    margin-top: 0px;
}
    }
</style>
<script type="text/javascript">
    var GNCommOverLocked = false;
    var GNCommSetFooterState = "";
    var GNCommShowLegacyState = "";
    //   http://studio.livefyre.com/BGC3.fyre.co/homexx
    function autoGrowTextArea(textField) {
        var cHeight = textField.prop('clientHeight');
        var sHeight = textField.prop('scrollHeight');
        if (cHeight < sHeight) {
            textField.height(sHeight);
            if (textField.prop('clientHeight') < textField.prop('scrollHeight')) {
                var newHeight = textField.prop('scrollHeight') * 2 - textField.prop('clientHeight');
                textField.height(newHeight);
            }
        }
    }

    function elementSupportsAttribute(element, attribute) {
        var test = document.createElement(element);
        if (attribute in test) {
            return true;
        } else {
            return true; //false;
        }
    };


    // [name] is the name of the event "click", "mouseover", ..
    // same as you'd pass it to bind()
    // [fn] is the handler function
    $.fn.bindFirst = function (name, fn) {
        // bind as you normally would
        // don't want to miss out on any jQuery magic
        this.on(name, fn);

        // Thanks to a comment by adding support for
        // namespaced events too.
        this.each(function () {
            var handlers = $._data(this, 'events')[name.split('.')[0]];
            // take out the handler we just inserted from the end
            var handler = handlers.pop();
            // move it at the beginning
            handlers.splice(0, 0, handler);
        });
    };
    function GNComm_htmlEncode(value) {
        //create a in-memory div, set it's inner text(which jQuery automatically encodes)
        //then grab the encoded contents back out.  The div never exists on the page.
        value = value.split(";").join("&#59;");//.replace(";", "&#59;");
        value = value.split("%").join("&#37;");//.replace("%", "&#37;");
        return $('<div/>').text(value).html();
    }
    function addGNLFFooter() {
        $(".fyre-comment-body").each(function () {
            if ($(this).closest(".fyre-comment-article").is(':visible')) {
                if (!$(this).hasClass("hasGNLFFooter")) {
                    //console.log("GNComm:addGNLFFooter");
                    // test date to sort Legacy Locked from Normal comments
                    var commentStyle = "New";
                    var dateText = $(this).parent().find("time.fyre-comment-date").text();
                    //var dateText = "Apr 3, 2017";
                    var dateDate = new Date();
                    try {
                        dateDate = $.datepicker.parseDate("M dd, yy", dateText);
                        //console.log("valid date");
                    } catch (e) {
                        //console.log("invalid date");
                    }
                    var GNCtoday = new Date();
                    var CutOffDay = new Date().setDate(GNCtoday.getDate() - 60); //$.datepicker.parseDate("M dd, yy", "Sep 29, 2017");
                    if (CutOffDay < dateDate) {
                        commentStyle = "New";
                    } else {
                        commentStyle = "Legacy";
                    }
                    $(this).addClass("hasGNLFFooter");
                    if (commentStyle == "New") {
                        // New Active Comments

                        // Reply
                        $("#GNCommReplyBase").clone(false).attr("id", "GNCommReply" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $("#GNCommEditBoxBase").clone(false).attr("id", "GNCommEditBox" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $("#GNCommFooterBase").clone(false).attr("id", "GNCommFooter" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $("#GNCommMessageDisplayBase").clone(false).attr("id", "GNCommMessageDisplay" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $(document).on('click', '.GNCommReplyPost', function (event) {
                            //console.log("id: " + $(this).parent().attr("id"));
                            if (currentUserData.IsApproved != "false") {
                                $(this).closest(".fyre-comment-article").find(".GNCommWaiting").css("display", "block");
                                GNCommReplyPost($("#GNCommReply" + $(this).closest(".fyre-comment-article").attr("data-message-id")).find(".GNCommReplyTA").val(), $(this).closest(".fyre-comment-article").attr("data-message-id"));
                            }
                        });

                        $(".GNCommFooterReply").unbind().click(function (event) {
                            GNCommHideNotifications();
                            if (isGNILoggedIn()) {
                                //console.log("Reply: " + $(this).parent().attr("id"));
                                //console.log("Reply: " + $(this).parent().parent().find(".GNCommReply").attr("id"));
                                if ($(this).parent().parent().find(".GNCommReply").is(':visible')) {
                                    $(this).parent().parent().find(".GNCommReply").css("display", "none");
                                    $(this).parent().parent().find(".GNCommReplyTA").val("");
                                } else {
                                    $(this).parent().parent().find(".GNCommReply").css("display", "block");
                                }
                            } else {
                                if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                                    // user logged in to GNI but not verified
                                    var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + $(this).closest(".fyre-comment-article").attr("data-message-id") + "']");
                                    //GNCommFoundItem.find(".GNCommWaiting").first().css("color", "#890d0d");
                                    //GNCommFoundItem.find(".GNCommWaiting").first().css("display", "block");
                                    //GNCommFoundItem.find(".GNCommWaitingDots").first().css("display", "none");
                                    //GNCommFoundItem.find(".GNCommWaitingMessage").first().html("Please verify your email in order to make comments.");
                                    GNCommFoundItem.find(".GNCommReply").first().after($("#GNCommPleaseVerify"));
                                    $("#GNCommPleaseVerify").css("display", "block");
                                } else {
                                    var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + $(this).closest(".fyre-comment-article").attr("data-message-id") + "']");
                                    GNCommFoundItem.find(".GNCommReply").first().after($("#GNCommSignUpOrLogIn"));
                                    $("#GNCommSignUpOrLogIn").css("display", "block");
                                }
                            }
                        });
                        $(document).on('keyup', '.GNCommReplyText', function (event) {
                            if ($(this).is(':visible')) {
                                var key = event.which;
                                if (key == 13) {
                                    //console.log("Reply id: " + $(this).parent().attr("id"));
                                    if (currentUserData.IsApproved != "false") {
                                        $(this).closest(".fyre-comment-article").find(".GNCommWaiting").css("display", "block");
                                        GNCommReplyPost($("#GNCommReply" + $(this).closest(".fyre-comment-article").attr("data-message-id")).find(".GNCommReplyTA").val(), $(this).closest(".fyre-comment-article").attr("data-message-id"));
                                    }
                                    event.stopPropagation();
                                }
                                else {
                                    autoGrowTextArea2($(this).find(".GNCommReplyTA"));
                                    event.stopPropagation();
                                }
                            }
                        });
                        $(document).on('keyup', '.GNCommEditBoxTextArea', function (event) {
                            if ($(this).is(':visible')) {
                                //console.log("edit id: " + $(this).parent().attr("id"));
                                autoGrowTextArea2($(this).find(".GNCommEditBoxTA"));
                            }
                        });

                        // Like
                        $(".GNCommFooterLike").unbind().click(function (event) {
                            if (isGNILoggedIn()) {
                                //console.log("Like: " + $(this).parent().attr("id") + " : " + $(this).parent().parent().parent().find(".fyre-comment-like-btn:first").text());
                                if ($(this).parent().parent().parent().find(".fyre-comment-like-btn:first").text() == "Like") {
                                    // check if user is trying to like their own comment
                                    if ($(this).parent().parent().parent().attr("data-author-id") == GNCommUserId + "@gatesnotes.fyre.co") {
                                        // tell user they can't like their own thing
                                        //console.log("tell user they can't like their own thing");
                                    } else {
                                        GNCommLike($(this).parent().parent().parent().attr("data-message-id"));
                                        $(this).find(".heartNum").attr("data-manual-set", "true");
                                        $(this).find(".heartDiv").addClass("on");
                                        // adjust heart num up one
                                        if ($(this).find(".heartNum").text() == "") {
                                            $(this).find(".heartNum").html(1);
                                        } else {
                                            var GNCommHN = parseInt($(this).find(".heartNum").text(), 10);
                                            $(this).find(".heartNum").html(GNCommHN + 1);
                                        }
                                    }
                                } else {
                                    // test for prev like and Unlike if so
                                    GNCommDisLike($(this).parent().parent().parent().attr("data-message-id"));
                                    $(this).find(".heartNum").attr("data-manual-set", "true");
                                    $(this).find(".heartDiv").removeClass("on");
                                    // adjust heart num down one
                                    if ($(this).find(".heartNum").text() == "1") {
                                        $(this).find(".heartNum").html("");
                                    } else {
                                        var GNCommHN = parseInt($(this).find(".heartNum").text(), 10);
                                        $(this).find(".heartNum").html(GNCommHN - 1);
                                    }
                                }
                            }
                        });

                        // Edit Delet
                        $(".GNCommFooterEditText").unbind().click(function (event) {
                            //console.log("EditMenu: " + $(this).parent().parent().attr("id"));
                            GNCommHideNotifications();
                            if ($(this).parent().parent().find(".GNCommFooterEditMenu").is(':visible')) {
                                $(this).parent().parent().find(".GNCommFooterEditMenu").css("display", "none");
                            } else {
                                $(this).parent().parent().find(".GNCommFooterEditMenu").css("display", "block");
                            }
                        });
                        function GNCommHideEditBox(elem) {
                            elem2 = elem.closest(".fyre-comment-wrapper");
                            elem2.find(".GNCommMessageDisplayRight").css("display", "block");
                            elem2.find(".GNCommMention").css("display", "inline-block");
                            elem2.find(".fyre-comment-body").css("display", "block");
                            elem2.find(".fyre-comment-username").css("display", "block");
                            elem2.find(".GNCommFooter").css("display", "flex");
                            elem2.find(".GNCommEditBox").css("display", "none");
                            elem2.find(".GNCommFooterEditMenu").css("display", "none");

                            //elem.parent().parent().parent().parent().find(".GNCommMessageDisplayRight").css("display", "block");
                            //elem.parent().parent().parent().parent().find(".GNCommMention").css("display", "inline-block");
                            //elem.parent().parent().parent().parent().find(".fyre-comment-body").css("display", "block");
                            //elem.parent().parent().parent().parent().find(".fyre-comment-username").css("display", "block");
                            //elem.parent().parent().parent().parent().find(".GNCommFooter").css("display", "flex");
                            //elem.parent().parent().parent().parent().find(".GNCommEditBox").css("display", "none");
                            //elem.parent().parent().parent().parent().find(".GNCommFooterEditMenu").css("display", "none");
                        }
                        $(".GNCommFooterEditMenuEdit").unbind().click(function (event) {
                            //console.log("Edit: " + $(this).parent().parent().parent().attr("id"));
                            // show edit box
                            if ($(this).parent().parent().parent().parent().find(".GNCommEditBox").is(':visible')) {
                                GNCommHideEditBox($(this));
                            } else {
                                $(this).parent().parent().parent().parent().find(".GNCommMessageDisplayRight").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".GNCommMention").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".fyre-comment-body").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".fyre-comment-username").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".GNCommFooter").css("display", "none");
                                $(this).parent().parent().parent().parent().find(".GNCommEditBox").css("display", "block");
                                $(this).parent().parent().parent().parent().find(".GNCommFooterEditMenu").css("display", "none");
                            }
                        });
                        $(document).on('keyup', '.GNCommEditBoxTextArea', function (event) {
                            var key = event.which;
                            if (key == 13) {
                                if ($(this).is(':visible')) {
                                    //console.log("Save: " + $(this).parent().parent().parent().attr("id"));
                                    var GNCommEditedInP = "<p>" + $(this).parent().parent().parent().find(".GNCommEditBoxTA").val() + "</p>";
                                    GNCommEditPost($(this).parent().parent().parent().attr("data-message-id"), GNCommEditedInP);
                                    $(this).parent().parent().parent().attr("data-message-html", GNComm_htmlEncode(GNCommEditedInP));
                                    GNCommHideEditBox($(this));
                                    event.stopPropagation();
                                }
                            }
                        });
                        $(".GNCommEditBoxSave").unbind().click(function (event) {
                            //console.log("Save: " + $(this).parent().parent().parent().attr("id"));
                            var GNCommEditedInP = "<p>" + $(this).parent().parent().parent().find(".GNCommEditBoxTA").val() + "</p>";
                            GNCommEditPost($(this).parent().parent().parent().attr("data-message-id"), GNCommEditedInP);
                            $(this).parent().parent().parent().attr("data-message-html", GNComm_htmlEncode(GNCommEditedInP));
                            GNCommHideEditBox($(this));
                        });
                        $(".GNCommEditBoxCancel").unbind().click(function (event) {
                            GNCommHideEditBox($(this));
                        });
                        //GNCommEditBoxSave
                        //GNCommEditBoxCancel//hide edit
                        $(".GNCommFooterEditMenuDelete").unbind().click(function (event) {
                            //console.log("Delete: " + $(this).parent().parent().parent().attr("id"));
                            // show confirm delete box
                            $(".GNCommDeleteOverlay").css("display", "block");
                            $(".GNCommFooterEditMenu").css("display", "none");
                            $("#GNCommDeleteOverlayButton").attr("data-content-id", $(this).parent().parent().parent().parent().parent().attr("data-message-id"));
                        });
                        $("#GNCommDeleteOverlayButton").unbind().click(function (event) {
                            // delete post
                            GNCommDelete($(this).attr("data-content-id"));
                            $(".GNCommDeleteOverlay").css("display", "none");
                        });
                        $("#GNCommDeleteOverlayClose").unbind().click(function (event) {
                            $(".GNCommDeleteOverlay").css("display", "none");
                        });
                    } else {
                        // Legacy Locked Comments
                        $("#GNCommFooterBaseLocked").clone(false).attr("id", "GNCommFooter" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                        $("#GNCommMessageDisplayBase").clone(false).attr("id", "GNCommMessageDisplay" + $(this).closest(".fyre-comment-article").attr("data-message-id")).css("display", "none").insertAfter($(this));
                    }


                    // Flag for both styles
                    $(".GNCommFooterFlag").unbind().click(function (event) {
                        if (isGNILoggedIn()) {
                            // show flag box
                            $(".GNCommFlagOverlay").css("display", "block");
                            $("#GNCommFlagOverlayButton").attr("data-content-id", $(this).parent().parent().parent().attr("data-message-id"));
                        } else {
                            if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                                var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + $(this).closest(".fyre-comment-article").attr("data-message-id") + "']");
                                GNCommFoundItem.find(".fyre-comment-footer").first().before($("#GNCommPleaseVerify"));
                                $("#GNCommPleaseVerify").css("display", "block");
                            } else {
                                var GNCommFoundItem = $(".fyre-comment-article[data-message-id='" + $(this).closest(".fyre-comment-article").attr("data-message-id") + "']");
                                GNCommFoundItem.find(".fyre-comment-footer").first().before($("#GNCommSignUpOrLogIn"));
                                $("#GNCommSignUpOrLogIn").css("display", "block");
                            }
                        }
                    });
                    $("#GNCommFlagOverlayButton").unbind().click(function (event) {
                        // flag post
                        GNCommFlag($(this).attr("data-content-id"), $(this).attr("data-flag-type"));
                        //console.log("Flag: " + $(this).attr("data-content-id") + ":" + $(this).attr("data-flag-type"));
                        $(".GNCommFlagOverlayStep1").css("display", "none");
                        $(".GNCommFlagOverlayStep2").css("display", "block");
                    });
                    $("#GNCommFlagOverlayButtonClose").unbind().click(function (event) {
                        $(".GNCommFlagOverlay").css("display", "none");
                        GNCommUncheckFlags();
                        //$("#GNCommFlagOverlayButton").css("opacity", ".2");
                        //$("#GNCommFlagOverlayButton").css("pointer-events", "none");
                        $(".GNCommFlagOverlayStep1").css("display", "block");
                        $(".GNCommFlagOverlayStep2").css("display", "none");
                    });
                    $("#GNCommFlagOverlayClose").unbind().click(function (event) {
                        $(".GNCommFlagOverlay").css("display", "none");
                        GNCommUncheckFlags();
                        //$("#GNCommFlagOverlayButton").css("opacity", ".2");
                        //$("#GNCommFlagOverlayButton").css("pointer-events", "none");
                        $(".GNCommFlagOverlayStep1").css("display", "block");
                        $(".GNCommFlagOverlayStep2").css("display", "none");
                    });
                    function GNCommUncheckFlags() {
                        $("#GNCommFlag1").attr('checked', false);
                        $("#GNCommFlag2").attr('checked', false);
                        $("#GNCommFlag3").attr('checked', false);
                        $("#GNCommFlag1").prop('checked', false);
                        $("#GNCommFlag2").prop('checked', false);
                        $("#GNCommFlag3").prop('checked', false);
                    }
                    function GNCommCheckFlag(boxNum) {
                        switch (boxNum) {
                            case 1:
                                $("#GNCommFlag1").attr('checked', true);
                                $("#GNCommFlag1").prop('checked', true);
                                $("#GNCommFlagOverlayButton").attr("data-flag-type", "off-topic");
                                break;
                            case 2:
                                $("#GNCommFlag2").attr('checked', true);
                                $("#GNCommFlag2").prop('checked', true);
                                $("#GNCommFlagOverlayButton").attr("data-flag-type", "offensive");
                                break;
                            case 3:
                                $("#GNCommFlag3").attr('checked', true);
                                $("#GNCommFlag3").prop('checked', true);
                                $("#GNCommFlagOverlayButton").attr("data-flag-type", "spam");
                                break;
                        }

                        // show report button
                        //$("#GNCommFlagOverlayButton").css("opacity", "1");
                        //$("#GNCommFlagOverlayButton").css("pointer-events", "all");
                    }
                    $("#GNCommFlag1").unbind().click(function (event) {
                        GNCommUncheckFlags();
                        GNCommCheckFlag(1);
                    });
                    $("#GNCommFlag2").unbind().click(function (event) {
                        GNCommUncheckFlags();
                        GNCommCheckFlag(2);
                    });
                    $("#GNCommFlag3").unbind().click(function (event) {
                        GNCommUncheckFlags();
                        GNCommCheckFlag(3);
                    });
                    $(".GNCommFlagOverlayBodyText").unbind().click(function (event) {
                        GNCommUncheckFlags();
                        switch ($(this).parent().find("input").attr("id")) {
                            case "GNCommFlag1":
                                GNCommCheckFlag(1);
                                break;
                            case "GNCommFlag2":
                                GNCommCheckFlag(2);
                                break;
                            case "GNCommFlag3":
                                GNCommCheckFlag(3);
                                break;
                        }
                    });

                }
            }
        });
    }
    function addThirdLevelMentions() {
        $(".fyre-comment-wrapper").each(function () {
            if (!$(this).hasClass("hasMention")) {
                //console.log("GNComm:addThirdLevelMentions");
                GNCommGetItemData($(this).parent().attr("data-message-id"));
                $(this).addClass("hasMention");
            }
        });
    }
    function writeLFMessageBodyHTML(item, body) {
        $('article[data-message-id=' + item + ']').each(function () {
            var encodedBody = GNComm_htmlEncode(body);
            $(this).attr("data-message-html", encodedBody);
            var GNCommEditBody = body.replace("<p>", "").replace("</p>", "");
            $(this).find(".GNCommEditBoxTA").val(GNCommEditBody);
            //var bodyElem = $.parseHTML(body);

            //if (bodyElem.length > 0) {
            //    $(this).attr("data-message-html", GNComm_htmlEncode(bodyElem[0].innerText));
            //    $(this).find(".GNCommEditBoxTA").val(GNComm_htmlEncode(bodyElem[0].innerText));
            //} else {
            //    console.log("body: " + body);
            //}
        });
    }
    function writeThirdLevelMentions(item, parent) {
        var mentionName = "";
        // find fyre-comment-article with data-message-id = parent
        $('article[data-message-id=' + parent + ']').each(function () {
            // find fyre-comment-username
            mentionName = $(this).find(".fyre-comment-username").html();
            // strip :
            if (mentionName != undefined) {
                mentionName = mentionName.replace(":", "");
                // find fyre-comment-article with data-message-id = item
                $('article[data-message-id=' + item + ']').each(function () {
                    // add <span class="GNCommMention">e e</span> after fyre-comment-username
                    $("<span class='GNCommMention'>&nbsp;to " + mentionName + "</span>").insertAfter($(this).find(".fyre-comment-username"));
                    $(this).find(".GNCommMessageDisplayTMention").html("&nbsp;to " + mentionName);
                    $(this).find(".GNCommMessageDisplayTMention").css("display", "inline");
                    // add bodyHTML as data attr
                });
            }
        });
    }
    function moveDate() {
        $("time.fyre-comment-date").each(function () {
            if (!$(this).hasClass("dateMoved")) {
                //console.log("GNComm:moveDate");
                $(this).addClass("dateMoved");
                var tdate = $(this).text();
                tdate = tdate.replace(' ago', '');
                if (tdate.search('day') == -1) {
                    var comDate = new Date(tdate);
                    var diff = Math.abs(new Date() - comDate);
                    var daysCom = Math.floor(diff / days);
                    var monthsCom = Math.floor(diff / month);
                    if (daysCom < 30) {
                        tdate = daysCom.toString() + " days";
                    } else if (monthsCom == 1) {
                        tdate = "a month";
                    } else {
                        tday = monthsCom.toString() + " months";
                    }
                }
                $(this).text(tdate);
                //$(this).parent().nextAll("footer").children("a").append("<span class='fyre-comment-date'>" + tdate + "</span>");
                $("<span class='fyre-comment-date'>" + tdate + "</span>").insertAfter($(this).parent().parent().find('.fyre-comment-reply'));
                $(this).parent().parent().find(".GNCommDisplayTime").html(tdate);
                $(this).css("display", "none");
            }
        });

    }
    function makePost() {
        //var ta = document.getElementsByClassName("fyre-editor-field");
        //$(".fyre-editor-field").unbind("keyup", fyre.conv.Xk);
        $(".fyre-editor-field").each(function () {

            var id = $(this).attr('id');


            document.getElementById(id).addEventListener('keypress', function (event) {
                //event.stopPropagation();
                //return false;
            }, true);
            document.getElementById(id).addEventListener('keydown', function (event) {
                //event.stopPropagation();
                //return false;
            }, true);

            document.getElementById(id).addEventListener('keyup', function (event) {
                var key = event.which;
                if (key == 13) {
                    if (!isGNILoggedIn()) {
                        if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                            //console.log("logged in but not verified");
                            //$("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
                            $("#GNCommPleaseVerify").css("display", "block");
                        } else {
                            //MenuS45_OpenSignIn();
                            $("#GNCommSignUpOrLogIn").css("display", "block");
                        }
                    }
                    //$(".goog-inline-block .fyre-button-right-inner-box").click();
                    // goog-inline-block fyre-button-right fyre-post-button fyre-post-button-new
                    //$("div#:nd.goog-inline-block.fyre-button-right.fyre-post-button.fyre-post-button-new").keypress(event);
                    $("#\\:nd").keypress(event);
                    $("#\\:nd").click();
                    //$(".goog-toolbar .goog-toolbar-horizontal").mouseup();
                    return false;
                }
                //$(this).css("height", "50px");
                //event.stopPropagation();
                //autoGrowTextArea($(this));
                //return false;
            }, true);

        });
    }
    function showEditDelete() {
        //fyre-delete-link
        $(".fyre-comment-wrapper").each(function () {
            if ($(this).find(".fyre-delete-link").length > 0) {
                if ($(this).find(".GNCommFooterEdit").attr("data-fyre-username") != GNCommdisplayName) {
                    //console.log("GNComm:showEditDelete");
                    $(this).find(".GNCommFooterEdit").css("display", "inline-block");
                    $(this).find(".GNCommFooterEdit").attr("data-fyre-username", GNCommdisplayName);
                    if ($(this).find(".fyre-comment-edit-interval").length == 0) {
                        //disable edit
                        $(this).find(".GNCommFooterEditMenuEdit").css("opacity", ".2");
                        $(this).find(".GNCommFooterEditMenuEdit").css("pointer-events", "none");
                        $(this).find(".GNCommFooterEditMenuEdit").css("cursor", "default");
                        $(this).find(".GNCommFooterEditMenuEdit").css("display", "none");
                        $(this).find(".GNCommFooterEditMenu").css("height", "40px");
                        $(this).find(".GNCommFooterEditMenu").css("margin-top", "-65px");
                        $(this).find(".GNCommFooterEditMenuArrow").css("margin-top", "26px");
                        $(this).find(".GNCommFooterEditMenuWhiteBox").css("margin-top", "-4px");
                    }
                }
            } else {
                $(this).find(".GNCommFooterEdit").css("display", "none");
            }
        });
    }
    function getLikeCount() {
        $(".fyre-comment-wrapper").each(function () {
            if ($(this).find(".heartNum").html() != $(this).find(".fyre-comment-like-count").html() && $(this).find(".heartNum").attr("data-manual-set") != "true") {
                //console.log("GNComm:getLikeCount");
                $(this).find(".heartNum").html($(this).find(".fyre-comment-like-count").html());
                if ($(this).find(".fyre-comment-like-btn:first").text() == "Like") {
                    $(this).find(".heartDiv").removeClass("on");
                } else {
                    $(this).find(".heartDiv").addClass("on");
                }
            }
        });
    }
    function cleanPosts() {
        //console.log("GNComm:Post:CleanPosts:Time:" + GNCommGetTimeCheck());
        addGNLFFooter();
        moveDate();
        getLikeCount();
        showEditDelete();
        addThirdLevelMentions();
        GNCommSetFooter();
        GNCommMoveAvatar();
        GNCommMoveNames();
        GNCommMoveBody();
        GNCommShowLegacy();
        GNCommAnimateWaiting();
        GNCommCountDisplayed();
    }
    function GNCommAnimateWaiting() {
        if ($(".GNCommWaitingDots").is(':visible')) {
            //console.log("GNComm:GNCommAnimateWaiting");
            if ($(".GNCommWaitingDots").html() == ".") {
                $(".GNCommWaitingDots").html("..");
            } else if ($(".GNCommWaitingDots").html() == "..") {
                $(".GNCommWaitingDots").html("...");
            } else if ($(".GNCommWaitingDots").html() == "...") {
                $(".GNCommWaitingDots").html(".");
            }
        }
    }
    function GNCommCountDisplayed() {
        //$(".scoshare").html(addcomment(GNCommActiveCommentsNumber));
        if ($(".GNCommForm").attr("data-counted") != "done" && $(".fyre-stream-more").is(':visible')) {
            //console.log("GNCommCountDisplayed");
            $(".GNCommForm").attr("data-counted", "done");
            GNCommDisplayedCommentsNumber = 0;
            $(".fyre-comment-wrapper").each(function () {
                if ($(this).is(':visible')) {
                    //console.log("GNComm:GNCommCountDisplayed");
                    GNCommDisplayedCommentsNumber += 1;
                }
            });
            $(".fyre-stream-more .fyre-buttonT").text("Open Comments (" + (GNCommActiveCommentsNumber - GNCommDisplayedCommentsNumber) + ")");
            //console.log("GNCommCountDisplayed:" + GNCommActiveCommentsNumber + ":" + GNCommDisplayedCommentsNumber + ":" + (GNCommActiveCommentsNumber - GNCommDisplayedCommentsNumber));
            if ((GNCommActiveCommentsNumber - GNCommDisplayedCommentsNumber) < 1) {
                $(".fyre-buttonT").css("display", "none");
            } else {
                $(".fyre-buttonT").css("display", "block");
            }
        }
    }
    function GNCommShowLegacy() {
        if ($(".fyre-stream-more").is(':visible')) {
            if (GNCommShowLegacyState != "off") {
                //console.log("GNComm:GNCommShowLegacy");
                $(".commentsLocked").css("display", "none");
                GNCommShowLegacyState = "off";
            }
        } else {
            if (GNCommShowLegacyState != "on") {
                //console.log("GNComm:GNCommShowLegacy");
                $(".commentsLocked").css("display", "block");
                GNCommShowLegacyState = "on";
            }
        }
    }
    function GNCommMoveNames() {
        $(".fyre-comment-wrapper").each(function () {
            if ($(this).find(".GNCommMessageDisplayTName").length && $(this).find(".fyre-comment-username").length) {
                if ($(this).find(".GNCommMessageDisplayTName").html() != $(this).find(".fyre-comment-username").text()) {
                    //console.log("GNComm:GNCommMoveNames");
                    $(this).find(".GNCommMessageDisplayTName").html($(this).find(".fyre-comment-username").text());
                }
            }
        });
    }
    function GNCommMoveBody() {
        $(".fyre-comment-wrapper").each(function () {
            if ($(this).find(".GNCommMessageDisplayTBody").length) {
                encodedHTML = $(this).parent().attr("data-message-html");
                if ($(this).find(".GNCommMessageDisplayTBody").attr("data-message-html") != encodedHTML && $(this).is(':visible')) {

                    try {
                        //console.log("GNComm:GNCommMoveBody");
                        //console.log("MB:" + $(this).find(".GNCommMessageDisplayTBody").attr("data-message-html") + ":" + encodedHTML);
                        decodedHTML = decodeURI(encodedHTML);
                        parsedHTML = $.parseHTML(decodedHTML);
                        parsedHTML2 = $.parseHTML(parsedHTML[0].textContent);
                        $(this).find(".GNCommMessageDisplayTBody").html(parsedHTML2);
                        $(this).find(".GNCommMessageDisplayTBody").attr("data-message-html", encodedHTML);
                        if (encodedHTML == "&lt;p&gt;** Comment is Spam **&lt;/p&gt;" || encodedHTML == "&lt;p&gt;** Comment Deleted **&lt;/p&gt;") {
                            $(this).css("display", "none");
                        } else {
                            $(this).css("display", "block");
                        }
                        $(this).find(".GNCommMessageDisplay").css("display", "block");
                        $(this).find(".GNCommFooter").css("display", "flex");
                        $("#GNCommWaitingtop").css("display", "none");
                        $(".fyre-comment-article").find(".GNCommWaiting").css("display", "none");
                        //console.log("GNComm:Post:DISPLAY:Time:" + GNCommGetTimeCheck());
                    } catch (e) {
                        $(this).find(".GNCommMessageDisplayTBody").html("<p>error displaying this message text</p>");
                        $(this).find(".GNCommMessageDisplayTBody").attr("data-message-html", encodedHTML);
                        if (encodedHTML == "&lt;p&gt;** Comment is Spam **&lt;/p&gt;" || encodedHTML == "&lt;p&gt;** Comment Deleted **&lt;/p&gt;") {
                            $(this).css("display", "none");
                        } else {
                            $(this).css("display", "block");
                        }
                        $(this).find(".GNCommMessageDisplay").css("display", "block");
                        $(this).find(".GNCommFooter").css("display", "flex");
                        $("#GNCommWaitingtop").css("display", "none");
                        $(".fyre-comment-article").find(".GNCommWaiting").css("display", "none");
                        console.log("GNComm:Post:ERROR:Time:" + GNCommGetTimeCheck());
                    }
                }
            }
        });
    }
    function GNCommMoveAvatar() {
        $(".fyre-comment-wrapper").each(function () {
            //if (!$(this).hasClass("hasAvatar")) {
            //    $(this).addClass("hasAvatar");
            //}
            if ($(this).find(".GNCommMessageDisplayAvatarImg").attr("src") != $(this).find(".fyre-user-avatar").attr("src")) {
                //console.log("GNComm:GNCommMoveAvatar");
                $(this).find(".GNCommMessageDisplayAvatarImg").attr("src", $(this).find(".fyre-user-avatar").attr("src"));
                $(this).find(".GNCommMessageDisplayAvatarImg").attr("alt", $(this).find(".fyre-user-avatar").attr("alt"));
            }
        });
    }
    function alignReplies() {
        $(".fyre-comment-container").each(function () {
            if ($(this).parent().parent().parent().hasClass('fyre-stream-content')) {
                $(this).css("margin-left", "37px");
            } else {
                $(this).css("margin-left", "0px");
            }
        });
    }
    function GNCommSetFooter() {
        // check if there are any comments
        if ($(".fyre-comment-wrapper")[0]) {
            // Do something if class exists
            if (GNCommSetFooterState != "off") {
                //console.log("GNComm:GNCommSetFooter");
                $(".GNCommBeTheFirst").css("display", "none");
                //$(".commentsLocked").css("display", "block");
                GNCommSetFooterState = "off";
            }
        } else {
            // Do something if class does not exist
            if (GNCommSetFooterState != "on") {
                //console.log("GNComm:GNCommSetFooter");
                $(".GNCommBeTheFirst").css("display", "block");
                //$(".commentsLocked").css("display", "none");
                GNCommSetFooterState = "on";
            }
        }
    }
    var numcommentsLF = 42;
    var heartSVG = '<div class="heartDiv"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" height="12" width="12" viewBox="0 -28.234 600 600" role="img"><path d="M300.003,543.532L53.555,297.104c-68.681-65.205-71.726-174.126-6.69-243.066C79.262,19.696,124.929,0,172.154,0 c44.1,0,86.062,16.674,118.156,46.948c2.233,2.096,4.459,4.307,6.716,6.68l2.978,2.976l2.967-2.966 C335.35,19.543,380.847,0,427.886,0c44.097,0,86.06,16.672,118.158,46.944c69.068,65.152,72.25,174.359,7.1,243.445 c-2.191,2.316-4.426,4.555-6.681,6.701L300.003,543.532z"></path></svg></div>';
    jQuery.fn.reverse = [].reverse;
    // https://answers.livefyre.com/developers/reference/app-customizations/javascript-events/#showMore
    function lfInitialRenderComplete(data) {
        //alignReplies();
        $(".fyre-editor").first().css("display", "none");
        $(".fyre-stream-more").css("background", "transparent");
        $(".fyre-stream-more-container").addClass("fyre-buttonM");
        $(".fyre-stream-more .fyre-text").addClass("fyre-buttonT");
        $(".fyre-stream-more .fyre-text").removeClass("fyre-text");
        //$(".fyre-stream-more .fyre-buttonT").text(numcommentsLF);
        GNCommCountDisplayed();
        $(".GNCommDeleteOverlay").insertBefore(".AH_Holder");
        $(".GNCommFlagOverlay").insertBefore(".AH_Holder");
        $(".fyre-comment-stream").append($(".commentsLocked"));
        

        $(document).on('click', '.fyre-buttonT', function (event) {
            // this never gets called
            setTimeout(function () {
                cleanPosts();
            }, 300);
        });

        $(document).on('click', '.GNCommPleaseVerifyT2', function (event) {
            resendVerifyLink();
            $(".GNCommPleaseVerifyT2").css("opacity", ".2");
            $(".GNCommPleaseVerifyT2").delay(1500).animate({ 'opacity': 1 }, 1000);
        });

        $(document).on('click', '.GNCommSignUpOrLogInSU', function (event) {
            MenuS45_OpenSignUp();
            omnihelpers.signupPath("Comments");
        });
        $(document).on('click', '.GNCommSignUpOrLogInLI', function (event) {
            MenuS45_OpenSignIn();
            omnihelpers.signupPath("Comments");
        });
        

        $(document).on('click', '.fyre-stream-content', function (event) {
            if (currentUserActive == "true" && currentUserData.IsApproved == "false") {
                //console.log("logged in but not verified");
                //$("#GNCommWaitingtop").after($("#GNCommPleaseVerify"));
                $("#GNCommPleaseVerify").css("display", "block");
            } else {
                if (currentUserActive != "true") {
                    //MenuS45_OpenSignIn();
                    $("#GNCommSignUpOrLogIn").css("display", "block");
                }
            }
        });
        $(document).on('click', '.GNCommNotificationBoxClose', function (event) {
            GNCommHideNotifications();
        });
        $(document).on('click', '.GNComm_SignIn_BodyLink', function (event) {
            hideAuthHolders();
        });

        $(document).on('click', '.GNComm_LegacyRO_BoxClose', function (event) {
            $(this).parent().css("display", "none");
            GNCommOverLocked = false;
            setTimeout(function () {
                if (GNCommOverLocked != true) {
                    $(".GNComm_LegacyRO_Box").css("display", "none");
                }
            }, 500);
        });

        $(document).on('click', '.GNCommFooterLocked', function (event) {
            $(".GNComm_LegacyRO_Box").css("display", "none");
            $(this).parent().find(".GNComm_LegacyRO_Box").css("display", "block");
        });
        $(document).on('mouseenter', '.GNCommFooterLocked', function (event) {
            GNCommOverLocked = true;
            $(".GNComm_LegacyRO_Box").css("display", "none");
            $(this).parent().find(".GNComm_LegacyRO_Box").css("display", "block");
        });
        $(document).on('mouseleave', '.GNCommFooterLocked', function (event) {
            setTimeout(function () {
                if (GNCommOverLocked != true) {
                    $(".GNComm_LegacyRO_Box").css("display", "none");
                }
            }, 500);
            GNCommOverLocked = false;
        });
        $(document).on('mouseenter', '.GNComm_LegacyRO_Box', function (event) {
            GNCommOverLocked = true;
        });
        $(document).on('mouseleave', '.GNComm_LegacyRO_Box', function (event) {
            $(".GNComm_LegacyRO_Box").css("display", "none");
            GNCommOverLocked = false;
        });

        $(document).on('click', '.GNComm_LegacyRO_BoxT2', function (event) {
            window.location.href = '/Contact-Bill-Gates';
        });

        setTimeout(function () {

            $('#livefyre-tablet .fyre-stream-content').css('display', 'flex');
            $('#livefyre-tablet .fyre-stream-content').css('flex-direction', 'column-reverse');
            $('#livefyre-tablet .fyre-stream-content').parent().css('overflow-y', 'auto');

            if (false) { // !elementSupportsAttribute('div', 'placeholder')) {
                // Fallback for browsers that don't support HTML5 placeholder attribute
                $(".fyre-editor-container .fyre-editor-field")
                    .text("Add a nice comment…")
                    .data("originalText", $(".fyre-editor-container .fyre-editor-field").text())
                    .css("color", "#d3d3d3")
                    .focus(function () {
                        var $el = $(this);
                        if (this.value == $el.data("originalText")) {
                            this.value = "";
                        }
                    })
                    .blur(function () {
                        if (this.value == "") {
                            this.value = $(this).data("originalText");
                        }
                    });
            }

            cleanPosts();

        }, 100);
        setInterval(cleanPosts, 1000);
    }
</script>
</div>
</div>
                </div>
                <br>
                <br>
                <br>
            

        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
</body>